!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){(function(t){var e={name:"Data Driven Drawings",math:i(1),Transform:i(1).Transform,random:i(1).random,getPercent:i(1).getPercent,sizeFromPercentage:i(1).sizeFromPercentage,canvas:i(2),html:i(3),yearsMenu:i(3).yearsMenu,resetCurrent:i(3).resetCurrent,Map:i(4),DataRequest:i(5).DataRequest,json:i(5).json,color:i(6),hexToRgb:i(6).hexToRgb,rgbToHex:i(6).rgbToHex,convertAlpha:i(6).convertAlpha};t.DDD=e}).call(e,function(){return this}())},function(t,e){function i(t,e,i){var s=Math.floor(Math.random()*(e-t))+t;return i&&(s=Math.random()*(e-t)+t),s}function s(t,e){return t/100*e}function n(t,e){return t/e*100}function o(){this.reset()}var r={PI:Math.PI,TWO_PI:2*Math.PI,QUARTER_PI:Math.PI/4,toRad:Math.PI/180,random:i,Transform:o,sizeFromPercentage:s,getPercent:n};t.exports=r,o.prototype.reset=function(){this.m=[1,0,0,1,0,0]},o.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],s=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],r=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=i,this.m[2]=s,this.m[3]=n,this.m[4]=o,this.m[5]=r},o.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,s=-this.m[2]*t,n=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),r=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=i,this.m[2]=s,this.m[3]=n,this.m[4]=o,this.m[5]=r},o.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),s=this.m[0]*e+this.m[2]*i,n=this.m[1]*e+this.m[3]*i,o=this.m[0]*-i+this.m[2]*e,r=this.m[1]*-i+this.m[3]*e;this.m[0]=s,this.m[1]=n,this.m[2]=o,this.m[3]=r},o.prototype.translate=function(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e},o.prototype.translateAndRotate=function(t,e,i){var s=Math.cos(i),n=Math.sin(i),o=this.m[0]*s+this.m[2]*n,r=this.m[1]*s+this.m[3]*n,h=this.m[0]*-n+this.m[2]*s,a=this.m[1]*-n+this.m[3]*s;this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this.m[0]=o,this.m[1]=r,this.m[2]=h,this.m[3]=a},o.prototype.scale=function(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e},o.prototype.transformPoint=function(t,e){var i=t,s=e;return t=i*this.m[0]+s*this.m[2]+this.m[4],e=i*this.m[1]+s*this.m[3]+this.m[5],[t,e]}},function(t,e){function i(t,e){var i=document.createElement("canvas"),s=i.getContext("2d");if(e=e||{},i.width=e.w||window.innerWidth,i.height=e.h||window.innerHeight,i.style.position=e.position||"absolute",i.style.top=e.top||0,i.style.left=e.left||0,i.style.zIndex=e.zi||9,e.css)for(var n in e.css)i.style[n]=e.css[n];return s.font=e.font||"12px Inconsolata",t&&t.appendChild(i),{container:t,canvas:i,w:i.width,h:i.height,ctx:s,center:{x:i.width/2,y:i.height/2}}}t.exports=i},function(t,e){function i(t,e,i,s,n){var o=document.createElement("ul"),r="";o.id="years",o.style.zIndex=99999;for(var h=t;e>=h;h++){var a=document.createElement("li"),m=document.createTextNode(h);h===i&&(a.className="current",r=a),a.appendChild(m),o.appendChild(a),a.addEventListener("click",s,!1)}n(o,r)}function s(t,e,i){i=i||"current",t.classList.remove(i),e.classList.add(i)}var n={yearsMenu:i,resetCurrent:s};t.exports=n},function(t,e,i){function s(t){var e=t.width||window.innerWidth,i=t.height||window.innerHeight,s=t.zoom||11;t.center?this.center={lon:t.center.lon,lat:t.center.lat}:this.center={},this.hasCenter=null,this.updateSize(e,i,s)}var n=i(1);s.prototype.updateSize=function(t,e,i){this.stageWidth=t,this.stageCenterY=e/2,this.zoom=i||this.zoom,this.zoomX=this.stageWidth*this.zoom,this.zoomY=this.stageCenterY*this.zoom,this.zoomRad=this.zoomX/360,this.newCenter(this.center.lon,this.center.lat)},s.prototype.newCenter=function(t,e){this.hasCenter=!1,this.convertCoordinates(t,e),this.hasCenter=!0},s.prototype.convertCoordinates=function(t,e){var i=+e*n.toRad,s=Math.log(Math.tan(n.QUARTER_PI+i/2)),o=(+t+180)*this.zoomRad,r=this.zoomY-this.zoomX*s/n.TWO_PI;return this.hasCenter?(o-=this.center.x,r-=this.center.y):(this.center.x=o,this.center.y=r),{x:o,y:r}},t.exports=s},function(t,e){function i(){this.oReq=new XMLHttpRequest}function s(t,e,s){var n=new i;n.json(t,e,s)}i.prototype.abort=function(){this.oReq.abort()},i.prototype.json=function(t,e,i){this.getD(t,e,i,"application/json")},i.prototype.getD=function(t,e,i,s){this.oReq.open("GET",t,!0),s&&this.oReq.overrideMimeType(s),this.oReq.onreadystatechange=function(){if(4==this.oReq.readyState)if("200"==this.oReq.status){var t=JSON.parse(this.oReq.responseText);e(t,i)}else console.log("Error loading data.")}.bind(this),this.oReq.send()},t.exports={DataRequest:i,json:s}},function(t,e){function i(t,e,i){return"0x"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)}function s(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,s){return e+e+i+i+s+s});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}function n(t){var e=255/t,i=1/e;return i}function o(t,e){return"rgba("+t.r+","+t.g+","+t.b+","+e+")"}var r={hexToRgb:s,rgbToHex:i,convertAlpha:n,getRGBA:o};t.exports=r}]);