!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){(function(t){var e={name:"Data Driven Drawings",math:i(1),Transform:i(1).Transform,random:i(1).random,getPercent:i(1).getPercent,sizeFromPercentage:i(1).sizeFromPercentage,canvas:i(2),html:i(3),yearsMenu:i(3).yearsMenu,resetCurrent:i(3).resetCurrent,base64:i(3).base64,Map:i(4),DataRequest:i(5).DataRequest,json:i(5).json,image:i(5).image,color:i(6),hexToRgb:i(6).hexToRgb,rgbToHex:i(6).rgbToHex,convertAlpha:i(6).convertAlpha,Audio:i(7)};t.DDD=e}).call(e,function(){return this}())},function(t,e){function i(t,e,i){var n=Math.floor(Math.random()*(e-t))+t;return i&&(n=Math.random()*(e-t)+t),n}function n(t,e){return t/100*e}function o(t,e){return t/e*100}function s(){this.reset()}var r={PI:Math.PI,TWO_PI:2*Math.PI,QUARTER_PI:Math.PI/4,toRad:Math.PI/180,random:i,Transform:s,sizeFromPercentage:n,getPercent:o};t.exports=r,s.prototype.reset=function(){this.m=[1,0,0,1,0,0]},s.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],r=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=o,this.m[4]=s,this.m[5]=r},s.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,n=-this.m[2]*t,o=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),r=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=o,this.m[4]=s,this.m[5]=r},s.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.m[0]*e+this.m[2]*i,o=this.m[1]*e+this.m[3]*i,s=this.m[0]*-i+this.m[2]*e,r=this.m[1]*-i+this.m[3]*e;this.m[0]=n,this.m[1]=o,this.m[2]=s,this.m[3]=r},s.prototype.translate=function(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e},s.prototype.translateAndRotate=function(t,e,i){var n=Math.cos(i),o=Math.sin(i),s=this.m[0]*n+this.m[2]*o,r=this.m[1]*n+this.m[3]*o,a=this.m[0]*-o+this.m[2]*n,h=this.m[1]*-o+this.m[3]*n;this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this.m[0]=s,this.m[1]=r,this.m[2]=a,this.m[3]=h},s.prototype.scale=function(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e},s.prototype.transformPoint=function(t,e){var i=t,n=e;return t=i*this.m[0]+n*this.m[2]+this.m[4],e=i*this.m[1]+n*this.m[3]+this.m[5],[t,e]}},function(t,e){function i(t,e){var i=document.createElement("canvas"),n=i.getContext("2d");if(e=e||{},i.width=e.w||window.innerWidth,i.height=e.h||window.innerHeight,i.style.position=e.position||"absolute",i.style.top=e.top||0,i.style.left=e.left||0,i.style.zIndex=e.zi||9,e.css)for(var o in e.css)i.style[o]=e.css[o];return n.font=e.font||"12px Inconsolata",t&&t.appendChild(i),{container:t,canvas:i,w:i.width,h:i.height,ctx:n,center:{x:i.width/2,y:i.height/2}}}t.exports=i},function(t,e){function i(t,e,i,n,o){var s=document.createElement("ul"),r="";s.id="years",s.style.zIndex=99999;for(var a=t;e>=a;a++){var h=document.createElement("li"),c=document.createTextNode(a);a===i&&(h.className="current",r=h),h.appendChild(c),s.appendChild(h),h.addEventListener("click",n,!1)}o(s,r)}function n(t,e,i){i=i||"current",t&&t.classList.remove(i),e.classList.add(i)}function o(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",n=0;n<t.length;){var o,s,r=255&t.charCodeAt(n++),a=255&t.charCodeAt(n++),h=255&t.charCodeAt(n++),c=r>>2,m=(3&r)<<4|a>>4;isNaN(a)?o=s=64:(o=(15&a)<<2|h>>6,s=isNaN(h)?64:63&h),i+=e.charAt(c)+e.charAt(m)+e.charAt(o)+e.charAt(s)}return i}var s={yearsMenu:i,resetCurrent:n,base64:o};t.exports=s},function(t,e,i){function n(t){var e=t.width||window.innerWidth,i=t.height||window.innerHeight,n=t.zoom||11;t.center?this.center={lon:t.center.lon,lat:t.center.lat}:this.center={},this.hasCenter=null,this.updateSize(e,i,n)}var o=i(1);n.prototype.updateSize=function(t,e,i){this.stageWidth=t,this.stageCenterY=e/2,this.zoom=i||this.zoom,this.zoomX=this.stageWidth*this.zoom,this.zoomY=this.stageCenterY*this.zoom,this.zoomRad=this.zoomX/360,this.newCenter(this.center.lon,this.center.lat)},n.prototype.newCenter=function(t,e){this.hasCenter=!1,this.convertCoordinates(t,e),this.hasCenter=!0},n.prototype.convertCoordinates=function(t,e){var i=+e*o.toRad,n=Math.log(Math.tan(o.QUARTER_PI+i/2)),s=(+t+180)*this.zoomRad,r=this.zoomY-this.zoomX*n/o.TWO_PI;return this.hasCenter?(s-=this.center.x,r-=this.center.y):(this.center.x=s,this.center.y=r),{x:s,y:r}},t.exports=n},function(t,e){function i(){this.oReq=new XMLHttpRequest}function n(t,e,n,o,s,r){var a=new i;a.json(t,e,n,o,s)}function o(t,e,n,o,s,r){(new i).getD(t,e,n,"text/plain; charset=x-user-defined",o,s)}function s(t,e,n,o,s,r){(new i).getD(t,e,n,null,o,s,null,"arraybuffer")}i.prototype.abort=function(){this.oReq.abort()},i.prototype.json=function(t,e,i,n,o,s){this.getD(t,e,i,"application/json",n,o,s)},i.prototype.getD=function(t,e,i,n,o,s,r,a){function h(t){if(t.lengthComputable){f||(u=o.querySelector(".progress"),u||(u=document.createElement("progress"),u.className="progress",u.style.zIndex=0,u.max=100,u.value=0,r.insertBefore(u,d),f=!0));var e=t.loaded/t.total*100;u.value=e,d.innerText=Math.floor(e)+"%\n"+s}else this.oReq.onprogress=null}function c(){l||(r.style.opacity=0),r.style.zIndex=0}function m(){r.style.opacity=1,r.style.zIndex=9,d=o.querySelector(".loading-msg"),d||(d=document.createElement("p"),d.className="loading-msg",d.innerText=s,r.appendChild(d))}var u,d;s=s||"",o=o||document.body;var l=!1,f=!1;r?(l=!0,r=r):(r=o.querySelector(".loading"),r||(r=document.createElement("div"),o.appendChild(r))),r.className="loading",this.oReq.onloadstart=m,this.oReq.onprogress=h.bind(this),this.oReq.onloadend=c,this.oReq.onload=function(){var t;t="arraybuffer"===a?this.oReq.response:this.oReq.responseText,"application/json"===n&&(t=JSON.parse(t)),e(t,i)}.bind(this),this.oReq.onerror=function(t){console.error("Error loading file",t)},this.oReq.onabort=function(){},this.oReq.open("GET",t,!0),n&&this.oReq.overrideMimeType(n),a&&(this.oReq.responseType=a),this.oReq.send(null)},t.exports={DataRequest:i,json:n,image:o,audio:s}},function(t,e){function i(t,e,i){return"0x"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)}function n(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}function o(t){var e=255/t,i=1/e;return i}function s(t,e){return"rgba("+t.r+","+t.g+","+t.b+","+e+")"}var r={hexToRgb:n,rgbToHex:i,convertAlpha:o,getRGBA:s};t.exports=r},function(t,e,i){var n=i(5).audio,o=function(t,e){function i(t,e){function i(t){if(!t)return void console.error("Error decoding audio file:",e);var i=this.ctx.createBufferSource();i.buffer=t,i.connect(this.gainNode),a[e]=i,o()}function n(t){console.error("decodeAudioData error",t)}var s=this;this.ctx.decodeAudioData(t,i.bind(s),n)}function o(){r++,r===s&&e(a)}if(!t||"[object Object]"!==Object.prototype.toString.call(t))return console.error("The first parameter needs to be an Object.","Example:","{audio1: 'audio1.mp3', audio2: 'audio2.mp3'}");window.AudioContext=window.AudioContext||window.webkitAudioContext;var s=Object.keys(t).length,r=0,a={};this.ctx=new AudioContext,this.gainNode=this.ctx.createGain(),this.oscillatorNode=this.ctx.createOscillator(),this.pannerNode=this.ctx.createPanner(),this.listenerNode=this.ctx.listener,this.oscillatorNode.connect(this.gainNode),this.gainNode.connect(this.ctx.destination);for(var h in t)n(t[h],i.bind(this),h,document.body,"Loading Audio")};o.prototype.source=function(t){var t=this.ctx.createBufferSource();return t.buffer=buffer,t.connect(this.gainNode),this.gainNode.connect(this.ctx.destination),t},t.exports=o}]);