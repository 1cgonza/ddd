!function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=21)}({0:function(module,exports,__webpack_require__){var factory;window,factory=function(){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s="./src/index.js")}({"./src/audio/index.js":
/*!****************************!*\
  !*** ./src/audio/index.js ***!
  \****************************/
/*! exports provided: Audio */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Audio\", function() { return Audio; });\n/* harmony import */ var _http_req__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../http/req */ \"./src/http/req.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar Audio =\n/*#__PURE__*/\nfunction () {\n  function Audio(audios, cb) {\n    _classCallCheck(this, Audio);\n\n    if (!audios || Object.prototype.toString.call(audios) !== '[object Object]') {\n      return console.error('The first parameter needs to be an Object.', 'Example:', \"{audio1: 'audio1.mp3', audio2: 'audio2.mp3'}\");\n    }\n\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    var total = Object.keys(audios).length;\n    var loaded = 0;\n    var retAudios = {};\n    this.ctx = new AudioContext();\n\n    for (var name in audios) {\n      Object(_http_req__WEBPACK_IMPORTED_MODULE_0__[\"audio\"])(audios[name], finishedLoading.bind(this), name, document.body, 'Loading Audio');\n    }\n\n    function finishedLoading(arrayBuffer, name) {\n      var a = this;\n      this.ctx.decodeAudioData(arrayBuffer, onSucess.bind(a), onError);\n\n      function onSucess(buffer) {\n        if (!buffer) {\n          console.error('Error decoding audio file:', name);\n          return;\n        }\n\n        var src = this.ctx.createBufferSource();\n        src.buffer = buffer;\n        retAudios[name] = src;\n        checkLoaded();\n      }\n\n      function onError(err) {\n        console.error('decodeAudioData error', err);\n      }\n    }\n\n    function checkLoaded() {\n      loaded++;\n\n      if (loaded === total) {\n        cb(retAudios);\n      }\n    }\n  }\n\n  _createClass(Audio, [{\n    key: \"source\",\n    value: function source(src) {\n      var src = this.ctx.createBufferSource();\n      src.buffer = buffer;\n      src.connect(this.gainNode);\n      this.gainNode.connect(this.ctx.destination);\n      return src;\n    }\n  }]);\n\n  return Audio;\n}();\n\n//# sourceURL=webpack://dddrawings/./src/audio/index.js?")},"./src/color/index.js":
/*!****************************!*\
  !*** ./src/color/index.js ***!
  \****************************/
/*! exports provided: rgbToHex, hexToRgb, convertAlpha, getRGBA */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgbToHex\", function() { return rgbToHex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hexToRgb\", function() { return hexToRgb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertAlpha\", function() { return convertAlpha; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRGBA\", function() { return getRGBA; });\nfunction rgbToHex(r, g, b) {\n  return '0x' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n} // http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n\nfunction hexToRgb(hex) {\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n    return r + r + g + g + b + b;\n  });\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}\nfunction convertAlpha(processingAlpha) {\n  var avg = 255 / processingAlpha;\n  var cssA = 1 / avg;\n  return cssA;\n}\nfunction getRGBA(c, a) {\n  return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + a + ')';\n}\n\n//# sourceURL=webpack://dddrawings/./src/color/index.js?")},"./src/html/canvas.js":
/*!****************************!*\
  !*** ./src/html/canvas.js ***!
  \****************************/
/*! exports provided: canvas */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canvas\", function() { return canvas; });\n/**\n * Create a canvas element, set style values and append it to the container if defined\n * Use Cases:\n * 1. DEFAULT: DDD.canvas(container);\n *\n * 2. STAGING: DDD.canvas(null, {});\n * (useful for staging canvases, render things on the side for performance optimization)\n *\n * 3. FULL:\n * DDD.canvas(container, {\n *   w: width, h: height,\n *   position: 'cssPosition',\n *   top: #css_top, left: #css_eft,\n *   zi: #css_z-index\n *   font: '12px fontName'\n * });\n *\n * @param {Element}   container          Element where canvas should be appended.\n * @param {Object}    options            Styling data:\n * @param {Number}    options.w          Width of canvas.\n * @param {Number}    options.h          Height of Canvas.\n * @param {String}    options.position   CSS position.\n * @param {Number}    options.top        CSS top.\n * @param {Number}    options.left       CSS left.\n * @param {Number}    options.zi         CSS z-index\n */\nfunction canvas(container, options) {\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext('2d');\n  options = options || {};\n  canvas.width = options.w || window.innerWidth;\n  canvas.height = options.h || window.innerHeight;\n  canvas.style.position = options.position || 'absolute';\n  canvas.style.top = options.top || 0;\n  canvas.style.left = options.left || 0;\n  canvas.style.zIndex = options.zi || 9;\n\n  if (options.css) {\n    for (var key in options.css) {\n      canvas.style[key] = options.css[key];\n    }\n  }\n\n  ctx.font = options.font || '12px Inconsolata';\n\n  if (container) {\n    container.appendChild(canvas);\n  }\n\n  return {\n    container: container,\n    canvas: canvas,\n    w: canvas.width,\n    h: canvas.height,\n    ctx: ctx,\n    center: {\n      x: canvas.width / 2,\n      y: canvas.height / 2\n    }\n  };\n}\n\n//# sourceURL=webpack://dddrawings/./src/html/canvas.js?")},"./src/html/index.js":
/*!***************************!*\
  !*** ./src/html/index.js ***!
  \***************************/
/*! exports provided: canvas, yearsMenu, resetCurrent, base64 */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"yearsMenu\", function() { return yearsMenu; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetCurrent\", function() { return resetCurrent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"base64\", function() { return base64; });\n/* harmony import */ var _canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./canvas */ \"./src/html/canvas.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"canvas\", function() { return _canvas__WEBPACK_IMPORTED_MODULE_0__[\"canvas\"]; });\n\n\n/**\n * @param {Number}    yearStart   First menu item\n * @param {Number}    yearEnd     Last menu item\n * @param {Number}    current     Default menu item to start with 'current' class\n * @param {Callback}  clickEvent  Name of the function to process the click events\n * @param {Callback}  callback    Name of the function for when the menu is ready\n */\n\nfunction yearsMenu(yearStart, yearEnd, current, clickEvent, callback) {\n  var yearsContainer = document.createElement('ul');\n  var currentYearBtn = '';\n  yearsContainer.id = 'years';\n  yearsContainer.style.zIndex = 99999;\n\n  for (var year = yearStart; year <= yearEnd; year++) {\n    var btn = document.createElement('li');\n    var label = document.createTextNode(year);\n\n    if (year === current) {\n      btn.className = 'current';\n      currentYearBtn = btn;\n    }\n\n    btn.appendChild(label);\n    yearsContainer.appendChild(btn);\n    btn.addEventListener('click', clickEvent, false);\n  }\n\n  callback(yearsContainer, currentYearBtn);\n}\nfunction resetCurrent(old, target, className) {\n  className = className || 'current';\n\n  if (old) {\n    old.classList.remove(className);\n  }\n\n  target.classList.add(className);\n} // This encoding function is from Philippe Tenenhaus's example at http://www.philten.com/us-xmlhttprequest-image/\n\nfunction base64(inputStr) {\n  var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  var outputStr = '';\n  var i = 0;\n\n  while (i < inputStr.length) {\n    //all three \"& 0xff\" added below are there to fix a known bug\n    //with bytes returned by xhr.responseText\n    var byte1 = inputStr.charCodeAt(i++) & 0xff;\n    var byte2 = inputStr.charCodeAt(i++) & 0xff;\n    var byte3 = inputStr.charCodeAt(i++) & 0xff;\n    var enc1 = byte1 >> 2;\n    var enc2 = (byte1 & 3) << 4 | byte2 >> 4;\n    var enc3;\n    var enc4;\n\n    if (isNaN(byte2)) {\n      enc3 = enc4 = 64;\n    } else {\n      enc3 = (byte2 & 15) << 2 | byte3 >> 6;\n\n      if (isNaN(byte3)) {\n        enc4 = 64;\n      } else {\n        enc4 = byte3 & 63;\n      }\n    }\n\n    outputStr += b64.charAt(enc1) + b64.charAt(enc2) + b64.charAt(enc3) + b64.charAt(enc4);\n  }\n\n  return outputStr;\n}\n\n//# sourceURL=webpack://dddrawings/./src/html/index.js?")},"./src/http/index.js":
/*!***************************!*\
  !*** ./src/http/index.js ***!
  \***************************/
/*! exports provided: json, image, audio, DataRequest */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _req__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./req */ "./src/http/req.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "json", function() { return _req__WEBPACK_IMPORTED_MODULE_0__["json"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "image", function() { return _req__WEBPACK_IMPORTED_MODULE_0__["image"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "audio", function() { return _req__WEBPACK_IMPORTED_MODULE_0__["audio"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataRequest", function() { return _req__WEBPACK_IMPORTED_MODULE_0__["DataRequest"]; });\n\n\n\n//# sourceURL=webpack://dddrawings/./src/http/index.js?')},"./src/http/req.js":
/*!*************************!*\
  !*** ./src/http/req.js ***!
  \*************************/
/*! exports provided: json, image, audio, DataRequest */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"json\", function() { return json; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"image\", function() { return image; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"audio\", function() { return audio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataRequest\", function() { return DataRequest; });\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction json(options) {\n  var req = new DataRequest();\n  return req.json(options);\n}\nfunction image(options) {\n  var o = new DataRequest();\n  o.req.overrideMimeType('text/plain; charset=x-user-defined');\n  return o.getD(options).then(function (res) {\n    if (res.ret !== undefined) {\n      return res;\n    } else {\n      return res.data;\n    }\n  })[\"catch\"](function (err) {\n    console.error(err);\n  });\n}\nfunction audio(options) {\n  var o = new DataRequest();\n  o.req.responseType = 'arraybuffer';\n  return o.getD(options).then(function (res) {\n    return res;\n  })[\"catch\"](function (err) {\n    console.error('Error fetching audio file', err);\n  });\n}\nvar DataRequest =\n/*#__PURE__*/\nfunction () {\n  function DataRequest() {\n    _classCallCheck(this, DataRequest);\n\n    this.req = new XMLHttpRequest();\n  }\n\n  _createClass(DataRequest, [{\n    key: \"abort\",\n    value: function abort() {\n      this.req.abort();\n    }\n  }, {\n    key: \"json\",\n    value: function json(options) {\n      this.req.overrideMimeType('application/json');\n      return this.getD(options).then(function (res) {\n        if (res.ret !== undefined) {\n          res.data = JSON.parse(res.data);\n          return res;\n        } else {\n          return JSON.parse(res.data);\n        }\n      })[\"catch\"](function (err) {\n        console.error('Error in data request, reason:', err);\n      });\n    }\n  }, {\n    key: \"getD\",\n    value: function getD(options) {\n      if (_typeof(options) === 'object') {\n        if (!options.url) {\n          console.error('The request did not receive a url, instead got', options.url);\n          return;\n        }\n      } else if (typeof options === 'string' && options.length > 0) {\n        options = {\n          url: options\n        };\n      }\n\n      var msg;\n      var progress;\n      var progressBar = false;\n      var req = this.req;\n      var loadingMsg = options.loadingMsg || 'Loading';\n      var container = options.container || document.body;\n      var loadingWrapper = container.querySelector('.loading');\n\n      if (!loadingWrapper) {\n        loadingWrapper = document.createElement('div');\n        loadingWrapper.className = 'loading';\n        container.appendChild(loadingWrapper);\n      }\n\n      var hasLoading = !!options.loadingEle;\n      var loadingEle = hasLoading ? options.loadingEle : null;\n\n      if (!loadingEle) {\n        var firstLoadingEle = container.querySelector('.loading-ele');\n        loadingEle = document.createElement('div');\n        loadingEle.className = 'loadingEle';\n\n        if (firstLoadingEle) {\n          loadingWrapper.insertBefore(firstLoadingEle, loadingEle);\n        } else {\n          loadingWrapper.appendChild(loadingEle);\n        }\n      }\n\n      function displayProgress() {\n        loadingEle.style.opacity = 1;\n        loadingWrapper.style.zIndex = 9;\n        msg = loadingEle.querySelector('.loading-msg');\n\n        if (!msg) {\n          msg = document.createElement('p');\n          msg.className = 'loading-msg';\n          msg.innerText = loadingMsg;\n          loadingEle.appendChild(msg);\n        }\n      }\n\n      function updateProgress(event) {\n        if (event.lengthComputable) {\n          if (!progressBar) {\n            // console.log(loadingEle)\n            progress = loadingEle.querySelector('.progress');\n\n            if (!progress) {\n              progress = document.createElement('progress');\n              progress.className = 'progress';\n              progress.style.zIndex = 0;\n              progress.max = 100;\n              progress.value = 0;\n              loadingEle.insertBefore(progress, msg);\n              progressBar = true;\n            }\n          }\n\n          var value = event.loaded / event.total * 100;\n          progress.value = value;\n          msg.innerText = Math.floor(value) + '%' + '\\n' + loadingMsg;\n        } else {\n          // progress = document.createElement('div');\n          // progress.className = 'no-progress';\n          // loading.insertBefore(progress, msg);\n          req.onprogress = null;\n        }\n      }\n\n      function hideProgress() {\n        if (!hasLoading) {\n          loadingEle.style.display = 'none';\n        }\n\n        loadingWrapper.style.zIndex = 0;\n      }\n\n      return new Promise(function (resolve, reject) {\n        req.open('GET', options.url, true);\n        req.onloadstart = displayProgress;\n        req.onprogress = updateProgress;\n        req.onloadend = hideProgress;\n\n        req.onload = function () {\n          if (req.status === 200) {\n            resolve({\n              data: req.response,\n              ret: options.ret\n            });\n          } else {\n            reject(req.statusText);\n          }\n        };\n\n        req.onerror = function () {\n          reject('Network Error');\n        };\n\n        req.send(null);\n      });\n    }\n  }]);\n\n  return DataRequest;\n}();\n\n//# sourceURL=webpack://dddrawings/./src/http/req.js?")},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math */ "./src/math/index.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PI", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["PI"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TWO_PI", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["TWO_PI"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HALF_PI", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["HALF_PI"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "QUARTER_PI", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["QUARTER_PI"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "toRad", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["toRad"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "random", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["random"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeFromPercentage", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["sizeFromPercentage"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getPercent", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["getPercent"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isPowerOfTwo", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["isPowerOfTwo"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Transform", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["Transform"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Point", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["Point"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Rectangle", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["Rectangle"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Matrix", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["Matrix"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Vector", function() { return _math__WEBPACK_IMPORTED_MODULE_0__["Vector"]; });\n\n/* harmony import */ var _html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./html */ "./src/html/index.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "canvas", function() { return _html__WEBPACK_IMPORTED_MODULE_1__["canvas"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "yearsMenu", function() { return _html__WEBPACK_IMPORTED_MODULE_1__["yearsMenu"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "resetCurrent", function() { return _html__WEBPACK_IMPORTED_MODULE_1__["resetCurrent"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "base64", function() { return _html__WEBPACK_IMPORTED_MODULE_1__["base64"]; });\n\n/* harmony import */ var _http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http */ "./src/http/index.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "json", function() { return _http__WEBPACK_IMPORTED_MODULE_2__["json"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "image", function() { return _http__WEBPACK_IMPORTED_MODULE_2__["image"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "audio", function() { return _http__WEBPACK_IMPORTED_MODULE_2__["audio"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataRequest", function() { return _http__WEBPACK_IMPORTED_MODULE_2__["DataRequest"]; });\n\n/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./map */ "./src/map/index.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Map", function() { return _map__WEBPACK_IMPORTED_MODULE_3__["Map"]; });\n\n/* harmony import */ var _color__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./color */ "./src/color/index.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rgbToHex", function() { return _color__WEBPACK_IMPORTED_MODULE_4__["rgbToHex"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hexToRgb", function() { return _color__WEBPACK_IMPORTED_MODULE_4__["hexToRgb"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "convertAlpha", function() { return _color__WEBPACK_IMPORTED_MODULE_4__["convertAlpha"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getRGBA", function() { return _color__WEBPACK_IMPORTED_MODULE_4__["getRGBA"]; });\n\n/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./audio */ "./src/audio/index.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Audio", function() { return _audio__WEBPACK_IMPORTED_MODULE_5__["Audio"]; });\n\n/* harmony import */ var _webgl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./webgl */ "./src/webgl/index.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Stage", function() { return _webgl__WEBPACK_IMPORTED_MODULE_6__["Stage"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Webgl", function() { return _webgl__WEBPACK_IMPORTED_MODULE_6__["Webgl"]; });\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://dddrawings/./src/index.js?')},"./src/map/index.js":
/*!**************************!*\
  !*** ./src/map/index.js ***!
  \**************************/
/*! exports provided: Map */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Map", function() { return Map; });\n/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math */ "./src/math/index.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n/**\n * Create a new map instance\n *\n * USAGE: var map = new DDD.Map({zoom: #, width: #, height: #, center: {lon: #, lat: #}});\n *\n * @param {Object} config             An object with the configuration options\n * @param {Number} config.zoom        The map zoom\n * @param {Number} config.width       The width of the map container\n * @param {Number} config.height      The height of the map container\n * @param {Object} config.center      Object with the longitude and latitude options for the center of the map\n * @param {Number} config.center.lon  Map center longitude\n * @param {Number} config.center.lat  Map center latitude\n */\n\nvar Map =\n/*#__PURE__*/\nfunction () {\n  function Map(config) {\n    _classCallCheck(this, Map);\n\n    var w = config.width || window.innerWidth;\n    var h = config.height || window.innerHeight;\n    var zoom = config.zoom || 11;\n\n    if (config.center) {\n      this.center = {\n        lon: config.center.lon,\n        lat: config.center.lat\n      };\n    } else {\n      this.center = {};\n    }\n\n    this.hasCenter = null;\n    this.updateSize(w, h, zoom);\n  }\n\n  _createClass(Map, [{\n    key: "updateSize",\n    value: function updateSize(w, h, zoom) {\n      this.stageWidth = w;\n      this.stageCenterY = h / 2;\n      this.zoom = zoom || this.zoom;\n      this.zoomX = this.stageWidth * this.zoom;\n      this.zoomY = this.stageCenterY * this.zoom;\n      this.zoomRad = this.zoomX / 360;\n      this.newCenter(this.center.lon, this.center.lat);\n    }\n  }, {\n    key: "newCenter",\n    value: function newCenter(lon, lat) {\n      this.hasCenter = false;\n      this.convertCoordinates(lon, lat);\n      this.hasCenter = true;\n    }\n  }, {\n    key: "convertCoordinates",\n    value: function convertCoordinates(lon, lat) {\n      var latRad = +lat * _math__WEBPACK_IMPORTED_MODULE_0__["toRad"];\n      var mercatorN = Math.log(Math.tan(_math__WEBPACK_IMPORTED_MODULE_0__["QUARTER_PI"] + latRad / 2));\n      var x = (+lon + 180) * this.zoomRad;\n      var y = this.zoomY - this.zoomX * mercatorN / _math__WEBPACK_IMPORTED_MODULE_0__["TWO_PI"];\n\n      if (this.hasCenter) {\n        x -= this.center.x;\n        y -= this.center.y;\n      } else {\n        this.center.x = x;\n        this.center.y = y;\n      }\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }]);\n\n  return Map;\n}();\n\n//# sourceURL=webpack://dddrawings/./src/map/index.js?')},"./src/math/Matrix.js":
/*!****************************!*\
  !*** ./src/math/Matrix.js ***!
  \****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Matrix; });\n/* harmony import */ var _Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Point */ "./src/math/Point.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Matrix =\n/*#__PURE__*/\nfunction () {\n  function Matrix(a, b, c, d, tx, ty) {\n    _classCallCheck(this, Matrix);\n\n    this.a = a || 1;\n    this.b = b || 0;\n    this.c = c || 0;\n    this.d = d || 1;\n    this.tx = tx || 0;\n    this.ty = ty || 0;\n  }\n\n  _createClass(Matrix, [{\n    key: "toArray",\n    value: function toArray(transpose, out) {\n      if (!this.array) {\n        this.array = new Float32Array(9);\n      }\n\n      var array = out || this.array;\n\n      if (transpose) {\n        array[0] = this.a;\n        array[1] = this.b;\n        array[2] = 0;\n        array[3] = this.c;\n        array[4] = this.d;\n        array[5] = 0;\n        array[6] = this.tx;\n        array[7] = this.ty;\n        array[8] = 1;\n      } else {\n        array[0] = this.a;\n        array[1] = this.c;\n        array[2] = this.tx;\n        array[3] = this.b;\n        array[4] = this.d;\n        array[5] = this.ty;\n        array[6] = 0;\n        array[7] = 0;\n        array[8] = 1;\n      }\n\n      return array;\n    }\n  }, {\n    key: "apply",\n    value: function apply(pos, newPos) {\n      newPos = newPos || new _Point__WEBPACK_IMPORTED_MODULE_0__["default"]();\n      var x = pos.x;\n      var y = pos.y;\n      newPos.x = this.a * x + this.c * y + this.tx;\n      newPos.y = this.b * x + this.d * y + this.ty;\n      return newPos;\n    }\n  }, {\n    key: "applyInverse",\n    value: function applyInverse(pos, newPos) {\n      newPos = newPos || new _Point__WEBPACK_IMPORTED_MODULE_0__["default"]();\n      var id = 1 / (this.a * this.d + this.c * -this.b);\n      var x = pos.x;\n      var y = pos.y;\n      newPos.x = this.d * id * x + -this.c * id * y + (this.ty * this.c - this.tx * this.d) * id;\n      newPos.y = this.a * id * y + -this.b * id * x + (-this.ty * this.a + this.tx * this.b) * id;\n      return newPos;\n    }\n  }, {\n    key: "translate",\n    value: function translate(x, y) {\n      this.tx += x;\n      this.ty += y;\n      return this;\n    }\n  }, {\n    key: "scale",\n    value: function scale(x, y) {\n      this.a *= x;\n      this.d *= y;\n      this.c *= x;\n      this.b *= y;\n      this.tx *= x;\n      this.ty *= y;\n      return this;\n    }\n  }, {\n    key: "rotate",\n    value: function rotate(angle) {\n      var cos = Math.cos(angle);\n      var sin = Math.sin(angle);\n      var a1 = this.a;\n      var c1 = this.c;\n      var tx1 = this.tx;\n      this.a = a1 * cos - this.b * sin;\n      this.b = a1 * sin + this.b * cos;\n      this.c = c1 * cos - this.d * sin;\n      this.d = c1 * sin + this.d * cos;\n      this.tx = tx1 * cos - this.ty * sin;\n      this.ty = tx1 * sin + this.ty * cos;\n      return this;\n    }\n  }, {\n    key: "append",\n    value: function append(matrix) {\n      var a1 = this.a;\n      var b1 = this.b;\n      var c1 = this.c;\n      var d1 = this.d;\n      this.a = matrix.a * a1 + matrix.b * c1;\n      this.b = matrix.a * b1 + matrix.b * d1;\n      this.c = matrix.c * a1 + matrix.d * c1;\n      this.d = matrix.c * b1 + matrix.d * d1;\n      this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;\n      this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;\n      return this;\n    }\n  }, {\n    key: "setTransform",\n    value: function setTransform(x, y, pivotX, pivotY, scaleX, scaleY, rotation) {\n      var sr = Math.sin(rotation);\n      var cr = Math.cos(rotation);\n      var a = cr * scaleX;\n      var b = sr * scaleX;\n      var c = -sr * scaleY;\n      var d = cr * scaleY;\n      this.a = a + c;\n      this.b = b + d;\n      this.c = a + c;\n      this.d = b + d;\n      this.tx = x + (pivotX * a + pivotY * c);\n      this.ty = y + (pivotX * b + pivotY * d);\n      return this;\n    }\n  }, {\n    key: "prepend",\n    value: function prepend(matrix) {\n      var tx1 = this.tx;\n\n      if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\n        var a1 = this.a;\n        var c1 = this.c;\n        this.a = a1 * matrix.a + this.b * matrix.c;\n        this.b = a1 * matrix.b + this.b * matrix.d;\n        this.c = c1 * matrix.a + this.d * matrix.c;\n        this.d = c1 * matrix.b + this.d * matrix.d;\n      }\n\n      this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx;\n      this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty;\n      return this;\n    }\n  }, {\n    key: "invert",\n    value: function invert() {\n      var a1 = this.a;\n      var b1 = this.b;\n      var c1 = this.c;\n      var d1 = this.d;\n      var tx1 = this.tx;\n      var n = a1 * d1 - b1 * c1;\n      this.a = d1 / n;\n      this.b = -b1 / n;\n      this.c = -c1 / n;\n      this.d = a1 / n;\n      this.tx = (c1 * this.ty - d1 * tx1) / n;\n      this.ty = -(a1 * this.ty - b1 * tx1) / n;\n      return this;\n    }\n  }, {\n    key: "identity",\n    value: function identity() {\n      this.a = 1;\n      this.b = 0;\n      this.c = 0;\n      this.d = 1;\n      this.tx = 0;\n      this.ty = 0;\n      return this;\n    }\n  }, {\n    key: "clone",\n    value: function clone() {\n      var matrix = new Matrix();\n      matrix.a = this.a;\n      matrix.b = this.b;\n      matrix.c = this.c;\n      matrix.d = this.d;\n      matrix.tx = this.tx;\n      matrix.ty = this.ty;\n      return matrix;\n    }\n  }, {\n    key: "copy",\n    value: function copy(matrix) {\n      matrix.a = this.a;\n      matrix.b = this.b;\n      matrix.c = this.c;\n      matrix.d = this.d;\n      matrix.tx = this.tx;\n      matrix.ty = this.ty;\n      return matrix;\n    }\n  }]);\n\n  return Matrix;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/math/Matrix.js?')},"./src/math/Point.js":
/*!***************************!*\
  !*** ./src/math/Point.js ***!
  \***************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Point =\n/*#__PURE__*/\nfunction () {\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n\n  _createClass(Point, [{\n    key: "clone",\n    value: function clone() {\n      return new Point(this.x, this.y);\n    }\n  }, {\n    key: "copy",\n    value: function copy(p) {\n      this.set(p.x, p.y);\n    }\n  }, {\n    key: "equals",\n    value: function equals(p) {\n      return p.x === this.x && p.y === this.y;\n    }\n  }, {\n    key: "set",\n    value: function set(x, y) {\n      this.x = x || 0;\n      this.y = y || y !== 0 ? this.x : 0;\n    }\n  }]);\n\n  return Point;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/math/Point.js?')},"./src/math/Rectangle.js":
/*!*******************************!*\
  !*** ./src/math/Rectangle.js ***!
  \*******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Rectangle; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Rectangle = function Rectangle(x, y, width, height) {\n  _classCallCheck(this, Rectangle);\n\n  this.x = x || 0;\n  this.y = y || 0;\n  this.width = width || 0;\n  this.height = height || 0;\n};\n\n\n\n//# sourceURL=webpack://dddrawings/./src/math/Rectangle.js?')},"./src/math/Transform.js":
/*!*******************************!*\
  !*** ./src/math/Transform.js ***!
  \*******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Transform; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Last updated November 2011\n// By Simon Sarris\n// www.simonsarris.com\n// sarris@acm.org\n//\n// Free to use and distribute at will\n// So long as you are nice to people, etc\n// Simple class for keeping track of the current transformation matrix\n// For instance:\n//    var t = new Transform();\n//    t.rotate(5);\n//    var m = t.m;\n//    ctx.setTransform(m[0], m[1], m[2], m[3], m[4], m[5]);\n// Is equivalent to:\n//    ctx.rotate(5);\n// But now you can retrieve it :)\n// Remember that this does not account for any CSS transforms applied to the canvas\nvar Transform =\n/*#__PURE__*/\nfunction () {\n  function Transform() {\n    _classCallCheck(this, Transform);\n\n    this.reset();\n  }\n\n  _createClass(Transform, [{\n    key: "reset",\n    value: function reset() {\n      this.m = [1, 0, 0, 1, 0, 0];\n    }\n  }, {\n    key: "multiply",\n    value: function multiply(matrix) {\n      var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n      var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n      var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n      var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n      var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n      var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n      this.m[0] = m11;\n      this.m[1] = m12;\n      this.m[2] = m21;\n      this.m[3] = m22;\n      this.m[4] = dx;\n      this.m[5] = dy;\n    }\n  }, {\n    key: "invert",\n    value: function invert() {\n      var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n      var m0 = this.m[3] * d;\n      var m1 = -this.m[1] * d;\n      var m2 = -this.m[2] * d;\n      var m3 = this.m[0] * d;\n      var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n      var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n      this.m[0] = m0;\n      this.m[1] = m1;\n      this.m[2] = m2;\n      this.m[3] = m3;\n      this.m[4] = m4;\n      this.m[5] = m5;\n    }\n  }, {\n    key: "rotate",\n    value: function rotate(rad) {\n      var c = Math.cos(rad);\n      var s = Math.sin(rad);\n      var m11 = this.m[0] * c + this.m[2] * s;\n      var m12 = this.m[1] * c + this.m[3] * s;\n      var m21 = this.m[0] * -s + this.m[2] * c;\n      var m22 = this.m[1] * -s + this.m[3] * c;\n      this.m[0] = m11;\n      this.m[1] = m12;\n      this.m[2] = m21;\n      this.m[3] = m22;\n    }\n  }, {\n    key: "translate",\n    value: function translate(x, y) {\n      this.m[4] += this.m[0] * x + this.m[2] * y;\n      this.m[5] += this.m[1] * x + this.m[3] * y;\n    }\n  }, {\n    key: "translateAndRotate",\n    value: function translateAndRotate(x, y, rad) {\n      var c = Math.cos(rad);\n      var s = Math.sin(rad);\n      var m11 = this.m[0] * c + this.m[2] * s;\n      var m12 = this.m[1] * c + this.m[3] * s;\n      var m21 = this.m[0] * -s + this.m[2] * c;\n      var m22 = this.m[1] * -s + this.m[3] * c;\n      this.m[4] += this.m[0] * x + this.m[2] * y;\n      this.m[5] += this.m[1] * x + this.m[3] * y;\n      this.m[0] = m11;\n      this.m[1] = m12;\n      this.m[2] = m21;\n      this.m[3] = m22;\n    }\n  }, {\n    key: "scale",\n    value: function scale(sx, sy) {\n      this.m[0] *= sx;\n      this.m[1] *= sx;\n      this.m[2] *= sy;\n      this.m[3] *= sy;\n    }\n  }, {\n    key: "transformPoint",\n    value: function transformPoint(px, py) {\n      var x = px;\n      var y = py;\n      px = x * this.m[0] + y * this.m[2] + this.m[4];\n      py = x * this.m[1] + y * this.m[3] + this.m[5];\n      return [px, py];\n    }\n  }]);\n\n  return Transform;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/math/Transform.js?')},"./src/math/Vector.js":
/*!****************************!*\
  !*** ./src/math/Vector.js ***!
  \****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Vector; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// From Three.js Vector3\n// https://github.com/mrdoob/three.js/blob/cf584a60bdfd24c42eaa81d484533364742bda44/src/math/Vector3.js\n// All credits to them\nvar Vector =\n/*#__PURE__*/\nfunction () {\n  function Vector(x, y, z) {\n    _classCallCheck(this, Vector);\n\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n\n  _createClass(Vector, [{\n    key: "set",\n    value: function set(x, y, z) {\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      return this;\n    }\n  }, {\n    key: "setX",\n    value: function setX(x) {\n      this.x = x;\n      return this;\n    }\n  }, {\n    key: "setY",\n    value: function setY(y) {\n      this.y = y;\n      return this;\n    }\n  }, {\n    key: "setZ",\n    value: function setZ(z) {\n      this.z = z;\n      return this;\n    }\n  }, {\n    key: "add",\n    value: function add(v) {\n      this.x += v.x;\n      this.y += v.y;\n      this.z += v.z;\n      return this;\n    }\n  }, {\n    key: "addScalar",\n    value: function addScalar(s) {\n      this.x += s;\n      this.y += s;\n      this.z += s;\n      return this;\n    }\n  }, {\n    key: "sub",\n    value: function sub(v) {\n      this.x -= v.x;\n      this.y -= v.y;\n      this.z -= v.z;\n      return this;\n    }\n  }, {\n    key: "subScalar",\n    value: function subScalar(s) {\n      this.x -= s;\n      this.y -= s;\n      this.z -= s;\n      return this;\n    }\n  }, {\n    key: "subVectors",\n    value: function subVectors(a, b) {\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n      this.z = a.z - b.z;\n      return this;\n    }\n  }, {\n    key: "multiply",\n    value: function multiply(v) {\n      this.x *= v.x;\n      this.y *= v.y;\n      this.z *= v.z;\n      return this;\n    }\n  }, {\n    key: "multiplyScalar",\n    value: function multiplyScalar(s) {\n      if (isFinite(s)) {\n        this.x *= s;\n        this.y *= s;\n        this.z *= s;\n      } else {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n      }\n\n      return this;\n    }\n  }, {\n    key: "multiplyVectors",\n    value: function multiplyVectors(a, b) {\n      this.x = a.x * b.x;\n      this.y = a.y * b.y;\n      this.z = a.z * b.z;\n      return this;\n    }\n  }, {\n    key: "divide",\n    value: function divide(v) {\n      this.x /= v.x;\n      this.y /= v.y;\n      this.z /= v.z;\n      return this;\n    }\n  }, {\n    key: "divideScalar",\n    value: function divideScalar(s) {\n      return this.multiplyScalar(1 / s);\n    }\n  }, {\n    key: "lengthSq",\n    value: function lengthSq() {\n      return this.x * this.x + this.y * this.y + this.z * this.z;\n    }\n  }, {\n    key: "length",\n    value: function length() {\n      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n  }, {\n    key: "setLength",\n    value: function setLength(length) {\n      return this.multiplyScalar(length / this.length());\n    }\n  }, {\n    key: "distanceTo",\n    value: function distanceTo(v) {\n      return Math.sqrt(this.distanceToSquared(v));\n    }\n  }, {\n    key: "normalize",\n    value: function normalize() {\n      return this.divideScalar(this.length());\n    }\n  }, {\n    key: "distanceToSquared",\n    value: function distanceToSquared(v) {\n      var dx = this.x - v.x;\n      var dy = this.y - v.y;\n      var dz = this.z - v.z;\n      return dx * dx + dy * dy + dz * dz;\n    }\n  }, {\n    key: "limit",\n    value: function limit(max) {\n      if (this.lengthSq() > max * max) {\n        this.normalize();\n        this.mult(max);\n      }\n\n      return this;\n    }\n  }, {\n    key: "copy",\n    value: function copy(v) {\n      this.x = v.x;\n      this.y = v.y;\n      this.z = v.z;\n      return this;\n    }\n  }]);\n\n  return Vector;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/math/Vector.js?')},"./src/math/index.js":
/*!***************************!*\
  !*** ./src/math/index.js ***!
  \***************************/
/*! exports provided: PI, TWO_PI, HALF_PI, QUARTER_PI, toRad, random, sizeFromPercentage, getPercent, isPowerOfTwo, Transform, Point, Rectangle, Matrix, Vector */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PI", function() { return PI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TWO_PI", function() { return TWO_PI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HALF_PI", function() { return HALF_PI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QUARTER_PI", function() { return QUARTER_PI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toRad", function() { return toRad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "random", function() { return random; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sizeFromPercentage", function() { return sizeFromPercentage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPercent", function() { return getPercent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPowerOfTwo", function() { return isPowerOfTwo; });\n/* harmony import */ var _Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Point */ "./src/math/Point.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Point", function() { return _Point__WEBPACK_IMPORTED_MODULE_0__["default"]; });\n\n/* harmony import */ var _Rectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Rectangle */ "./src/math/Rectangle.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Rectangle", function() { return _Rectangle__WEBPACK_IMPORTED_MODULE_1__["default"]; });\n\n/* harmony import */ var _Matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Matrix */ "./src/math/Matrix.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Matrix", function() { return _Matrix__WEBPACK_IMPORTED_MODULE_2__["default"]; });\n\n/* harmony import */ var _Vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Vector */ "./src/math/Vector.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Vector", function() { return _Vector__WEBPACK_IMPORTED_MODULE_3__["default"]; });\n\n/* harmony import */ var _Transform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Transform */ "./src/math/Transform.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Transform", function() { return _Transform__WEBPACK_IMPORTED_MODULE_4__["default"]; });\n\n\n\n\n\n\nvar PI = Math.PI;\nvar TWO_PI = PI * 2;\nvar HALF_PI = PI / 2;\nvar QUARTER_PI = PI / 4;\nvar toRad = PI / 180;\nfunction random(min, max, isFloat) {\n  var random = Math.floor(Math.random() * (max - min)) + min;\n\n  if (isFloat) {\n    random = Math.random() * (max - min) + min;\n  }\n\n  return random;\n}\nfunction sizeFromPercentage(percent, totalSize) {\n  return percent / 100 * totalSize;\n}\nfunction getPercent(section, total) {\n  return section / total * 100;\n}\nfunction isPowerOfTwo(width, height) {\n  return width > 0 && (width & width - 1) === 0 && height > 0 && (height & height - 1) === 0;\n}\n\n\n//# sourceURL=webpack://dddrawings/./src/math/index.js?')},"./src/webgl/Renderer.js":
/*!*******************************!*\
  !*** ./src/webgl/Renderer.js ***!
  \*******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Renderer; });\n/* harmony import */ var _utils_RenderTarget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/RenderTarget */ "./src/webgl/utils/RenderTarget.js");\n/* harmony import */ var _utils_ObjectRenderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/ObjectRenderer */ "./src/webgl/utils/ObjectRenderer.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Renderer =\n/*#__PURE__*/\nfunction () {\n  function Renderer(container, canvasOptions) {\n    _classCallCheck(this, Renderer);\n\n    this.container = container;\n    canvasOptions = canvasOptions || {};\n    this.width = canvasOptions.width || window.innerWidth;\n    this.height = canvasOptions.height || window.innerHeight;\n    this.canvas = document.createElement(\'canvas\');\n    this.canvas.style.position = \'absolute\';\n    container.appendChild(this.canvas);\n    var gl = this.canvas.getContext(\'webgl\') || this.canvas.getContext(\'experimental-webgl\', ctxOptions);\n    this.gl = gl;\n    gl.disable(gl.DEPTH_TEST);\n    gl.disable(gl.CULL_FACE);\n    gl.enable(gl.BLEND);\n    this.renderTarget = new _utils_RenderTarget__WEBPACK_IMPORTED_MODULE_0__["default"](gl, this.width, this.height);\n    this.currentRenderer = new _utils_ObjectRenderer__WEBPACK_IMPORTED_MODULE_1__["default"](gl, this);\n    this.resize(this.width, this.height);\n  }\n\n  _createClass(Renderer, [{\n    key: "render",\n    value: function render(object) {\n      object.renderWebGL(this);\n    }\n  }, {\n    key: "resize",\n    value: function resize(width, height) {\n      this.width = this.canvas.width = width;\n      this.height = this.canvas.height = height;\n      this.gl.viewport(0, 0, width, height);\n    }\n  }]);\n\n  return Renderer;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/webgl/Renderer.js?')},"./src/webgl/Stage.js":
/*!****************************!*\
  !*** ./src/webgl/Stage.js ***!
  \****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Stage; });\n/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math */ "./src/math/index.js");\n/* harmony import */ var _math_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/Point */ "./src/math/Point.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Stage =\n/*#__PURE__*/\nfunction () {\n  function Stage(imgData, renderer, batchSize) {\n    _classCallCheck(this, Stage);\n\n    this.children = [];\n    this.texture = {};\n    this.data = imgData;\n    this.renderer = renderer;\n    this.loadImg(imgData.url);\n    this.setBatchSize(batchSize);\n  }\n\n  _createClass(Stage, [{\n    key: "setBatchSize",\n    value: function setBatchSize(batchSize) {\n      var maxBatchSize = 16384;\n      var maxSize = 15000;\n\n      if (batchSize > maxBatchSize) {\n        batchSize = maxBatchSize;\n      }\n\n      if (batchSize > maxSize) {\n        batchSize = maxSize;\n      }\n\n      this.batchSize = batchSize;\n    }\n  }, {\n    key: "renderWebGL",\n    value: function renderWebGL(renderer) {\n      renderer.currentRenderer.render(this);\n    }\n  }, {\n    key: "bindTexture",\n    value: function bindTexture() {\n      var gl = this.renderer.gl;\n      var texture = this.texture;\n\n      if (!texture.glTexture) {\n        texture.glTexture = gl.createTexture();\n      }\n\n      gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\n      /*----------  SET ALPHA  ----------*/\n\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\n      gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.img);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n      if (texture.mipmap && texture.isPowerOfTwo) {\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n        gl.generateMipmap(gl.TEXTURE_2D);\n      } else {\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      }\n\n      if (!texture.isPowerOfTwo) {\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      } else {\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n      }\n\n      return true;\n    }\n  }, {\n    key: "loadImg",\n    value: function loadImg(url) {\n      this.img = new Image();\n      this.img.onload = this.imgLoaded.bind(this);\n      this.img.src = url;\n    }\n  }, {\n    key: "imgLoaded",\n    value: function imgLoaded() {\n      var w = this.img.naturalWidth;\n      var h = this.img.naturalHeight;\n      var texture = {\n        loaded: true,\n        isPowerOfTwo: Object(_math__WEBPACK_IMPORTED_MODULE_0__["isPowerOfTwo"])(w, h)\n      };\n      var frames = [];\n\n      for (var i = 0; i < this.data.frames.length; i++) {\n        var frame = this.data.frames[i];\n        frames.push({\n          width: frame.w,\n          height: frame.h,\n          uvs: [frame.x / w, frame.y / h, (frame.x + frame.w) / w, (frame.y + frame.h) / h]\n        });\n      }\n\n      this.renderer.frames = frames;\n      this.texture = texture;\n      this.bindTexture();\n\n      if (this.data.cb) {\n        this.data.cb();\n      }\n    }\n  }, {\n    key: "particle",\n    value: function particle(obj) {\n      obj = obj || {};\n      obj.scale = obj.scale || new _math_Point__WEBPACK_IMPORTED_MODULE_1__["default"](1, 1);\n      obj.alpha = obj.alpha || 1;\n      obj.rotation = obj.rotation || 0;\n      obj.x = obj.x || 0;\n      obj.y = obj.y || 0;\n      obj.frame = obj.frame || 0;\n      this.children.push(obj);\n\n      if (this.children.length > this.batchSize) {\n        this.setBatchSize(this.children.length);\n      }\n\n      return obj;\n    }\n  }]);\n\n  return Stage;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/webgl/Stage.js?')},"./src/webgl/index.js":
/*!****************************!*\
  !*** ./src/webgl/index.js ***!
  \****************************/
/*! exports provided: Stage, Webgl */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Stage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Stage */ "./src/webgl/Stage.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Stage", function() { return _Stage__WEBPACK_IMPORTED_MODULE_0__["default"]; });\n\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Renderer */ "./src/webgl/Renderer.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Webgl", function() { return _Renderer__WEBPACK_IMPORTED_MODULE_1__["default"]; });\n\n\n\n\n\n//# sourceURL=webpack://dddrawings/./src/webgl/index.js?')},"./src/webgl/shaders/particles.fs":
/*!****************************************!*\
  !*** ./src/webgl/shaders/particles.fs ***!
  \****************************************/
/*! no static exports found */function(module,exports){eval('module.exports = "precision lowp float;\\n\\nvarying vec2 vTextureCoord;\\nvarying float vAlpha;\\n\\nuniform sampler2D uImage;\\n\\nvoid main(void){\\n  vec4 color = texture2D(uImage, vTextureCoord) * vAlpha;\\n  if (color.a == 0.0) discard;\\n  gl_FragColor = color;\\n}"\n\n//# sourceURL=webpack://dddrawings/./src/webgl/shaders/particles.fs?')},"./src/webgl/shaders/particles.vs":
/*!****************************************!*\
  !*** ./src/webgl/shaders/particles.vs ***!
  \****************************************/
/*! no static exports found */function(module,exports){eval('module.exports = "attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute float aAlpha;\\n\\nattribute vec2 aPositionCoord;\\nattribute float aRotation;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying float vAlpha;\\n\\nvoid main(void){\\n  float cosine = cos(aRotation);\\n  float sine = sin(aRotation);\\n\\n  vec3 v;\\n  v.x = aVertexPosition.x * cosine - aVertexPosition.y * sine;\\n  v.y = aVertexPosition.x * sine + aVertexPosition.y * cosine;\\n  v.z = 1.0;\\n\\n  // Move\\n  v.xy += aPositionCoord;\\n\\n  gl_Position = vec4(projectionMatrix * v, 1.0);\\n\\n  vTextureCoord = aTextureCoord;\\n  vAlpha = aAlpha;\\n}"\n\n//# sourceURL=webpack://dddrawings/./src/webgl/shaders/particles.vs?')},"./src/webgl/utils/ObjectRenderer.js":
/*!*******************************************!*\
  !*** ./src/webgl/utils/ObjectRenderer.js ***!
  \*******************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ObjectRenderer; });\n/* harmony import */ var _Shader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shader */ "./src/webgl/utils/Shader.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar ObjectRenderer =\n/*#__PURE__*/\nfunction () {\n  function ObjectRenderer(gl, renderer) {\n    _classCallCheck(this, ObjectRenderer);\n\n    this.renderer = renderer;\n    this.gl = gl;\n    this.start();\n  }\n\n  _createClass(ObjectRenderer, [{\n    key: "start",\n    value: function start() {\n      var gl = this.gl;\n      var shader = new _Shader__WEBPACK_IMPORTED_MODULE_0__["default"](gl);\n      this.properties = [// verticesData\n      {\n        attribute: shader.attributes.aVertexPosition,\n        size: 2\n      }, // positionData\n      {\n        attribute: shader.attributes.aPositionCoord,\n        size: 2\n      }, // rotationData\n      {\n        attribute: shader.attributes.aRotation,\n        size: 1\n      }, // uvsData\n      {\n        attribute: shader.attributes.aTextureCoord,\n        size: 2\n      }, // alphaData\n      {\n        attribute: shader.attributes.aAlpha,\n        size: 1\n      }];\n\n      for (var i = 0; i < this.properties.length; i++) {\n        gl.enableVertexAttribArray(i);\n      }\n\n      var m = this.renderer.renderTarget.projectionMatrix;\n      gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, false, m.toArray(true));\n    }\n  }, {\n    key: "render",\n    value: function render(container) {\n      var texture = container.texture;\n      var children = container.children;\n      var total = children.length;\n      var maxSize = container.maxSize;\n      this.size = container.batchSize;\n      var gl = this.gl;\n\n      if (total === 0) {\n        return;\n      } else if (total > maxSize) {\n        total = maxSize;\n      }\n\n      if (!this.data) {\n        this.initBuffers();\n\n        for (var i = 0; i < this.properties.length; i++) {\n          var property = this.properties[i];\n          gl.vertexAttribPointer(property.attribute, property.size, gl.FLOAT, false, this.stride * 4, property.offset * 4);\n        }\n      }\n\n      this.updateData(children, total);\n      gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.data);\n      gl.drawElements(gl.TRIANGLES, total * 6, gl.UNSIGNED_SHORT, 0);\n    }\n  }, {\n    key: "initBuffers",\n    value: function initBuffers() {\n      var gl = this.gl;\n      var dynamicOffset = 0;\n      this.stride = 0;\n\n      for (var i = 0; i < this.properties.length; i++) {\n        var property = this.properties[i];\n        property.offset = dynamicOffset;\n        dynamicOffset += property.size;\n        this.stride += property.size;\n      }\n\n      this.data = new Float32Array(this.size * this.stride * 4);\n      gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer());\n      gl.bufferData(gl.ARRAY_BUFFER, this.data, gl.DYNAMIC_DRAW);\n      var numIndices = this.size * 6;\n      var indices = new Uint16Array(numIndices);\n\n      for (var i = 0, j = 0; i < numIndices; i += 6, j += 4) {\n        indices[i] = j;\n        indices[i + 1] = j + 1;\n        indices[i + 2] = j + 2;\n        indices[i + 3] = j;\n        indices[i + 4] = j + 2;\n        indices[i + 5] = j + 3;\n      }\n\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer());\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n    }\n  }, {\n    key: "updateData",\n    value: function updateData(children, amount) {\n      var stride = this.stride;\n      var n = 0;\n      var data = this.data;\n      var textures = this.renderer.frames;\n\n      for (var i = 0; i < amount; i++) {\n        var target = children[i];\n        var texture = textures[target.frame];\n        var w = texture.width * target.scale;\n        var h = texture.height * target.scale;\n        var x = target.x;\n        var y = target.y;\n        var r = target.rotation;\n        var uvs = texture.uvs;\n        var a = target.alpha;\n        /*\n          [\n            vertice   pos   rot   uvs    alpha\n            w,h,      x,y,  r,    x,y,   a\n            w,h,      x,y,  r,    x,y,   a\n            w,h,      x,y,  r,    x,y,   a\n            w,h,      x,y,  r,    x,y,   a\n          ]\n        */\n\n        /*----------  Vertex 1  ----------*/\n\n        data[n] = -w;\n        data[++n] = -h; // Size\n\n        data[++n] = x;\n        data[++n] = y; // Pos\n\n        data[++n] = r; // Rotation\n\n        data[++n] = uvs[0];\n        data[++n] = uvs[1]; // Uvs\n\n        data[++n] = a; // Alpha\n\n        /*----------  Vertex 2  ----------*/\n\n        data[++n] = w;\n        data[++n] = -h;\n        data[++n] = x;\n        data[++n] = y;\n        data[++n] = r;\n        data[++n] = uvs[2];\n        data[++n] = uvs[1];\n        data[++n] = a;\n        /*----------  Vertex 3  ----------*/\n\n        data[++n] = w;\n        data[++n] = h;\n        data[++n] = x;\n        data[++n] = y;\n        data[++n] = r;\n        data[++n] = uvs[2];\n        data[++n] = uvs[3];\n        data[++n] = a;\n        /*----------  Vertex 4  ----------*/\n\n        data[++n] = -w;\n        data[++n] = h;\n        data[++n] = x;\n        data[++n] = y;\n        data[++n] = r;\n        data[++n] = uvs[0];\n        data[++n] = uvs[3];\n        data[++n] = a;\n        n++;\n      }\n    }\n  }]);\n\n  return ObjectRenderer;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/webgl/utils/ObjectRenderer.js?')},"./src/webgl/utils/RenderTarget.js":
/*!*****************************************!*\
  !*** ./src/webgl/utils/RenderTarget.js ***!
  \*****************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RenderTarget; });\n/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../math */ "./src/math/index.js");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar RenderTarget =\n/*#__PURE__*/\nfunction () {\n  function RenderTarget(gl, width, height) {\n    _classCallCheck(this, RenderTarget);\n\n    this.gl = gl;\n    this.size = new _math__WEBPACK_IMPORTED_MODULE_0__["Rectangle"](0, 0, 1, 1);\n    this.projectionMatrix = new _math__WEBPACK_IMPORTED_MODULE_0__["Matrix"]();\n    this.resize(width, height);\n  }\n\n  _createClass(RenderTarget, [{\n    key: "resize",\n    value: function resize(width, height) {\n      width = width | 0;\n      height = height | 0;\n\n      if (this.size.width === width && this.size.height === height) {\n        return;\n      }\n\n      this.size.width = width;\n      this.size.height = height;\n      var pm = this.projectionMatrix.identity();\n      pm.a = 2 / this.size.width;\n      pm.d = -2 / this.size.height;\n      pm.tx = -1;\n      pm.ty = 1;\n    }\n  }]);\n\n  return RenderTarget;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/webgl/utils/RenderTarget.js?')},"./src/webgl/utils/Shader.js":
/*!***********************************!*\
  !*** ./src/webgl/utils/Shader.js ***!
  \***********************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Shader; });\n/* harmony import */ var _shaders_particles_vs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shaders/particles.vs */ "./src/webgl/shaders/particles.vs");\n/* harmony import */ var _shaders_particles_vs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_shaders_particles_vs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _shaders_particles_fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaders/particles.fs */ "./src/webgl/shaders/particles.fs");\n/* harmony import */ var _shaders_particles_fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_shaders_particles_fs__WEBPACK_IMPORTED_MODULE_1__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Shader =\n/*#__PURE__*/\nfunction () {\n  function Shader(gl) {\n    _classCallCheck(this, Shader);\n\n    this.gl = gl;\n    this.uniforms = {\n      projectionMatrix: {}\n    };\n    this.attributes = {};\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, _shaders_particles_vs__WEBPACK_IMPORTED_MODULE_0___default.a);\n    gl.compileShader(vertexShader);\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, _shaders_particles_fs__WEBPACK_IMPORTED_MODULE_1___default.a);\n    gl.compileShader(fragmentShader);\n    var program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program); // clear shader from memory after linking program\n\n    gl.deleteShader(vertexShader);\n    gl.deleteShader(fragmentShader);\n    this.program = program;\n    gl.useProgram(program);\n    this.cacheUniformLocations([\'projectionMatrix\']);\n    this.cacheAttributeLocations([\'aVertexPosition\', \'aTextureCoord\', \'aAlpha\', \'aPositionCoord\', \'aRotation\']);\n  }\n\n  _createClass(Shader, [{\n    key: "cacheUniformLocations",\n    value: function cacheUniformLocations(keys) {\n      for (var i = 0; i < keys.length; ++i) {\n        this.uniforms[keys[i]]._location = this.gl.getUniformLocation(this.program, keys[i]);\n      }\n    }\n  }, {\n    key: "cacheAttributeLocations",\n    value: function cacheAttributeLocations(keys) {\n      for (var i = 0; i < keys.length; ++i) {\n        this.attributes[keys[i]] = this.gl.getAttribLocation(this.program, keys[i]);\n      }\n    }\n  }]);\n\n  return Shader;\n}();\n\n\n\n//# sourceURL=webpack://dddrawings/./src/webgl/utils/Shader.js?')}})},module.exports=factory()},21:function(n,t,e){"use strict";function r(){}e.r(t);var i=function(n){return null==n?r:function(){return this.querySelector(n)}};function a(){return[]}var o=function(n){return new Array(n.length)};function s(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}s.prototype={constructor:s,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function _(n,t,e,r,i,a){for(var o,_=0,c=t.length,u=a.length;_<u;++_)(o=t[_])?(o.__data__=a[_],r[_]=o):e[_]=new s(n,a[_]);for(;_<c;++_)(o=t[_])&&(i[_]=o)}function c(n,t,e,r,i,a,o){var _,c,u,l={},h=t.length,p=a.length,f=new Array(h);for(_=0;_<h;++_)(c=t[_])&&(f[_]=u="$"+o.call(c,c.__data__,_,t),u in l?i[_]=c:l[u]=c);for(_=0;_<p;++_)(c=l[u="$"+o.call(n,a[_],_,a)])?(r[_]=c,c.__data__=a[_],l[u]=null):e[_]=new s(n,a[_]);for(_=0;_<h;++_)(c=t[_])&&l[f[_]]===c&&(i[_]=c)}function u(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}var l="http://www.w3.org/1999/xhtml",h={svg:"http://www.w3.org/2000/svg",xhtml:l,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},p=function(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),h.hasOwnProperty(t)?{space:h[t],local:n}:n};function f(n){return function(){this.removeAttribute(n)}}function d(n){return function(){this.removeAttributeNS(n.space,n.local)}}function m(n,t){return function(){this.setAttribute(n,t)}}function g(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function y(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function v(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}var x=function(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView};function b(n){return function(){this.style.removeProperty(n)}}function w(n,t,e){return function(){this.style.setProperty(n,t,e)}}function k(n,t,e){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function P(n,t){return n.style.getPropertyValue(t)||x(n).getComputedStyle(n,null).getPropertyValue(t)}function E(n){return function(){delete this[n]}}function C(n,t){return function(){this[n]=t}}function M(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function R(n){return n.trim().split(/^|\s+/)}function T(n){return n.classList||new O(n)}function O(n){this._node=n,this._names=R(n.getAttribute("class")||"")}function A(n,t){for(var e=T(n),r=-1,i=t.length;++r<i;)e.add(t[r])}function D(n,t){for(var e=T(n),r=-1,i=t.length;++r<i;)e.remove(t[r])}function q(n){return function(){A(this,n)}}function j(n){return function(){D(this,n)}}function S(n,t){return function(){(t.apply(this,arguments)?A:D)(this,n)}}O.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function L(){this.textContent=""}function U(n){return function(){this.textContent=n}}function I(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function z(){this.innerHTML=""}function B(n){return function(){this.innerHTML=n}}function W(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function N(){this.nextSibling&&this.parentNode.appendChild(this)}function K(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function F(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===l&&t.documentElement.namespaceURI===l?t.createElement(n):t.createElementNS(e,n)}}function V(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}var X=function(n){var t=p(n);return(t.local?V:F)(t)};function H(){return null}function Y(){var n=this.parentNode;n&&n.removeChild(this)}function G(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function $(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}var Q={},Z=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Q={mouseenter:"mouseover",mouseleave:"mouseout"}));function J(n,t,e){return n=nn(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function nn(n,t,e){return function(r){var i=Z;Z=r;try{n.call(this,this.__data__,t,e)}finally{Z=i}}}function tn(n){return n.trim().split(/^|\s+/).map((function(n){var t="",e=n.indexOf(".");return e>=0&&(t=n.slice(e+1),n=n.slice(0,e)),{type:n,name:t}}))}function en(n){return function(){var t=this.__on;if(t){for(var e,r=0,i=-1,a=t.length;r<a;++r)e=t[r],n.type&&e.type!==n.type||e.name!==n.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function rn(n,t,e){var r=Q.hasOwnProperty(n.type)?J:nn;return function(i,a,o){var s,_=this.__on,c=r(t,a,o);if(_)for(var u=0,l=_.length;u<l;++u)if((s=_[u]).type===n.type&&s.name===n.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=e),void(s.value=t);this.addEventListener(n.type,c,e),s={type:n.type,name:n.name,value:t,listener:c,capture:e},_?_.push(s):this.__on=[s]}}function an(n,t,e,r){var i=Z;n.sourceEvent=Z,Z=n;try{return t.apply(e,r)}finally{Z=i}}function on(n,t,e){var r=x(n),i=r.CustomEvent;"function"==typeof i?i=new i(t,e):(i=r.document.createEvent("Event"),e?(i.initEvent(t,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}function sn(n,t){return function(){return on(this,n,t)}}function _n(n,t){return function(){return on(this,n,t.apply(this,arguments))}}var cn=[null];function un(n,t){this._groups=n,this._parents=t}function ln(){return new un([[document.documentElement]],cn)}un.prototype=ln.prototype={constructor:un,select:function(n){"function"!=typeof n&&(n=i(n));for(var t=this._groups,e=t.length,r=new Array(e),a=0;a<e;++a)for(var o,s,_=t[a],c=_.length,u=r[a]=new Array(c),l=0;l<c;++l)(o=_[l])&&(s=n.call(o,o.__data__,l,_))&&("__data__"in o&&(s.__data__=o.__data__),u[l]=s);return new un(r,this._parents)},selectAll:function(n){var t;"function"!=typeof n&&(n=null==(t=n)?a:function(){return this.querySelectorAll(t)});for(var e=this._groups,r=e.length,i=[],o=[],s=0;s<r;++s)for(var _,c=e[s],u=c.length,l=0;l<u;++l)(_=c[l])&&(i.push(n.call(_,_.__data__,l,c)),o.push(_));return new un(i,o)},filter:function(n){var t;"function"!=typeof n&&(t=n,n=function(){return this.matches(t)});for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a)for(var o,s=e[a],_=s.length,c=i[a]=[],u=0;u<_;++u)(o=s[u])&&n.call(o,o.__data__,u,s)&&c.push(o);return new un(i,this._parents)},data:function(n,t){if(!n)return m=new Array(this.size()),h=-1,this.each((function(n){m[++h]=n})),m;var e,r=t?c:_,i=this._parents,a=this._groups;"function"!=typeof n&&(e=n,n=function(){return e});for(var o=a.length,s=new Array(o),u=new Array(o),l=new Array(o),h=0;h<o;++h){var p=i[h],f=a[h],d=f.length,m=n.call(p,p&&p.__data__,h,i),g=m.length,y=u[h]=new Array(g),v=s[h]=new Array(g);r(p,f,y,v,l[h]=new Array(d),m,t);for(var x,b,w=0,k=0;w<g;++w)if(x=y[w]){for(w>=k&&(k=w+1);!(b=v[k])&&++k<g;);x._next=b||null}}return(s=new un(s,i))._enter=u,s._exit=l,s},enter:function(){return new un(this._enter||this._groups.map(o),this._parents)},exit:function(){return new un(this._exit||this._groups.map(o),this._parents)},join:function(n,t,e){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof n?n(r):r.append(n+""),null!=t&&(i=t(i)),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(n){for(var t=this._groups,e=n._groups,r=t.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var _,c=t[s],u=e[s],l=c.length,h=o[s]=new Array(l),p=0;p<l;++p)(_=c[p]||u[p])&&(h[p]=_);for(;s<r;++s)o[s]=t[s];return new un(o,this._parents)},order:function(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r,i=n[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=u);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,s=e[a],_=s.length,c=i[a]=new Array(_),l=0;l<_;++l)(o=s[l])&&(c[l]=o);c.sort(t)}return new un(i,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){var n=new Array(this.size()),t=-1;return this.each((function(){n[++t]=this})),n},node:function(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var n=0;return this.each((function(){++n})),n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i,a=t[e],o=0,s=a.length;o<s;++o)(i=a[o])&&n.call(i,i.__data__,o,a);return this},attr:function(n,t){var e=p(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==t?e.local?d:f:"function"==typeof t?e.local?v:y:e.local?g:m)(e,t))},style:function(n,t,e){return arguments.length>1?this.each((null==t?b:"function"==typeof t?k:w)(n,t,null==e?"":e)):P(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?E:"function"==typeof t?M:C)(n,t)):this.node()[n]},classed:function(n,t){var e=R(n+"");if(arguments.length<2){for(var r=T(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof t?S:t?q:j)(e,t))},text:function(n){return arguments.length?this.each(null==n?L:("function"==typeof n?I:U)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?z:("function"==typeof n?W:B)(n)):this.node().innerHTML},raise:function(){return this.each(N)},lower:function(){return this.each(K)},append:function(n){var t="function"==typeof n?n:X(n);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(n,t){var e="function"==typeof n?n:X(n),r=null==t?H:"function"==typeof t?t:i(t);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Y)},clone:function(n){return this.select(n?$:G)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,e){var r,i,a=tn(n+""),o=a.length;if(!(arguments.length<2)){for(s=t?rn:en,null==e&&(e=!1),r=0;r<o;++r)this.each(s(a[r],t,e));return this}var s=this.node().__on;if(s)for(var _,c=0,u=s.length;c<u;++c)for(r=0,_=s[c];r<o;++r)if((i=a[r]).type===_.type&&i.name===_.name)return _.value},dispatch:function(n,t){return this.each(("function"==typeof t?_n:sn)(n,t))}};var hn=function(n){return"string"==typeof n?new un([[document.querySelector(n)]],[document.documentElement]):new un([[n]],cn)},pn={value:function(){}};function fn(){for(var n,t=0,e=arguments.length,r={};t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new dn(r)}function dn(n){this._=n}function mn(n,t){return n.trim().split(/^|\s+/).map((function(n){var e="",r=n.indexOf(".");if(r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:e}}))}function gn(n,t){for(var e,r=0,i=n.length;r<i;++r)if((e=n[r]).name===t)return e.value}function yn(n,t,e){for(var r=0,i=n.length;r<i;++r)if(n[r].name===t){n[r]=pn,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=e&&n.push({name:t,value:e}),n}dn.prototype=fn.prototype={constructor:dn,on:function(n,t){var e,r=this._,i=mn(n+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(e=(n=i[a]).type)r[e]=yn(r[e],n.name,t);else if(null==t)for(e in r)r[e]=yn(r[e],n.name,null);return this}for(;++a<o;)if((e=(n=i[a]).type)&&(e=gn(r[e],n.name)))return e},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new dn(n)},call:function(n,t){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=0,e=(r=this._[n]).length;a<e;++a)r[a].value.apply(t,i)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,a=r.length;i<a;++i)r[i].value.apply(t,e)}};var vn=fn,xn=function(){for(var n,t=Z;n=t.sourceEvent;)t=n;return t},bn=function(n,t){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]},wn=function(n){var t=xn();return t.changedTouches&&(t=t.changedTouches[0]),bn(n,t)},kn=function(n,t,e){arguments.length<3&&(e=t,t=xn().changedTouches);for(var r,i=0,a=t?t.length:0;i<a;++i)if((r=t[i]).identifier===e)return bn(n,r);return null};function Pn(){Z.stopImmediatePropagation()}var En=function(){Z.preventDefault(),Z.stopImmediatePropagation()},Cn=function(n){var t=n.document.documentElement,e=hn(n).on("dragstart.drag",En,!0);"onselectstart"in t?e.on("selectstart.drag",En,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};var Mn=function(n){return function(){return n}};function Rn(n,t,e,r,i,a,o,s,_,c){this.target=n,this.type=t,this.subject=e,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=_,this._=c}function Tn(){return!Z.ctrlKey&&!Z.button}function On(){return this.parentNode}function An(n){return null==n?{x:Z.x,y:Z.y}:n}function Dn(){return navigator.maxTouchPoints||"ontouchstart"in this}Rn.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};var qn=function(n){return function(){return n}},jn=function(){return 1e-6*(Math.random()-.5)};function Sn(n,t,e,r){if(isNaN(t)||isNaN(e))return n;var i,a,o,s,_,c,u,l,h,p=n._root,f={data:r},d=n._x0,m=n._y0,g=n._x1,y=n._y1;if(!p)return n._root=f,n;for(;p.length;)if((c=t>=(a=(d+g)/2))?d=a:g=a,(u=e>=(o=(m+y)/2))?m=o:y=o,i=p,!(p=p[l=u<<1|c]))return i[l]=f,n;if(s=+n._x.call(null,p.data),_=+n._y.call(null,p.data),t===s&&e===_)return f.next=p,i?i[l]=f:n._root=f,n;do{i=i?i[l]=new Array(4):n._root=new Array(4),(c=t>=(a=(d+g)/2))?d=a:g=a,(u=e>=(o=(m+y)/2))?m=o:y=o}while((l=u<<1|c)==(h=(_>=o)<<1|s>=a));return i[h]=p,i[l]=f,n}var Ln=function(n,t,e,r,i){this.node=n,this.x0=t,this.y0=e,this.x1=r,this.y1=i};function Un(n){return n[0]}function In(n){return n[1]}function zn(n,t,e){var r=new Bn(null==t?Un:t,null==e?In:e,NaN,NaN,NaN,NaN);return null==n?r:r.addAll(n)}function Bn(n,t,e,r,i,a){this._x=n,this._y=t,this._x0=e,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Wn(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var Nn=zn.prototype=Bn.prototype;Nn.copy=function(){var n,t,e=new Bn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Wn(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?n.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Wn(t));return e},Nn.add=function(n){var t=+this._x.call(null,n),e=+this._y.call(null,n);return Sn(this.cover(t,e),t,e,n)},Nn.addAll=function(n){var t,e,r,i,a=n.length,o=new Array(a),s=new Array(a),_=1/0,c=1/0,u=-1/0,l=-1/0;for(e=0;e<a;++e)isNaN(r=+this._x.call(null,t=n[e]))||isNaN(i=+this._y.call(null,t))||(o[e]=r,s[e]=i,r<_&&(_=r),r>u&&(u=r),i<c&&(c=i),i>l&&(l=i));if(_>u||c>l)return this;for(this.cover(_,c).cover(u,l),e=0;e<a;++e)Sn(this,o[e],s[e],n[e]);return this},Nn.cover=function(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(n))+1,a=(r=Math.floor(t))+1;else{for(var o,s,_=i-e,c=this._root;e>n||n>=i||r>t||t>=a;)switch(s=(t<r)<<1|n<e,(o=new Array(4))[s]=c,c=o,_*=2,s){case 0:i=e+_,a=r+_;break;case 1:e=i-_,a=r+_;break;case 2:i=e+_,r=a-_;break;case 3:e=i-_,r=a-_}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=a,this},Nn.data=function(){var n=[];return this.visit((function(t){if(!t.length)do{n.push(t.data)}while(t=t.next)})),n},Nn.extent=function(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Nn.find=function(n,t,e){var r,i,a,o,s,_,c,u=this._x0,l=this._y0,h=this._x1,p=this._y1,f=[],d=this._root;for(d&&f.push(new Ln(d,u,l,h,p)),null==e?e=1/0:(u=n-e,l=t-e,h=n+e,p=t+e,e*=e);_=f.pop();)if(!(!(d=_.node)||(i=_.x0)>h||(a=_.y0)>p||(o=_.x1)<u||(s=_.y1)<l))if(d.length){var m=(i+o)/2,g=(a+s)/2;f.push(new Ln(d[3],m,g,o,s),new Ln(d[2],i,g,m,s),new Ln(d[1],m,a,o,g),new Ln(d[0],i,a,m,g)),(c=(t>=g)<<1|n>=m)&&(_=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=_)}else{var y=n-+this._x.call(null,d.data),v=t-+this._y.call(null,d.data),x=y*y+v*v;if(x<e){var b=Math.sqrt(e=x);u=n-b,l=t-b,h=n+b,p=t+b,r=d.data}}return r},Nn.remove=function(n){if(isNaN(a=+this._x.call(null,n))||isNaN(o=+this._y.call(null,n)))return this;var t,e,r,i,a,o,s,_,c,u,l,h,p=this._root,f=this._x0,d=this._y0,m=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((c=a>=(s=(f+m)/2))?f=s:m=s,(u=o>=(_=(d+g)/2))?d=_:g=_,t=p,!(p=p[l=u<<1|c]))return this;if(!p.length)break;(t[l+1&3]||t[l+2&3]||t[l+3&3])&&(e=t,h=l)}for(;p.data!==n;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):t?(i?t[l]=i:delete t[l],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},Nn.removeAll=function(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this},Nn.root=function(){return this._root},Nn.size=function(){var n=0;return this.visit((function(t){if(!t.length)do{++n}while(t=t.next)})),n},Nn.visit=function(n){var t,e,r,i,a,o,s=[],_=this._root;for(_&&s.push(new Ln(_,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!n(_=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&_.length){var c=(r+a)/2,u=(i+o)/2;(e=_[3])&&s.push(new Ln(e,c,u,a,o)),(e=_[2])&&s.push(new Ln(e,r,u,c,o)),(e=_[1])&&s.push(new Ln(e,c,i,a,u)),(e=_[0])&&s.push(new Ln(e,r,i,c,u))}return this},Nn.visitAfter=function(n){var t,e=[],r=[];for(this._root&&e.push(new Ln(this._root,this._x0,this._y0,this._x1,this._y1));t=e.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,_=t.x1,c=t.y1,u=(o+_)/2,l=(s+c)/2;(a=i[0])&&e.push(new Ln(a,o,s,u,l)),(a=i[1])&&e.push(new Ln(a,u,s,_,l)),(a=i[2])&&e.push(new Ln(a,o,l,u,c)),(a=i[3])&&e.push(new Ln(a,u,l,_,c))}r.push(t)}for(;t=r.pop();)n(t.node,t.x0,t.y0,t.x1,t.y1);return this},Nn.x=function(n){return arguments.length?(this._x=n,this):this._x},Nn.y=function(n){return arguments.length?(this._y=n,this):this._y};function Kn(){}function Fn(n,t){var e=new Kn;if(n instanceof Kn)n.each((function(n,t){e.set(t,n)}));else if(Array.isArray(n)){var r,i=-1,a=n.length;if(null==t)for(;++i<a;)e.set(i,n[i]);else for(;++i<a;)e.set(t(r=n[i],i,n),r)}else if(n)for(var o in n)e.set(o,n[o]);return e}Kn.prototype=Fn.prototype={constructor:Kn,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};var Vn=Fn;function Xn(){}var Hn=Vn.prototype;function Yn(n,t){var e=new Xn;if(n instanceof Xn)n.each((function(n){e.add(n)}));else if(n){var r=-1,i=n.length;if(null==t)for(;++r<i;)e.add(n[r]);else for(;++r<i;)e.add(t(n[r],r,n))}return e}Xn.prototype=Yn.prototype={constructor:Xn,has:Hn.has,add:function(n){return this["$"+(n+="")]=n,this},remove:Hn.remove,clear:Hn.clear,values:Hn.keys,size:Hn.size,empty:Hn.empty,each:Hn.each};function Gn(n){return n.index}function $n(n,t){var e=n.get(t);if(!e)throw new Error("missing: "+t);return e}var Qn,Zn,Jn=0,nt=0,tt=0,et=0,rt=0,it=0,at="object"==typeof performance&&performance.now?performance:Date,ot="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function st(){return rt||(ot(_t),rt=at.now()+it)}function _t(){rt=0}function ct(){this._call=this._time=this._next=null}function ut(n,t,e){var r=new ct;return r.restart(n,t,e),r}function lt(){rt=(et=at.now())+it,Jn=nt=0;try{!function(){st(),++Jn;for(var n,t=Qn;t;)(n=rt-t._time)>=0&&t._call.call(null,n),t=t._next;--Jn}()}finally{Jn=0,function(){var n,t,e=Qn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Qn=t);Zn=n,pt(r)}(),rt=0}}function ht(){var n=at.now(),t=n-et;t>1e3&&(it-=t,et=n)}function pt(n){Jn||(nt&&(nt=clearTimeout(nt)),n-rt>24?(n<1/0&&(nt=setTimeout(lt,n-at.now()-it)),tt&&(tt=clearInterval(tt))):(tt||(et=at.now(),tt=setInterval(ht,1e3)),Jn=1,ot(lt)))}function ft(n){return n.x}function dt(n){return n.y}ct.prototype=ut.prototype={constructor:ct,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?st():+e)+(null==t?0:+t),this._next||Zn===this||(Zn?Zn._next=this:Qn=this,Zn=this),this._call=n,this._time=e,pt()},stop:function(){this._call&&(this._call=null,this._time=1/0,pt())}};var mt=Math.PI*(3-Math.sqrt(5)),gt=e(0);function yt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var vt={select:hn,event:Z,drag:function(){var n,t,e,r,i=Tn,a=On,o=An,s=Dn,_={},c=vn("start","drag","end"),u=0,l=0;function h(n){n.on("mousedown.drag",p).filter(s).on("touchstart.drag",m).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&i.apply(this,arguments)){var o=v("mouse",a.apply(this,arguments),wn,this,arguments);o&&(hn(Z.view).on("mousemove.drag",f,!0).on("mouseup.drag",d,!0),Cn(Z.view),Pn(),e=!1,n=Z.clientX,t=Z.clientY,o("start"))}}function f(){if(En(),!e){var r=Z.clientX-n,i=Z.clientY-t;e=r*r+i*i>l}_.mouse("drag")}function d(){var n,t,r,i;hn(Z.view).on("mousemove.drag mouseup.drag",null),n=Z.view,t=e,r=n.document.documentElement,i=hn(n).on("dragstart.drag",null),t&&(i.on("click.drag",En,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),En(),_.mouse("end")}function m(){if(i.apply(this,arguments)){var n,t,e=Z.changedTouches,r=a.apply(this,arguments),o=e.length;for(n=0;n<o;++n)(t=v(e[n].identifier,r,kn,this,arguments))&&(Pn(),t("start"))}}function g(){var n,t,e=Z.changedTouches,r=e.length;for(n=0;n<r;++n)(t=_[e[n].identifier])&&(En(),t("drag"))}function y(){var n,t,e=Z.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<i;++n)(t=_[e[n].identifier])&&(Pn(),t("end"))}function v(n,t,e,r,i){var a,s,l,p=e(t,n),f=c.copy();if(an(new Rn(h,"beforestart",a,n,u,p[0],p[1],0,0,f),(function(){return null!=(Z.subject=a=o.apply(r,i))&&(s=a.x-p[0]||0,l=a.y-p[1]||0,!0)})))return function o(c){var d,m=p;switch(c){case"start":_[n]=o,d=u++;break;case"end":delete _[n],--u;case"drag":p=e(t,n),d=u}an(new Rn(h,c,a,n,d,p[0]+s,p[1]+l,p[0]-m[0],p[1]-m[1],f),f.apply,f,[c,r,i])}}return h.filter=function(n){return arguments.length?(i="function"==typeof n?n:Mn(!!n),h):i},h.container=function(n){return arguments.length?(a="function"==typeof n?n:Mn(n),h):a},h.subject=function(n){return arguments.length?(o="function"==typeof n?n:Mn(n),h):o},h.touchable=function(n){return arguments.length?(s="function"==typeof n?n:Mn(!!n),h):s},h.on=function(){var n=c.on.apply(c,arguments);return n===c?h:n},h.clickDistance=function(n){return arguments.length?(l=(n=+n)*n,h):Math.sqrt(l)},h},forceLink:function(n){var t,e,r,i,a,o=Gn,s=function(n){return 1/Math.min(i[n.source.index],i[n.target.index])},_=qn(30),c=1;function u(r){for(var i=0,o=n.length;i<c;++i)for(var s,_,u,l,h,p,f,d=0;d<o;++d)_=(s=n[d]).source,l=(u=s.target).x+u.vx-_.x-_.vx||jn(),h=u.y+u.vy-_.y-_.vy||jn(),l*=p=((p=Math.sqrt(l*l+h*h))-e[d])/p*r*t[d],h*=p,u.vx-=l*(f=a[d]),u.vy-=h*f,_.vx+=l*(f=1-f),_.vy+=h*f}function l(){if(r){var s,_,c=r.length,u=n.length,l=Vn(r,o);for(s=0,i=new Array(c);s<u;++s)(_=n[s]).index=s,"object"!=typeof _.source&&(_.source=$n(l,_.source)),"object"!=typeof _.target&&(_.target=$n(l,_.target)),i[_.source.index]=(i[_.source.index]||0)+1,i[_.target.index]=(i[_.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)_=n[s],a[s]=i[_.source.index]/(i[_.source.index]+i[_.target.index]);t=new Array(u),h(),e=new Array(u),p()}}function h(){if(r)for(var e=0,i=n.length;e<i;++e)t[e]=+s(n[e],e,n)}function p(){if(r)for(var t=0,i=n.length;t<i;++t)e[t]=+_(n[t],t,n)}return null==n&&(n=[]),u.initialize=function(n){r=n,l()},u.links=function(t){return arguments.length?(n=t,l(),u):n},u.id=function(n){return arguments.length?(o=n,u):o},u.iterations=function(n){return arguments.length?(c=+n,u):c},u.strength=function(n){return arguments.length?(s="function"==typeof n?n:qn(+n),h(),u):s},u.distance=function(n){return arguments.length?(_="function"==typeof n?n:qn(+n),p(),u):_},u},forceManyBody:function(){var n,t,e,r,i=qn(-30),a=1,o=1/0,s=.81;function _(r){var i,a=n.length,o=zn(n,ft,dt).visitAfter(u);for(e=r,i=0;i<a;++i)t=n[i],o.visit(l)}function c(){if(n){var t,e,a=n.length;for(r=new Array(a),t=0;t<a;++t)e=n[t],r[e.index]=+i(e,t,n)}}function u(n){var t,e,i,a,o,s=0,_=0;if(n.length){for(i=a=o=0;o<4;++o)(t=n[o])&&(e=Math.abs(t.value))&&(s+=t.value,_+=e,i+=e*t.x,a+=e*t.y);n.x=i/_,n.y=a/_}else{(t=n).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}n.value=s}function l(n,i,_,c){if(!n.value)return!0;var u=n.x-t.x,l=n.y-t.y,h=c-i,p=u*u+l*l;if(h*h/s<p)return p<o&&(0===u&&(p+=(u=jn())*u),0===l&&(p+=(l=jn())*l),p<a&&(p=Math.sqrt(a*p)),t.vx+=u*n.value*e/p,t.vy+=l*n.value*e/p),!0;if(!(n.length||p>=o)){(n.data!==t||n.next)&&(0===u&&(p+=(u=jn())*u),0===l&&(p+=(l=jn())*l),p<a&&(p=Math.sqrt(a*p)));do{n.data!==t&&(h=r[n.data.index]*e/p,t.vx+=u*h,t.vy+=l*h)}while(n=n.next)}}return _.initialize=function(t){n=t,c()},_.strength=function(n){return arguments.length?(i="function"==typeof n?n:qn(+n),c(),_):i},_.distanceMin=function(n){return arguments.length?(a=n*n,_):Math.sqrt(a)},_.distanceMax=function(n){return arguments.length?(o=n*n,_):Math.sqrt(o)},_.theta=function(n){return arguments.length?(s=n*n,_):Math.sqrt(s)},_},forceCenter:function(n,t){var e;function r(){var r,i,a=e.length,o=0,s=0;for(r=0;r<a;++r)o+=(i=e[r]).x,s+=i.y;for(o=o/a-n,s=s/a-t,r=0;r<a;++r)(i=e[r]).x-=o,i.y-=s}return null==n&&(n=0),null==t&&(t=0),r.initialize=function(n){e=n},r.x=function(t){return arguments.length?(n=+t,r):n},r.y=function(n){return arguments.length?(t=+n,r):t},r},forceSimulation:function(n){var t,e=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=Vn(),_=ut(u),c=vn("tick","end");function u(){l(),c.call("tick",t),e<r&&(_.stop(),c.call("end",t))}function l(r){var _,c,u=n.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(a-e)*i,s.each((function(n){n(e)})),_=0;_<u;++_)null==(c=n[_]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,e=0,r=n.length;e<r;++e){if((t=n[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(e),a=e*mt;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(n),t}return null==n&&(n=[]),h(),t={tick:l,restart:function(){return _.restart(u),t},stop:function(){return _.stop(),t},nodes:function(e){return arguments.length?(n=e,h(),s.each(p),t):n},alpha:function(n){return arguments.length?(e=+n,t):e},alphaMin:function(n){return arguments.length?(r=+n,t):r},alphaDecay:function(n){return arguments.length?(i=+n,t):+i},alphaTarget:function(n){return arguments.length?(a=+n,t):a},velocityDecay:function(n){return arguments.length?(o=1-n,t):1-o},force:function(n,e){return arguments.length>1?(null==e?s.remove(n):s.set(n,p(e)),t):s.get(n)},find:function(t,e,r){var i,a,o,s,_,c=0,u=n.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(o=(i=t-(s=n[c]).x)*i+(a=e-s.y)*a)<r&&(_=s,r=o);return _},on:function(n,e){return arguments.length>1?(c.on(n,e),t):c.on(n)}}}},xt=function(){function n(t,e,r){var i,a,o,s=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o=function(n){n.x=vt.event.x,n.y=vt.event.y,s.simulation.alphaTarget(Object(gt.random)(0,1,!0)),s.simulation.restart()},(a="drag")in(i=this)?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,this.data=t,this.wrapper=e,this.menu=r}var t,e,r;return t=n,(e=[{key:"init",value:function(n,t){var e=this;this.svg=vt.select(this.wrapper).append("svg").attr("width",n).attr("height",t),this.simulation=vt.forceSimulation().force("link",vt.forceLink().id((function(n){return n.index})).distance(Object(gt.random)(1,t,!0)).strength(Object(gt.random)(.04,.1,!0))).force("charge",vt.forceManyBody()).force("center",vt.forceCenter(n/2,t/2)),this.simulation.nodes(this.data.nodes),this.simulation.force("link").links(this.data.links),this.simulation.on("tick",(function(){e.nodes.attr("transform",(function(n){return"translate(".concat([n.x,n.y],")")}))})),this.nodes=this.svg.selectAll(".group-node").data(this.data.nodes).enter().append("g"),this[this.menu.current]()}},{key:"reset",value:function(){this.simulation.stop(),this.wrapper.innerHTML="",this.svg="",this.nodes=[],this.simulation="",this.init(window.innerWidth,window.innerHeight)}},{key:"appendNames",value:function(){this.nodes.append("text").attr("class","name").attr("font-size","11").attr("dx","-1em").attr("dy","-1em").attr("fill","#358a97").text((function(n){return n.name}))}},{key:"circle",value:function(){this.nodes.append("circle").attr("class","circle").attr("fill","#d9eff1").attr("stroke","#253c3e").attr("stroke-width","1.5").attr("r",(function(n){return n.weight/3})).call(vt.drag().on("drag",this.drag))}},{key:"line",value:function(){this.nodes.append("line").attr("class","line").attr("x1","0").attr("y1","0").attr("x2",(function(n){return n.x})).attr("y2",(function(n){return n.y})).attr("stroke","#f9dd98").attr("stroke-width",(function(n){return n.weight/30})).attr("r",(function(n){return n.weight/5})).call(vt.drag().on("drag",this.drag))}},{key:"polygon",value:function(){this.nodes.append("path").attr("d",(function(n){return"M ".concat(n.weight/5," ").concat(2*n.weight," L ").concat(n.x/4," ").concat(n.y/4," L ").concat(n.x/8," ").concat(n.weight/10," Z")})).attr("fill","rgba(255,205,85,0.7)").attr("stroke","black").attr("stroke-width",3).call(vt.drag().on("drag",this.drag))}},{key:"rect",value:function(){this.nodes.append("rect").attr("x","0").attr("y","0").attr("width",(function(n){return n.weight/5})).attr("height",(function(n){return n.weight/2.5})).attr("fill","yellow").call(vt.drag().on("drag",this.drag))}},{key:"heads",value:function(){this.nodes.append("image").attr("class","image").attr("xlink:href","/img/assets/sprites/head.png").attr("height",(function(n){return n.weight/2})).attr("width","100").call(vt.drag().on("drag",this.drag))}}])&&yt(t.prototype,e),r&&yt(t,r),n}();function bt(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var wt=new(function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.options=["circle","line","polygon","rect","heads","randomize"],this.current=this.options[Object(gt.random)(0,this.options.length-1)]}var t,e,r;return t=n,(e=[{key:"init",value:function(n,t){var e=this;this.network=n;var r=document.createElement("ul");r.className="network-options",this.options.forEach((function(t){var i=document.createElement("li");i.innerHTML=t,"randomize"===t?(i.className="randomizer",i.onclick=function(){n.reset(e.current)}):e.optionsClickEvent(i,t),t===e.current&&(i.className="current",e.current=t),r.appendChild(i)})),t.appendChild(r)}},{key:"optionsClickEvent",value:function(n,t){var e=this;n.onclick=function(n){document.querySelector(".network-options").querySelector(".current").classList.remove("current"),n.target.classList.add("current"),e.current=t,e.network.reset()}}},{key:"getCurrent",value:function(){return this.current}}])&&bt(t.prototype,e),r&&bt(t,r),n}()),kt=document.getElementById("ddd-container"),Pt=document.createElement("section");kt.appendChild(Pt),Object(gt.json)("/data/facebook/friends.json").then((function(n){n.nodes.forEach((function(n){n.weight=0})),n.links.forEach((function(t){n.nodes[t.source].weight++}));var t=new xt(n,Pt,wt);wt.init(t,kt),t.init(window.innerWidth,window.innerHeight)})).catch((function(n){n&&console.error(n)}))}});