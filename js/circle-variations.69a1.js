!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=35)}({0:function(t,e,r){"use strict";r.d(e,"e",(function(){return h})),r.d(e,"g",(function(){return c})),r.d(e,"c",(function(){return u})),r.d(e,"r",(function(){return f})),r.d(e,"t",(function(){return p})),r.d(e,"n",(function(){return m})),r.d(e,"h",(function(){return o})),r.d(e,"i",(function(){return a})),r.d(e,"l",(function(){return g})),r.d(e,"u",(function(){return v})),r.d(e,"s",(function(){return y})),r.d(e,"k",(function(){return x})),r.d(e,"q",(function(){return b})),r.d(e,"p",(function(){return w})),r.d(e,"b",(function(){return E})),r.d(e,"d",(function(){return S})),r.d(e,"o",(function(){return C})),r.d(e,"m",(function(){return A})),r.d(e,"a",(function(){return T})),r.d(e,"f",(function(){return z})),r.d(e,"j",(function(){return O}));class i{constructor(t,e){this.x=t||0,this.y=e||0}clone(){return new i(this.x,this.y)}copy(t){this.set(t.x,t.y)}equals(t){return t.x===this.x&&t.y===this.y}set(t,e){this.x=t||0,this.y=e||0!==e?this.x:0}}class n{constructor(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0}}class s{constructor(t,e,r,i,n,s){this.a=t||1,this.b=e||0,this.c=r||0,this.d=i||1,this.tx=n||0,this.ty=s||0}toArray(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,e){e=e||new i;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e}applyInverse(t,e){e=e||new i;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,s=t.y;return e.x=this.d*r*n+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*s+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,s=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=s*e-this.ty*r,this.ty=s*r+this.ty*e,this}append(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this}setTransform(t,e,r,i,n,s,a){var o=Math.sin(a),h=Math.cos(a),c=h*n,u=o*n,l=-o*s,d=h*s;return this.a=c+l,this.b=u+d,this.c=c+l,this.d=u+d,this.tx=t+(r*c+i*l),this.ty=e+(r*u+i*d),this}prepend(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}invert(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,s=t*i-e*r;return this.a=i/s,this.b=-e/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-i*n)/s,this.ty=-(t*this.ty-e*n)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){var t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copy(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}}class a{constructor(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0}set(t,e,r){return this.x=t,this.y=e,this.z=r,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setLength(t){return this.multiplyScalar(t/this.length())}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}normalize(){return this.divideScalar(this.length())}distanceToSquared(t){var e=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return e*e+r*r+i*i}limit(t){return this.lengthSq()>t*t&&(this.normalize(),this.mult(t)),this}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}}class o{constructor(){this.reset()}reset(){this.m=[1,0,0,1,0,0]}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],r=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=r,this.m[2]=i,this.m[3]=n,this.m[4]=s,this.m[5]=a}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,r=-this.m[1]*t,i=-this.m[2]*t,n=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=r,this.m[2]=i,this.m[3]=n,this.m[4]=s,this.m[5]=a}rotate(t){var e=Math.cos(t),r=Math.sin(t),i=this.m[0]*e+this.m[2]*r,n=this.m[1]*e+this.m[3]*r,s=this.m[0]*-r+this.m[2]*e,a=this.m[1]*-r+this.m[3]*e;this.m[0]=i,this.m[1]=n,this.m[2]=s,this.m[3]=a}translate(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e}translateAndRotate(t,e,r){var i=Math.cos(r),n=Math.sin(r),s=this.m[0]*i+this.m[2]*n,a=this.m[1]*i+this.m[3]*n,o=this.m[0]*-n+this.m[2]*i,h=this.m[1]*-n+this.m[3]*i;this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this.m[0]=s,this.m[1]=a,this.m[2]=o,this.m[3]=h}scale(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e}transformPoint(t,e){var r=t,i=e;return[t=r*this.m[0]+i*this.m[2]+this.m[4],e=r*this.m[1]+i*this.m[3]+this.m[5]]}}const h=Math.PI,c=2*h,u=h/2,l=h/4,d=h/180;function f(t,e,r){let i=Math.floor(Math.random()*(e-t))+t;return r&&(i=Math.random()*(e-t)+t),i}function p(t,e){return t/100*e}function m(t,e){return t/e*100}function g(t,e){const r=document.createElement("canvas"),i=r.getContext("2d");if(e=e||{},r.width=e.w||window.innerWidth,r.height=e.h||window.innerHeight,r.style.position=e.position||"absolute",r.style.top=e.top||0,r.style.left=e.left||0,r.style.zIndex=e.zi||9,e.css)for(var n in e.css)r.style[n]=e.css[n];return i.font=e.font||"12px Inconsolata",t&&t.appendChild(r),{container:t,canvas:r,w:r.width,h:r.height,ctx:i,center:{x:r.width/2,y:r.height/2}}}function v(t,e,r,i,n){var s=document.createElement("ul"),a="";s.id="years",s.style.zIndex=99999;for(var o=t;o<=e;o++){var h=document.createElement("li"),c=document.createTextNode(o);o===r&&(h.className="current",a=h),h.appendChild(c),s.appendChild(h),h.addEventListener("click",i,!1)}n(s,a)}function y(t,e,r){r=r||"current",t&&t.classList.remove(r),e.classList.add(r)}function x(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",i=0;i<t.length;){var n,s,a=255&t.charCodeAt(i++),o=255&t.charCodeAt(i++),h=255&t.charCodeAt(i++),c=a>>2,u=(3&a)<<4|o>>4;isNaN(o)?n=s=64:(n=(15&o)<<2|h>>6,s=isNaN(h)?64:63&h),r+=e.charAt(c)+e.charAt(u)+e.charAt(n)+e.charAt(s)}return r}function b(t){return(new E).json(t)}function w(t){var e=new E;return e.req.overrideMimeType("text/plain; charset=x-user-defined"),e.getD(t).then((function(t){return void 0!==t.ret?t:t.data})).catch((function(t){console.error(t)}))}class E{constructor(){this.req=new XMLHttpRequest}abort(){this.req.abort()}json(t){return this.req.overrideMimeType("application/json"),this.getD(t).then((function(t){return void 0!==t.ret?(t.data=JSON.parse(t.data),t):JSON.parse(t.data)})).catch((function(t){console.error("Error in data request, reason:",t)}))}getD(t){if("object"==typeof t){if(!t.url)return void console.error("The request did not receive a url, instead got",t.url)}else"string"==typeof t&&t.length>0&&(t={url:t});var e,r,i=!1,n=this.req,s=t.loadingMsg||"Loading",a=t.container||document.body,o=a.querySelector(".loading");o||((o=document.createElement("div")).className="loading",a.appendChild(o));var h=!!t.loadingEle,c=h?t.loadingEle:null;if(!c){var u=a.querySelector(".loading-ele");(c=document.createElement("div")).className="loadingEle",u?o.insertBefore(u,c):o.appendChild(c)}function l(){c.style.opacity=1,o.style.zIndex=9,(e=c.querySelector(".loading-msg"))||((e=document.createElement("p")).className="loading-msg",e.innerText=s,c.appendChild(e))}function d(t){if(t.lengthComputable){i||(r=c.querySelector(".progress"))||((r=document.createElement("progress")).className="progress",r.style.zIndex=0,r.max=100,r.value=0,c.insertBefore(r,e),i=!0);var a=t.loaded/t.total*100;r.value=a,e.innerText=Math.floor(a)+"%\n"+s}else n.onprogress=null}function f(){h||(c.style.display="none"),o.style.zIndex=0}return new Promise((function(e,r){n.open("GET",t.url,!0),n.onloadstart=l,n.onprogress=d,n.onloadend=f,n.onload=function(){200===n.status?e({data:n.response,ret:t.ret}):r(n.statusText)},n.onerror=function(){r("Network Error")},n.send(null)}))}}class S{constructor(t){var e=t.width||window.innerWidth,r=t.height||window.innerHeight,i=t.zoom||11;t.center?this.center={lon:t.center.lon,lat:t.center.lat}:this.center={},this.hasCenter=null,this.updateSize(e,r,i)}updateSize(t,e,r){this.stageWidth=t,this.stageCenterY=e/2,this.zoom=r||this.zoom,this.zoomX=this.stageWidth*this.zoom,this.zoomY=this.stageCenterY*this.zoom,this.zoomRad=this.zoomX/360,this.newCenter(this.center.lon,this.center.lat)}newCenter(t,e){this.hasCenter=!1,this.convertCoordinates(t,e),this.hasCenter=!0}convertCoordinates(t,e){var r=+e*d,i=Math.log(Math.tan(l+r/2)),n=(+t+180)*this.zoomRad,s=this.zoomY-this.zoomX*i/c;return this.hasCenter?(n-=this.center.x,s-=this.center.y):(this.center.x=n,this.center.y=s),{x:n,y:s}}}function C(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,r,i){return e+e+r+r+i+i}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function A(t){return 1/(255/t)}class T{constructor(t,e){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return console.error("The first parameter needs to be an Object.","Example:","{audio1: 'audio1.mp3', audio2: 'audio2.mp3'}");window.AudioContext=window.AudioContext||window.webkitAudioContext;var r,i,n=Object.keys(t).length,s=0,a={};for(var o in this.ctx=new AudioContext,t)r=t[o],h.bind(this),document.body,i=void 0,(i=new E).req.responseType="arraybuffer",i.getD(r).then((function(t){return t})).catch((function(t){console.error("Error fetching audio file",t)}));function h(t,r){this.ctx.decodeAudioData(t,function(t){if(!t)return void console.error("Error decoding audio file:",r);var i=this.ctx.createBufferSource();i.buffer=t,a[r]=i,++s===n&&e(a)}.bind(this),(function(t){console.error("decodeAudioData error",t)}))}}source(t){return(t=this.ctx.createBufferSource()).buffer=buffer,t.connect(this.gainNode),this.gainNode.connect(this.ctx.destination),t}}class z{constructor(t,e,r){this.children=[],this.texture={},this.data=t,this.renderer=e,this.loadImg(t.url),this.setBatchSize(r)}setBatchSize(t){t>16384&&(t=16384),t>15e3&&(t=15e3),this.batchSize=t}renderWebGL(t){t.currentRenderer.render(this)}bindTexture(){var t=this.renderer.gl,e=this.texture;return e.glTexture||(e.glTexture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e.glTexture),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.img),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),e.mipmap&&e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),!0}loadImg(t){this.img=new Image,this.img.onload=this.imgLoaded.bind(this),this.img.src=t}imgLoaded(){for(var t,e,r=this.img.naturalWidth,i=this.img.naturalHeight,n={loaded:!0,isPowerOfTwo:(t=r,e=i,t>0&&0==(t&t-1)&&e>0&&0==(e&e-1))},s=[],a=0;a<this.data.frames.length;a++){var o=this.data.frames[a];s.push({width:o.w,height:o.h,uvs:[o.x/r,o.y/i,(o.x+o.w)/r,(o.y+o.h)/i]})}this.renderer.frames=s,this.texture=n,this.bindTexture(),this.data.cb&&this.data.cb()}particle(t){return(t=t||{}).scale=t.scale||new i(1,1),t.alpha=t.alpha||1,t.rotation=t.rotation||0,t.x=t.x||0,t.y=t.y||0,t.frame=t.frame||0,this.children.push(t),this.children.length>this.batchSize&&this.setBatchSize(this.children.length),t}}class N{constructor(t,e,r){this.gl=t,this.size=new n(0,0,1,1),this.projectionMatrix=new s,this.resize(e,r)}resize(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e;var r=this.projectionMatrix.identity();r.a=2/this.size.width,r.d=-2/this.size.height,r.tx=-1,r.ty=1}}}var P=r(1),R=r.n(P),M=r(2),_=r.n(M);class U{constructor(t){this.gl=t,this.uniforms={projectionMatrix:{}},this.attributes={};var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,R.a),t.compileShader(e);var r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,_.a),t.compileShader(r);var i=t.createProgram();t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),t.deleteShader(e),t.deleteShader(r),this.program=i,t.useProgram(i),this.cacheUniformLocations(["projectionMatrix"]),this.cacheAttributeLocations(["aVertexPosition","aTextureCoord","aAlpha","aPositionCoord","aRotation"])}cacheUniformLocations(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])}cacheAttributeLocations(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])}}class L{constructor(t,e){this.renderer=e,this.gl=t,this.start()}start(){var t=this.gl,e=new U(t);this.properties=[{attribute:e.attributes.aVertexPosition,size:2},{attribute:e.attributes.aPositionCoord,size:2},{attribute:e.attributes.aRotation,size:1},{attribute:e.attributes.aTextureCoord,size:2},{attribute:e.attributes.aAlpha,size:1}];for(var r=0;r<this.properties.length;r++)t.enableVertexAttribArray(r);var i=this.renderer.renderTarget.projectionMatrix;t.uniformMatrix3fv(e.uniforms.projectionMatrix._location,!1,i.toArray(!0))}render(t){t.texture;var e=t.children,r=e.length,i=t.maxSize;this.size=t.batchSize;var n=this.gl;if(0!==r){if(r>i&&(r=i),!this.data){this.initBuffers();for(var s=0;s<this.properties.length;s++){var a=this.properties[s];n.vertexAttribPointer(a.attribute,a.size,n.FLOAT,!1,4*this.stride,4*a.offset)}}this.updateData(e,r),n.bufferSubData(n.ARRAY_BUFFER,0,this.data),n.drawElements(n.TRIANGLES,6*r,n.UNSIGNED_SHORT,0)}}initBuffers(){var t=this.gl,e=0;this.stride=0;for(var r=0;r<this.properties.length;r++){var i=this.properties[r];i.offset=e,e+=i.size,this.stride+=i.size}this.data=new Float32Array(this.size*this.stride*4),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,this.data,t.DYNAMIC_DRAW);for(var n=6*this.size,s=new Uint16Array(n),a=(r=0,0);r<n;r+=6,a+=4)s[r]=a,s[r+1]=a+1,s[r+2]=a+2,s[r+3]=a,s[r+4]=a+2,s[r+5]=a+3;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ELEMENT_ARRAY_BUFFER,s,t.STATIC_DRAW)}updateData(t,e){this.stride;for(var r=0,i=this.data,n=this.renderer.frames,s=0;s<e;s++){var a=t[s],o=n[a.frame],h=o.width*a.scale,c=o.height*a.scale,u=a.x,l=a.y,d=a.rotation,f=o.uvs,p=a.alpha;i[r]=-h,i[++r]=-c,i[++r]=u,i[++r]=l,i[++r]=d,i[++r]=f[0],i[++r]=f[1],i[++r]=p,i[++r]=h,i[++r]=-c,i[++r]=u,i[++r]=l,i[++r]=d,i[++r]=f[2],i[++r]=f[1],i[++r]=p,i[++r]=h,i[++r]=c,i[++r]=u,i[++r]=l,i[++r]=d,i[++r]=f[2],i[++r]=f[3],i[++r]=p,i[++r]=-h,i[++r]=c,i[++r]=u,i[++r]=l,i[++r]=d,i[++r]=f[0],i[++r]=f[3],i[++r]=p,r++}}}class O{constructor(t,e){this.container=t,e=e||{},this.width=e.width||window.innerWidth,this.height=e.height||window.innerHeight,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",t.appendChild(this.canvas);var r=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl",ctxOptions);this.gl=r,r.disable(r.DEPTH_TEST),r.disable(r.CULL_FACE),r.enable(r.BLEND),this.renderTarget=new N(r,this.width,this.height),this.currentRenderer=new L(r,this),this.resize(this.width,this.height)}render(t){t.renderWebGL(this)}resize(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e,this.gl.viewport(0,0,t,e)}}},1:function(t,e){t.exports="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aAlpha;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying float vAlpha;\n\nvoid main(void){\n  float cosine = cos(aRotation);\n  float sine = sin(aRotation);\n\n  vec3 v;\n  v.x = aVertexPosition.x * cosine - aVertexPosition.y * sine;\n  v.y = aVertexPosition.x * sine + aVertexPosition.y * cosine;\n  v.z = 1.0;\n\n  // Move\n  v.xy += aPositionCoord;\n\n  gl_Position = vec4(projectionMatrix * v, 1.0);\n\n  vTextureCoord = aTextureCoord;\n  vAlpha = aAlpha;\n}"},2:function(t,e){t.exports="precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying float vAlpha;\n\nuniform sampler2D uImage;\n\nvoid main(void){\n  vec4 color = texture2D(uImage, vTextureCoord) * vAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}"},35:function(t,e,r){"use strict";r.r(e);var i=r(0),n=r(4),s={pencil:{title:"Pencil",sprite:"/img/assets/sprites/pencil_f4_w80-h60.png",cols:4,rows:1,width:80,height:60,offX:10,offY:60,opacity:.2},ink:{title:"Ink",sprite:"/img/assets/sprites/ink_f14_w840_h200_offx26_offy197.png",cols:14,rows:1,width:840,height:200,offX:26,offY:197,opacity:.9},birds:{title:"Birds",sprite:"/img/assets/sprites/curiousBird_fh7-fv5_w944-h1111.jpg",cols:7,rows:5,width:944,height:1111,offX:67,offY:190,opacity:.3},numbers:{title:"Numbers",sprite:"/img/assets/sprites/numbersFrom0to6_9_col10_row_7_w3050_h1638_offx162_offy176.jpg",cols:10,rows:7,width:3050,height:1638,offX:162,offY:176,opacity:.1}};function a(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o,h,c,u=document.getElementById("ddd-container"),l=Object(i.l)(u),d=[],f=0,p=!1,m=new Image,g=!1,v=new i.b,y={radius:150,rangeStart:0,rangeEnd:8,yearStart:1993,yearEnd:2015,opacity:.2};function x(t){y.sprite=t.sprite,y.spriteCols=t.cols,y.spriteRows=t.rows,y.spriteW=t.width,y.spriteH=t.height,y.frameOffsetX=t.offX,y.frameOffsetY=t.offY,y.opacity=t.opacity,y.step=y.rangeEnd/t.cols}function b(){v.json({url:"/data/ingeominas/eq"+y.year+".json",container:u,loadngMsg:"Loading seismic data of year "+y.year}).then((function(t){d=t,g?o.draw():w()})).catch((function(t){return console.error(t)}))}function w(){m.onload=function(){g=!0,o.draw()},m.src=y.sprite}function E(t,e){u.appendChild(t),h=e||h}function S(t){v.abort(),Object(i.s)(h,t.target),h=t.target,y.year=Number(t.target.textContent),o.redraw(!0)}function C(t){var e=c.dataset.sprite,r=t.target.dataset.sprite;Object(i.s)(c,t.target),e!==r&&(x(s[r]),w()),c=t.target,o.redraw(!1)}function A(){return"Radius: "+y.radius+"px"}function T(){return y.rangeStart+" - "+y.rangeEnd+" Ml"}function z(){return"Opacity: "+y.opacity}var N=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.stopAnimation=!1,this.yearEnd=r.year+1,this.yearLength=.001*(Date.parse(this.yearEnd)-Date.parse(r.year)),this.secondsW=360/this.yearLength}var e,r,i;return e=t,(r=[{key:"draw",value:function(){if(this.ctx.globalAlpha=y.opacity,this.frameW=y.spriteW/y.spriteCols|0,this.frameH=y.spriteH/y.spriteRows|0,!p)for(var t=0;t<d.length;t++)d[t].ml>=y.rangeStart&&d[t].ml<=y.rangeEnd&&this.defineRenderMode(d[t].date.unix,d[t].ml)}},{key:"defineRenderMode",value:function(t,e){var r=this.ctx,i=(t-Date.parse(y.year)/1e3)*this.secondsW;r.save(),r.translate(l.center.x,l.center.y),r.rotate(i*Math.PI/180),1===y.spriteRows?this.oneRowSpriteStroke(e):this.multiRowSpriteStroke(e),l.ctx.restore()}},{key:"redraw",value:function(t){f=0,p=!!c.classList.contains("play"),this.clearCanvas(),t?(d.pop(),b()):this.draw()}},{key:"updatePosition",value:function(){p||(this.clearCanvas(),this.draw())}},{key:"clearCanvas",value:function(){var t=this.ctx;t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="#FFF",t.globalAlpha=1,t.fillRect(0,0,l.w,l.h),t.restore()}},{key:"oneRowSpriteStroke",value:function(t){for(var e=0;e<y.spriteCols;e++)t>e*y.step&&t<=(e+1)*y.step&&this.render(e,0)}},{key:"multiRowSpriteStroke",value:function(t){var e=0,r=0,i=[];t%1==0?(r=t,e=0):(r=(i=t.toString().split("."))[0],e=i[1]),this.render(e,r)}},{key:"render",value:function(t,e){this.ctx.drawImage(m,t*this.frameW,e*this.frameH,this.frameW,this.frameH,-y.frameOffsetX,-(y.radius+y.frameOffsetY),this.frameW,this.frameH)}}])&&a(e.prototype,r),i&&a(e,i),t}();l.canvas.width=window.innerWidth,l.canvas.height=window.innerHeight,l.ctx.globalCompositeOperation="multiply",y.year=y.yearStart,x(s.pencil),function(){Object(i.u)(y.yearStart,y.yearEnd,y.yearStart,S,E);var t=document.createElement("ul"),e={magnitude:T(),radius:A(),opacity:z()};for(var r in t.id="sprites",s){var a=document.createElement("li"),h=document.createElement("span"),l=document.createElement("span");h.className="sprite-name","pencil"===r&&(h.classList.add("current"),c=h),h.dataset.sprite=r,h.textContent=s[r].title,h.addEventListener("click",C,!1),l.className="play",l.dataset.sprite=r,l.innerHTML="&#9658;",l.addEventListener("click",C,!1),a.appendChild(h),a.appendChild(l),t.appendChild(a)}u.appendChild(t);var d=document.createElement("div");for(var f in d.className="slidersWrapper",u.appendChild(d),e){var p=document.createElement("input");"magnitude"===f&&(p=document.createElement("div"));var m=document.createElement("span");p.id="slider-".concat(f),p.classList.add("slider"),m.id="slider-".concat(f,"-val"),m.className="sliderValues",m.textContent=e[f],d.appendChild(m),d.appendChild(p)}!function(){var t=document.getElementById("slider-radius");t.setAttribute("type","range"),t.setAttribute("min",0),t.setAttribute("max",300),t.value=y.radius,t.classList.add("sliderHorizontal"),t.oninput=function(t){var e=document.getElementById("slider-radius-val");y.radius=+t.target.value,e.textContent=A(),o.updatePosition()},Object(n.create)(document.getElementById("slider-magnitude"),{step:.1,start:[y.rangeStart,y.rangeEnd],connect:!0,range:{min:y.rangeStart,max:y.rangeEnd}}).on("update",(function(t){var e=document.getElementById("slider-magnitude-val");y.rangeStart=t[0],y.rangeEnd=t[1],e.textContent=T(),o&&o.updatePosition()}));var e=document.getElementById("slider-opacity");e.setAttribute("type","range"),e.setAttribute("min",.1),e.setAttribute("max",1),e.setAttribute("step",.1),e.value=y.opacity,e.classList.add("sliderHorizontal"),e.oninput=function(t){var e=document.getElementById("slider-opacity-val");y.opacity=+t.target.value,e.textContent=z(),o.updatePosition()}}()}(),o=new N(l.ctx,y),function t(){p&&(f<d.length?(o.defineRenderMode(d[f].date.unix,d[f].ml),f++):p=!1),requestAnimationFrame(t)}(),b()},4:function(t,e,r){var i,n,s;/*! nouislider - 14.1.1 - 12/15/2019 */n=[],void 0===(s="function"==typeof(i=function(){"use strict";var t="14.1.1";function e(t){t.parentElement.removeChild(t)}function r(t){return null!=t}function i(t){t.preventDefault()}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function s(t,e,r){r>0&&(c(t,e),setTimeout((function(){u(t,e)}),r))}function a(t){return Math.max(Math.min(t,100),0)}function o(t){return Array.isArray(t)?t:[t]}function h(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function c(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(t){var e=void 0!==window.pageXOffset,r="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:r?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:r?t.documentElement.scrollTop:t.body.scrollTop}}function d(t,e){return 100/(e-t)}function f(t,e){return 100*e/(t[1]-t[0])}function p(t,e){for(var r=1;t>=e[r];)r+=1;return r}function m(t,e,r){if(r>=t.slice(-1)[0])return 100;var i=p(r,t),n=t[i-1],s=t[i],a=e[i-1],o=e[i];return a+function(t,e){return f(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([n,s],r)/d(a,o)}function g(t,e,r,i){if(100===i)return i;var n=p(i,t),s=t[n-1],a=t[n];return r?i-s>(a-s)/2?a:s:e[n-1]?t[n-1]+function(t,e){return Math.round(t/e)*e}(i-t[n-1],e[n-1]):i}function v(t,e,r){var i;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (14.1.1): 'range' contains invalid value.");if(!n(i="min"===t?0:"max"===t?100:parseFloat(t))||!n(e[0]))throw new Error("noUiSlider (14.1.1): 'range' value isn't numeric.");r.xPct.push(i),r.xVal.push(e[0]),i?r.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(r.xSteps[0]=e[1]),r.xHighestCompleteStep.push(0)}function y(t,e,r){if(e)if(r.xVal[t]!==r.xVal[t+1]){r.xSteps[t]=f([r.xVal[t],r.xVal[t+1]],e)/d(r.xPct[t],r.xPct[t+1]);var i=(r.xVal[t+1]-r.xVal[t])/r.xNumSteps[t],n=Math.ceil(Number(i.toFixed(3))-1),s=r.xVal[t]+r.xNumSteps[t]*n;r.xHighestCompleteStep[t]=s}else r.xSteps[t]=r.xHighestCompleteStep[t]=r.xVal[t]}function x(t,e,r){var i;this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var n=[];for(i in t)t.hasOwnProperty(i)&&n.push([t[i],i]);for(n.length&&"object"==typeof n[0][0]?n.sort((function(t,e){return t[0][0]-e[0][0]})):n.sort((function(t,e){return t[0]-e[0]})),i=0;i<n.length;i++)v(n[i][1],n[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)y(i,this.xNumSteps[i],this)}x.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t/e%1!=0)throw new Error("noUiSlider (14.1.1): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&f(this.xVal,t)},x.prototype.toStepping=function(t){return t=m(this.xVal,this.xPct,t)},x.prototype.fromStepping=function(t){return function(t,e,r){if(r>=100)return t.slice(-1)[0];var i=p(r,e),n=t[i-1],s=t[i],a=e[i-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([n,s],(r-a)*d(a,e[i]))}(this.xVal,this.xPct,t)},x.prototype.getStep=function(t){return t=g(this.xPct,this.xSteps,this.snap,t)},x.prototype.getDefaultStep=function(t,e,r){var i=p(t,this.xPct);return(100===t||e&&t===this.xPct[i-1])&&(i=Math.max(i-1,1)),(this.xVal[i]-this.xVal[i-1])/r},x.prototype.getNearbySteps=function(t){var e=p(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},x.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(h);return Math.max.apply(null,t)},x.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var b={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function w(t){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (14.1.1): 'format' requires 'to' and 'from' methods.")}function E(t,e){if(!n(e))throw new Error("noUiSlider (14.1.1): 'step' is not numeric.");t.singleStep=e}function S(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider (14.1.1): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (14.1.1): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (14.1.1): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new x(e,t.snap,t.singleStep)}function C(t,e){if(e=o(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (14.1.1): 'start' option is incorrect.");t.handles=e.length,t.start=e}function A(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.1.1): 'snap' option must be a boolean.")}function T(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.1.1): 'animate' option must be a boolean.")}function z(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (14.1.1): 'animationDuration' option must be a number.")}function N(t,e){var r,i=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(r=1;r<t.handles;r++)i.push(e);i.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (14.1.1): 'connect' option doesn't match handle count.");i=e}t.connect=i}function P(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (14.1.1): 'orientation' option is invalid.")}}function R(t,e){if(!n(e))throw new Error("noUiSlider (14.1.1): 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider (14.1.1): 'margin' option is only supported on linear sliders.")}function M(t,e){if(!n(e))throw new Error("noUiSlider (14.1.1): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider (14.1.1): 'limit' option is only supported on linear sliders with 2 or more handles.")}function _(t,e){if(!n(e)&&!Array.isArray(e))throw new Error("noUiSlider (14.1.1): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!n(e[0])&&!n(e[1]))throw new Error("noUiSlider (14.1.1): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){if(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getMargin(e[0]),t.spectrum.getMargin(e[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider (14.1.1): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider (14.1.1): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>100)throw new Error("noUiSlider (14.1.1): 'padding' option must not exceed 100% of the range.")}}function U(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (14.1.1): 'direction' option was not recognized.")}}function L(t,e){if("string"!=typeof e)throw new Error("noUiSlider (14.1.1): 'behaviour' must be a string containing options.");var r=e.indexOf("tap")>=0,i=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,s=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0,o=e.indexOf("unconstrained")>=0;if(n){if(2!==t.handles)throw new Error("noUiSlider (14.1.1): 'fixed' behaviour must be used with 2 handles");R(t,t.start[1]-t.start[0])}if(o&&(t.margin||t.limit))throw new Error("noUiSlider (14.1.1): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||s,drag:i,fixed:n,snap:s,hover:a,unconstrained:o}}function O(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(!0)}else{if(t.tooltips=o(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (14.1.1): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider (14.1.1): 'tooltips' must be passed a formatter or 'false'.")}))}}function k(t,e){t.ariaFormat=e,w(e)}function D(t,e){t.format=e,w(e)}function j(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.1.1): 'keyboardSupport' option must be a boolean.")}function V(t,e){t.documentElement=e}function I(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (14.1.1): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function F(t,e){if("object"!=typeof e)throw new Error("noUiSlider (14.1.1): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var r in t.cssClasses={},e)e.hasOwnProperty(r)&&(t.cssClasses[r]=t.cssPrefix+e[r]);else t.cssClasses=e}function H(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:b,format:b},i={step:{r:!1,t:E},start:{r:!0,t:C},connect:{r:!0,t:N},direction:{r:!0,t:U},snap:{r:!1,t:A},animate:{r:!1,t:T},animationDuration:{r:!1,t:z},range:{r:!0,t:S},orientation:{r:!1,t:P},margin:{r:!1,t:R},limit:{r:!1,t:M},padding:{r:!1,t:_},behaviour:{r:!0,t:L},ariaFormat:{r:!1,t:k},format:{r:!1,t:D},tooltips:{r:!1,t:O},keyboardSupport:{r:!0,t:j},documentElement:{r:!1,t:V},cssPrefix:{r:!0,t:I},cssClasses:{r:!0,t:F}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(i).forEach((function(s){if(!r(t[s])&&void 0===n[s]){if(i[s].r)throw new Error("noUiSlider (14.1.1): '"+s+"' is required.");return!0}i[s].t(e,r(t[s])?t[s]:n[s])})),e.pips=t.pips;var s=document.createElement("div"),a=void 0!==s.style.msTransform,o=void 0!==s.style.transform;return e.transformRule=o?"transform":a?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function B(t,r,n){var h,d,f,p,m,g,v,y,x=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},b=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),w=t,E=r.spectrum,S=[],C=[],A=[],T=0,z={},N=t.ownerDocument,P=r.documentElement||N.documentElement,R=N.body,M="rtl"===N.dir||1===r.ort?0:100;function _(t,e){var r=N.createElement("div");return e&&c(r,e),t.appendChild(r),r}function U(t,e){var i=_(t,r.cssClasses.origin),n=_(i,r.cssClasses.handle);return _(n,r.cssClasses.touchArea),n.setAttribute("data-handle",e),r.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(t){return function(t,e){if(k()||D(e))return!1;var i=["Left","Right"],n=["Down","Up"],s=["PageDown","PageUp"],a=["Home","End"];r.dir&&!r.ort?i.reverse():r.ort&&!r.dir&&(n.reverse(),s.reverse());var o,h=t.key.replace("Arrow",""),c=h===s[0],u=h===s[1],l=h===n[0]||h===i[0]||c,d=h===n[1]||h===i[1]||u,f=h===a[0],p=h===a[1];if(!(l||d||f||p))return!0;if(t.preventDefault(),d||l){var m=l?0:1,g=dt(e)[m];if(null===g)return!1;!1===g&&(g=E.getDefaultStep(C[e],l,10)),(u||c)&&(g*=5),g=Math.max(g,1e-7),g*=l?-1:1,o=S[e]+g}else o=p?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return ot(e,E.toStepping(o),!0,!0),et("slide",e),et("update",e),et("change",e),et("set",e),!1}(t,e)}))),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===e?c(n,r.cssClasses.handleLower):e===r.handles-1&&c(n,r.cssClasses.handleUpper),i}function L(t,e){return!!e&&_(t,r.cssClasses.connect)}function O(t,e){return!!r.tooltips[e]&&_(t.firstChild,r.cssClasses.tooltip)}function k(){return w.hasAttribute("disabled")}function D(t){return d[t].hasAttribute("disabled")}function j(){m&&(tt("update.tooltips"),m.forEach((function(t){t&&e(t)})),m=null)}function V(){j(),m=d.map(O),Q("update.tooltips",(function(t,e,i){if(m[e]){var n=t[e];!0!==r.tooltips[e]&&(n=r.tooltips[e].to(i[e])),m[e].innerHTML=n}}))}function I(t,e,i){var n=N.createElement("div"),s=[];s[0]=r.cssClasses.valueNormal,s[1]=r.cssClasses.valueLarge,s[2]=r.cssClasses.valueSub;var a=[];a[0]=r.cssClasses.markerNormal,a[1]=r.cssClasses.markerLarge,a[2]=r.cssClasses.markerSub;var o=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function u(t,e){var i=e===r.cssClasses.value,n=i?s:a;return e+" "+(i?o:h)[r.ort]+" "+n[t]}return c(n,r.cssClasses.pips),c(n,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach((function(s){!function(t,s,a){if(-1!==(a=e?e(s,a):a)){var o=_(n,!1);o.className=u(a,r.cssClasses.marker),o.style[r.style]=t+"%",a>0&&((o=_(n,!1)).className=u(a,r.cssClasses.value),o.setAttribute("data-value",s),o.style[r.style]=t+"%",o.innerHTML=i.to(s))}}(s,t[s][0],t[s][1])})),n}function F(){p&&(e(p),p=null)}function B(t){F();var e=t.mode,r=t.density||1,i=t.filter||!1,n=function(t,e,r){if("range"===t||"steps"===t)return E.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (14.1.1): 'values' (>= 2) required for mode 'count'.");var i=e-1,n=100/i;for(e=[];i--;)e[i]=i*n;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return E.fromStepping(r?E.getStep(t):t)})):"values"===t?r?e.map((function(t){return E.fromStepping(E.getStep(E.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),s=function(t,e,r){var i,n={},s=E.xVal[0],a=E.xVal[E.xVal.length-1],o=!1,h=!1,c=0;return i=r.slice().sort((function(t,e){return t-e})),(r=i.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==s&&(r.unshift(s),o=!0),r[r.length-1]!==a&&(r.push(a),h=!0),r.forEach((function(i,s){var a,u,l,d,f,p,m,g,v,y,x=i,b=r[s+1],w="steps"===e;if(w&&(a=E.xNumSteps[s]),a||(a=b-x),!1!==x&&void 0!==b)for(a=Math.max(a,1e-7),u=x;u<=b;u=(u+a).toFixed(7)/1){for(g=(f=(d=E.toStepping(u))-c)/t,y=f/(v=Math.round(g)),l=1;l<=v;l+=1)n[(p=c+l*y).toFixed(5)]=[E.fromStepping(p),0];m=r.indexOf(u)>-1?1:w?2:0,!s&&o&&(m=0),u===b&&h||(n[d.toFixed(5)]=[u,m]),c=d}})),n}(r,e,n),a=t.format||{to:Math.round};return p=w.appendChild(I(s,i,a))}function X(){var t=h.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||h[e]:t.height||h[e]}function q(t,e,i,n){var s=function(s){return!!(s=function(t,e,r){var i,n,s=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(o=!0),s){var h=function(t){return t.target===r||r.contains(t.target)};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,h);if(c.length>1)return!1;i=c[0].pageX,n=c[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,h);if(!u)return!1;i=u.pageX,n=u.pageY}}return e=e||l(N),(a||o)&&(i=t.clientX+e.x,n=t.clientY+e.y),t.pageOffset=e,t.points=[i,n],t.cursor=a||o,t}(s,n.pageOffset,n.target||e))&&!(k()&&!n.doNotReject)&&(a=w,o=r.cssClasses.tap,!((a.classList?a.classList.contains(o):new RegExp("\\b"+o+"\\b").test(a.className))&&!n.doNotReject)&&!(t===x.start&&void 0!==s.buttons&&s.buttons>1)&&(!n.hover||!s.buttons)&&(b||s.preventDefault(),s.calcPoint=s.points[r.ort],void i(s,n)));var a,o},a=[];return t.split(" ").forEach((function(t){e.addEventListener(t,s,!!b&&{passive:!0}),a.push([t,s])})),a}function W(t){var e,i,n,s,o,c,u=100*(t-(e=h,i=r.ort,n=e.getBoundingClientRect(),s=e.ownerDocument,o=s.documentElement,c=l(s),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),i?n.top+c.y-o.clientTop:n.left+c.x-o.clientLeft))/X();return u=a(u),r.dir?100-u:u}function Y(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&J(t,e)}function G(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return J(t,e);var i=(r.dir?-1:1)*(t.calcPoint-e.startCalcPoint);nt(i>0,100*i/e.baseSize,e.locations,e.handleNumbers)}function J(t,e){e.handle&&(u(e.handle,r.cssClasses.active),T-=1),e.listeners.forEach((function(t){P.removeEventListener(t[0],t[1])})),0===T&&(u(w,r.cssClasses.drag),at(),t.cursor&&(R.style.cursor="",R.removeEventListener("selectstart",i))),e.handleNumbers.forEach((function(t){et("change",t),et("set",t),et("end",t)}))}function $(t,e){if(e.handleNumbers.some(D))return!1;var n;1===e.handleNumbers.length&&(n=d[e.handleNumbers[0]].children[0],T+=1,c(n,r.cssClasses.active)),t.stopPropagation();var s=[],a=q(x.move,P,G,{target:t.target,handle:n,listeners:s,startCalcPoint:t.calcPoint,baseSize:X(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:C.slice()}),o=q(x.end,P,J,{target:t.target,handle:n,listeners:s,doNotReject:!0,handleNumbers:e.handleNumbers}),h=q("mouseout",P,Y,{target:t.target,handle:n,listeners:s,doNotReject:!0,handleNumbers:e.handleNumbers});s.push.apply(s,a.concat(o,h)),t.cursor&&(R.style.cursor=getComputedStyle(t.target).cursor,d.length>1&&c(w,r.cssClasses.drag),R.addEventListener("selectstart",i,!1)),e.handleNumbers.forEach((function(t){et("start",t)}))}function K(t){t.stopPropagation();var e=W(t.calcPoint),i=function(t){var e=100,r=!1;return d.forEach((function(i,n){if(!D(n)){var s=C[n],a=Math.abs(s-t);(a<e||a<=e&&t>s||100===a&&100===e)&&(r=n,e=a)}})),r}(e);if(!1===i)return!1;r.events.snap||s(w,r.cssClasses.tap,r.animationDuration),ot(i,e,!0,!0),at(),et("slide",i,!0),et("update",i,!0),et("change",i,!0),et("set",i,!0),r.events.snap&&$(t,{handleNumbers:[i]})}function Z(t){var e=W(t.calcPoint),r=E.getStep(e),i=E.fromStepping(r);Object.keys(z).forEach((function(t){"hover"===t.split(".")[0]&&z[t].forEach((function(t){t.call(g,i)}))}))}function Q(t,e){z[t]=z[t]||[],z[t].push(e),"update"===t.split(".")[0]&&d.forEach((function(t,e){et("update",e)}))}function tt(t){var e=t&&t.split(".")[0],r=e&&t.substring(e.length);Object.keys(z).forEach((function(t){var i=t.split(".")[0],n=t.substring(i.length);e&&e!==i||r&&r!==n||delete z[t]}))}function et(t,e,i){Object.keys(z).forEach((function(n){var s=n.split(".")[0];t===s&&z[n].forEach((function(t){t.call(g,S.map(r.format.to),e,S.slice(),i||!1,C.slice())}))}))}function rt(t,e,i,n,s,o){return d.length>1&&!r.events.unconstrained&&(n&&e>0&&(i=Math.max(i,t[e-1]+r.margin)),s&&e<d.length-1&&(i=Math.min(i,t[e+1]-r.margin))),d.length>1&&r.limit&&(n&&e>0&&(i=Math.min(i,t[e-1]+r.limit)),s&&e<d.length-1&&(i=Math.max(i,t[e+1]-r.limit))),r.padding&&(0===e&&(i=Math.max(i,r.padding[0])),e===d.length-1&&(i=Math.min(i,100-r.padding[1]))),!((i=a(i=E.getStep(i)))===t[e]&&!o)&&i}function it(t,e){var i=r.ort;return(i?e:t)+", "+(i?t:e)}function nt(t,e,r,i){var n=r.slice(),s=[!t,t],a=[t,!t];i=i.slice(),t&&i.reverse(),i.length>1?i.forEach((function(t,r){var i=rt(n,t,n[t]+e,s[r],a[r],!1);!1===i?e=0:(e=i-n[t],n[t]=i)})):s=a=[!0];var o=!1;i.forEach((function(t,i){o=ot(t,r[t]+e,s[i],a[i])||o})),o&&i.forEach((function(t){et("update",t),et("slide",t)}))}function st(t,e){return r.dir?100-t-e:t}function at(){A.forEach((function(t){var e=C[t]>50?-1:1,r=3+(d.length+e*t);d[t].style.zIndex=r}))}function ot(t,e,i,n){return!1!==(e=rt(C,t,e,i,n,!1))&&(function(t,e){C[t]=e,S[t]=E.fromStepping(e);var i="translate("+it(10*(st(e,0)-M)+"%","0")+")";d[t].style[r.transformRule]=i,ht(t),ht(t+1)}(t,e),!0)}function ht(t){if(f[t]){var e=0,i=100;0!==t&&(e=C[t-1]),t!==f.length-1&&(i=C[t]);var n=i-e,s="translate("+it(st(e,n)+"%","0")+")",a="scale("+it(n/100,"1")+")";f[t].style[r.transformRule]=s+" "+a}}function ct(t,e){return null===t||!1===t||void 0===t?C[e]:("number"==typeof t&&(t=String(t)),t=r.format.from(t),!1===(t=E.toStepping(t))||isNaN(t)?C[e]:t)}function ut(t,e){var i=o(t),n=void 0===C[0];e=void 0===e||!!e,r.animate&&!n&&s(w,r.cssClasses.tap,r.animationDuration),A.forEach((function(t){ot(t,ct(i[t],t),!0,!1)}));for(var a=1===A.length?0:1;a<A.length;++a)A.forEach((function(t){ot(t,C[t],!0,!0)}));at(),A.forEach((function(t){et("update",t),null!==i[t]&&e&&et("set",t)}))}function lt(){var t=S.map(r.format.to);return 1===t.length?t[0]:t}function dt(t){var e=C[t],i=E.getNearbySteps(e),n=S[t],s=i.thisStep.step,a=null;if(r.snap)return[n-i.stepBefore.startValue||null,i.stepAfter.startValue-n||null];!1!==s&&n+s>i.stepAfter.startValue&&(s=i.stepAfter.startValue-n),a=n>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&n-i.stepBefore.highestStep,100===e?s=null:0===e&&(a=null);var o=E.countStepDecimals();return null!==s&&!1!==s&&(s=Number(s.toFixed(o))),null!==a&&!1!==a&&(a=Number(a.toFixed(o))),[a,s]}return c(v=w,r.cssClasses.target),0===r.dir?c(v,r.cssClasses.ltr):c(v,r.cssClasses.rtl),0===r.ort?c(v,r.cssClasses.horizontal):c(v,r.cssClasses.vertical),c(v,"rtl"===getComputedStyle(v).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),h=_(v,r.cssClasses.base),function(t,e){var i=_(e,r.cssClasses.connects);d=[],(f=[]).push(L(i,t[0]));for(var n=0;n<r.handles;n++)d.push(U(e,n)),A[n]=n,f.push(L(i,t[n+1]))}(r.connect,h),(y=r.events).fixed||d.forEach((function(t,e){q(x.start,t.children[0],$,{handleNumbers:[e]})})),y.tap&&q(x.start,h,K,{}),y.hover&&q(x.move,h,Z,{hover:!0}),y.drag&&f.forEach((function(t,e){if(!1!==t&&0!==e&&e!==f.length-1){var i=d[e-1],n=d[e],s=[t];c(t,r.cssClasses.draggable),y.fixed&&(s.push(i.children[0]),s.push(n.children[0])),s.forEach((function(t){q(x.start,t,$,{handles:[i,n],handleNumbers:[e-1,e]})}))}})),ut(r.start),r.pips&&B(r.pips),r.tooltips&&V(),Q("update",(function(t,e,i,n,s){A.forEach((function(t){var e=d[t],n=rt(C,t,0,!0,!0,!0),a=rt(C,t,100,!0,!0,!0),o=s[t],h=r.ariaFormat.to(i[t]);n=E.fromStepping(n).toFixed(1),a=E.fromStepping(a).toFixed(1),o=E.fromStepping(o).toFixed(1),e.children[0].setAttribute("aria-valuemin",n),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",o),e.children[0].setAttribute("aria-valuetext",h)}))})),g={destroy:function(){for(var t in r.cssClasses)r.cssClasses.hasOwnProperty(t)&&u(w,r.cssClasses[t]);for(;w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return A.map(dt)},on:Q,off:tt,get:lt,set:ut,setHandle:function(t,e,r){if(!((t=Number(t))>=0&&t<A.length))throw new Error("noUiSlider (14.1.1): invalid handle number, got: "+t);ot(t,ct(e,t),!0,!0),et("update",t),r&&et("set",t)},reset:function(t){ut(r.start,t)},__moveHandles:function(t,e,r){nt(t,e,C,r)},options:n,updateOptions:function(t,e){var i=lt(),s=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];s.forEach((function(e){void 0!==t[e]&&(n[e]=t[e])}));var a=H(n);s.forEach((function(e){void 0!==t[e]&&(r[e]=a[e])})),E=a.spectrum,r.margin=a.margin,r.limit=a.limit,r.padding=a.padding,r.pips?B(r.pips):F(),r.tooltips?V():j(),C=[],ut(t.start||i,e)},target:w,removePips:F,removeTooltips:j,pips:B}}return{__spectrum:x,version:t,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (14.1.1): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (14.1.1): Slider was already initialized.");var r=B(t,H(e),e);return t.noUiSlider=r,r}}})?i.apply(e,n):i)||(t.exports=s)}});