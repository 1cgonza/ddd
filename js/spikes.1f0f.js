!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=28)}({0:function(t,e,i){"use strict";i.d(e,"e",(function(){return c})),i.d(e,"g",(function(){return h})),i.d(e,"c",(function(){return u})),i.d(e,"r",(function(){return f})),i.d(e,"t",(function(){return p})),i.d(e,"n",(function(){return m})),i.d(e,"h",(function(){return o})),i.d(e,"i",(function(){return a})),i.d(e,"l",(function(){return v})),i.d(e,"u",(function(){return g})),i.d(e,"s",(function(){return y})),i.d(e,"k",(function(){return x})),i.d(e,"q",(function(){return b})),i.d(e,"p",(function(){return w})),i.d(e,"b",(function(){return E})),i.d(e,"d",(function(){return S})),i.d(e,"o",(function(){return C})),i.d(e,"m",(function(){return A})),i.d(e,"a",(function(){return T})),i.d(e,"f",(function(){return z})),i.d(e,"j",(function(){return k}));class r{constructor(t,e){this.x=t||0,this.y=e||0}clone(){return new r(this.x,this.y)}copy(t){this.set(t.x,t.y)}equals(t){return t.x===this.x&&t.y===this.y}set(t,e){this.x=t||0,this.y=e||0!==e?this.x:0}}class n{constructor(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0}}class s{constructor(t,e,i,r,n,s){this.a=t||1,this.b=e||0,this.c=i||0,this.d=r||1,this.tx=n||0,this.ty=s||0}toArray(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new r;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e}applyInverse(t,e){e=e||new r;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,s=t.y;return e.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this}append(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this}setTransform(t,e,i,r,n,s,a){var o=Math.sin(a),c=Math.cos(a),h=c*n,u=o*n,l=-o*s,d=c*s;return this.a=h+l,this.b=u+d,this.c=h+l,this.d=u+d,this.tx=t+(i*h+r*l),this.ty=e+(i*u+r*d),this}prepend(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}invert(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(t*this.ty-e*n)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){var t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copy(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}}class a{constructor(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}set(t,e,i){return this.x=t,this.y=e,this.z=i,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setLength(t){return this.multiplyScalar(t/this.length())}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}normalize(){return this.divideScalar(this.length())}distanceToSquared(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}limit(t){return this.lengthSq()>t*t&&(this.normalize(),this.mult(t)),this}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}}class o{constructor(){this.reset()}reset(){this.m=[1,0,0,1,0,0]}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=s,this.m[5]=a}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,r=-this.m[2]*t,n=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=s,this.m[5]=a}rotate(t){var e=Math.cos(t),i=Math.sin(t),r=this.m[0]*e+this.m[2]*i,n=this.m[1]*e+this.m[3]*i,s=this.m[0]*-i+this.m[2]*e,a=this.m[1]*-i+this.m[3]*e;this.m[0]=r,this.m[1]=n,this.m[2]=s,this.m[3]=a}translate(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e}translateAndRotate(t,e,i){var r=Math.cos(i),n=Math.sin(i),s=this.m[0]*r+this.m[2]*n,a=this.m[1]*r+this.m[3]*n,o=this.m[0]*-n+this.m[2]*r,c=this.m[1]*-n+this.m[3]*r;this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this.m[0]=s,this.m[1]=a,this.m[2]=o,this.m[3]=c}scale(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e}transformPoint(t,e){var i=t,r=e;return[t=i*this.m[0]+r*this.m[2]+this.m[4],e=i*this.m[1]+r*this.m[3]+this.m[5]]}}const c=Math.PI,h=2*c,u=c/2,l=c/4,d=c/180;function f(t,e,i){let r=Math.floor(Math.random()*(e-t))+t;return i&&(r=Math.random()*(e-t)+t),r}function p(t,e){return t/100*e}function m(t,e){return t/e*100}function v(t,e){const i=document.createElement("canvas"),r=i.getContext("2d");if(e=e||{},i.width=e.w||window.innerWidth,i.height=e.h||window.innerHeight,i.style.position=e.position||"absolute",i.style.top=e.top||0,i.style.left=e.left||0,i.style.zIndex=e.zi||9,e.css)for(var n in e.css)i.style[n]=e.css[n];return r.font=e.font||"12px Inconsolata",t&&t.appendChild(i),{container:t,canvas:i,w:i.width,h:i.height,ctx:r,center:{x:i.width/2,y:i.height/2}}}function g(t,e,i,r,n){var s=document.createElement("ul"),a="";s.id="years",s.style.zIndex=99999;for(var o=t;o<=e;o++){var c=document.createElement("li"),h=document.createTextNode(o);o===i&&(c.className="current",a=c),c.appendChild(h),s.appendChild(c),c.addEventListener("click",r,!1)}n(s,a)}function y(t,e,i){i=i||"current",t&&t.classList.remove(i),e.classList.add(i)}function x(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",r=0;r<t.length;){var n,s,a=255&t.charCodeAt(r++),o=255&t.charCodeAt(r++),c=255&t.charCodeAt(r++),h=a>>2,u=(3&a)<<4|o>>4;isNaN(o)?n=s=64:(n=(15&o)<<2|c>>6,s=isNaN(c)?64:63&c),i+=e.charAt(h)+e.charAt(u)+e.charAt(n)+e.charAt(s)}return i}function b(t){return(new E).json(t)}function w(t){var e=new E;return e.req.overrideMimeType("text/plain; charset=x-user-defined"),e.getD(t).then((function(t){return void 0!==t.ret?t:t.data})).catch((function(t){console.error(t)}))}class E{constructor(){this.req=new XMLHttpRequest}abort(){this.req.abort()}json(t){return this.req.overrideMimeType("application/json"),this.getD(t).then((function(t){return void 0!==t.ret?(t.data=JSON.parse(t.data),t):JSON.parse(t.data)})).catch((function(t){console.error("Error in data request, reason:",t)}))}getD(t){if("object"==typeof t){if(!t.url)return void console.error("The request did not receive a url, instead got",t.url)}else"string"==typeof t&&t.length>0&&(t={url:t});var e,i,r=!1,n=this.req,s=t.loadingMsg||"Loading",a=t.container||document.body,o=a.querySelector(".loading");o||((o=document.createElement("div")).className="loading",a.appendChild(o));var c=!!t.loadingEle,h=c?t.loadingEle:null;if(!h){var u=a.querySelector(".loading-ele");(h=document.createElement("div")).className="loadingEle",u?o.insertBefore(u,h):o.appendChild(h)}function l(){h.style.opacity=1,o.style.zIndex=9,(e=h.querySelector(".loading-msg"))||((e=document.createElement("p")).className="loading-msg",e.innerText=s,h.appendChild(e))}function d(t){if(t.lengthComputable){r||(i=h.querySelector(".progress"))||((i=document.createElement("progress")).className="progress",i.style.zIndex=0,i.max=100,i.value=0,h.insertBefore(i,e),r=!0);var a=t.loaded/t.total*100;i.value=a,e.innerText=Math.floor(a)+"%\n"+s}else n.onprogress=null}function f(){c||(h.style.display="none"),o.style.zIndex=0}return new Promise((function(e,i){n.open("GET",t.url,!0),n.onloadstart=l,n.onprogress=d,n.onloadend=f,n.onload=function(){200===n.status?e({data:n.response,ret:t.ret}):i(n.statusText)},n.onerror=function(){i("Network Error")},n.send(null)}))}}class S{constructor(t){var e=t.width||window.innerWidth,i=t.height||window.innerHeight,r=t.zoom||11;t.center?this.center={lon:t.center.lon,lat:t.center.lat}:this.center={},this.hasCenter=null,this.updateSize(e,i,r)}updateSize(t,e,i){this.stageWidth=t,this.stageCenterY=e/2,this.zoom=i||this.zoom,this.zoomX=this.stageWidth*this.zoom,this.zoomY=this.stageCenterY*this.zoom,this.zoomRad=this.zoomX/360,this.newCenter(this.center.lon,this.center.lat)}newCenter(t,e){this.hasCenter=!1,this.convertCoordinates(t,e),this.hasCenter=!0}convertCoordinates(t,e){var i=+e*d,r=Math.log(Math.tan(l+i/2)),n=(+t+180)*this.zoomRad,s=this.zoomY-this.zoomX*r/h;return this.hasCenter?(n-=this.center.x,s-=this.center.y):(this.center.x=n,this.center.y=s),{x:n,y:s}}}function C(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,r){return e+e+i+i+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function A(t){return 1/(255/t)}class T{constructor(t,e){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return console.error("The first parameter needs to be an Object.","Example:","{audio1: 'audio1.mp3', audio2: 'audio2.mp3'}");window.AudioContext=window.AudioContext||window.webkitAudioContext;var i,r,n=Object.keys(t).length,s=0,a={};for(var o in this.ctx=new AudioContext,t)i=t[o],c.bind(this),document.body,r=void 0,(r=new E).req.responseType="arraybuffer",r.getD(i).then((function(t){return t})).catch((function(t){console.error("Error fetching audio file",t)}));function c(t,i){this.ctx.decodeAudioData(t,function(t){if(!t)return void console.error("Error decoding audio file:",i);var r=this.ctx.createBufferSource();r.buffer=t,a[i]=r,++s===n&&e(a)}.bind(this),(function(t){console.error("decodeAudioData error",t)}))}}source(t){return(t=this.ctx.createBufferSource()).buffer=buffer,t.connect(this.gainNode),this.gainNode.connect(this.ctx.destination),t}}class z{constructor(t,e,i){this.children=[],this.texture={},this.data=t,this.renderer=e,this.loadImg(t.url),this.setBatchSize(i)}setBatchSize(t){t>16384&&(t=16384),t>15e3&&(t=15e3),this.batchSize=t}renderWebGL(t){t.currentRenderer.render(this)}bindTexture(){var t=this.renderer.gl,e=this.texture;return e.glTexture||(e.glTexture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e.glTexture),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.img),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),e.mipmap&&e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),!0}loadImg(t){this.img=new Image,this.img.onload=this.imgLoaded.bind(this),this.img.src=t}imgLoaded(){for(var t,e,i=this.img.naturalWidth,r=this.img.naturalHeight,n={loaded:!0,isPowerOfTwo:(t=i,e=r,t>0&&0==(t&t-1)&&e>0&&0==(e&e-1))},s=[],a=0;a<this.data.frames.length;a++){var o=this.data.frames[a];s.push({width:o.w,height:o.h,uvs:[o.x/i,o.y/r,(o.x+o.w)/i,(o.y+o.h)/r]})}this.renderer.frames=s,this.texture=n,this.bindTexture(),this.data.cb&&this.data.cb()}particle(t){return(t=t||{}).scale=t.scale||new r(1,1),t.alpha=t.alpha||1,t.rotation=t.rotation||0,t.x=t.x||0,t.y=t.y||0,t.frame=t.frame||0,this.children.push(t),this.children.length>this.batchSize&&this.setBatchSize(this.children.length),t}}class N{constructor(t,e,i){this.gl=t,this.size=new n(0,0,1,1),this.projectionMatrix=new s,this.resize(e,i)}resize(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e;var i=this.projectionMatrix.identity();i.a=2/this.size.width,i.d=-2/this.size.height,i.tx=-1,i.ty=1}}}var P=i(1),M=i.n(P),R=i(2),U=i.n(R);class D{constructor(t){this.gl=t,this.uniforms={projectionMatrix:{}},this.attributes={};var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,M.a),t.compileShader(e);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,U.a),t.compileShader(i);var r=t.createProgram();t.attachShader(r,e),t.attachShader(r,i),t.linkProgram(r),t.deleteShader(e),t.deleteShader(i),this.program=r,t.useProgram(r),this.cacheUniformLocations(["projectionMatrix"]),this.cacheAttributeLocations(["aVertexPosition","aTextureCoord","aAlpha","aPositionCoord","aRotation"])}cacheUniformLocations(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])}cacheAttributeLocations(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])}}class O{constructor(t,e){this.renderer=e,this.gl=t,this.start()}start(){var t=this.gl,e=new D(t);this.properties=[{attribute:e.attributes.aVertexPosition,size:2},{attribute:e.attributes.aPositionCoord,size:2},{attribute:e.attributes.aRotation,size:1},{attribute:e.attributes.aTextureCoord,size:2},{attribute:e.attributes.aAlpha,size:1}];for(var i=0;i<this.properties.length;i++)t.enableVertexAttribArray(i);var r=this.renderer.renderTarget.projectionMatrix;t.uniformMatrix3fv(e.uniforms.projectionMatrix._location,!1,r.toArray(!0))}render(t){t.texture;var e=t.children,i=e.length,r=t.maxSize;this.size=t.batchSize;var n=this.gl;if(0!==i){if(i>r&&(i=r),!this.data){this.initBuffers();for(var s=0;s<this.properties.length;s++){var a=this.properties[s];n.vertexAttribPointer(a.attribute,a.size,n.FLOAT,!1,4*this.stride,4*a.offset)}}this.updateData(e,i),n.bufferSubData(n.ARRAY_BUFFER,0,this.data),n.drawElements(n.TRIANGLES,6*i,n.UNSIGNED_SHORT,0)}}initBuffers(){var t=this.gl,e=0;this.stride=0;for(var i=0;i<this.properties.length;i++){var r=this.properties[i];r.offset=e,e+=r.size,this.stride+=r.size}this.data=new Float32Array(this.size*this.stride*4),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,this.data,t.DYNAMIC_DRAW);for(var n=6*this.size,s=new Uint16Array(n),a=(i=0,0);i<n;i+=6,a+=4)s[i]=a,s[i+1]=a+1,s[i+2]=a+2,s[i+3]=a,s[i+4]=a+2,s[i+5]=a+3;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ELEMENT_ARRAY_BUFFER,s,t.STATIC_DRAW)}updateData(t,e){this.stride;for(var i=0,r=this.data,n=this.renderer.frames,s=0;s<e;s++){var a=t[s],o=n[a.frame],c=o.width*a.scale,h=o.height*a.scale,u=a.x,l=a.y,d=a.rotation,f=o.uvs,p=a.alpha;r[i]=-c,r[++i]=-h,r[++i]=u,r[++i]=l,r[++i]=d,r[++i]=f[0],r[++i]=f[1],r[++i]=p,r[++i]=c,r[++i]=-h,r[++i]=u,r[++i]=l,r[++i]=d,r[++i]=f[2],r[++i]=f[1],r[++i]=p,r[++i]=c,r[++i]=h,r[++i]=u,r[++i]=l,r[++i]=d,r[++i]=f[2],r[++i]=f[3],r[++i]=p,r[++i]=-c,r[++i]=h,r[++i]=u,r[++i]=l,r[++i]=d,r[++i]=f[0],r[++i]=f[3],r[++i]=p,i++}}}class k{constructor(t,e){this.container=t,e=e||{},this.width=e.width||window.innerWidth,this.height=e.height||window.innerHeight,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",t.appendChild(this.canvas);var i=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl",ctxOptions);this.gl=i,i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.enable(i.BLEND),this.renderTarget=new N(i,this.width,this.height),this.currentRenderer=new O(i,this),this.resize(this.width,this.height)}render(t){t.renderWebGL(this)}resize(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e,this.gl.viewport(0,0,t,e)}}},1:function(t,e){t.exports="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aAlpha;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying float vAlpha;\n\nvoid main(void){\n  float cosine = cos(aRotation);\n  float sine = sin(aRotation);\n\n  vec3 v;\n  v.x = aVertexPosition.x * cosine - aVertexPosition.y * sine;\n  v.y = aVertexPosition.x * sine + aVertexPosition.y * cosine;\n  v.z = 1.0;\n\n  // Move\n  v.xy += aPositionCoord;\n\n  gl_Position = vec4(projectionMatrix * v, 1.0);\n\n  vTextureCoord = aTextureCoord;\n  vAlpha = aAlpha;\n}"},2:function(t,e){t.exports="precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying float vAlpha;\n\nuniform sampler2D uImage;\n\nvoid main(void){\n  vec4 color = texture2D(uImage, vTextureCoord) * vAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}"},28:function(t,e,i){"use strict";i.r(e);var r=i(0);function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,i,r){var n,s,a,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a=function(t){var e=t.target;e.classList.contains("current")||(o.options.year=+e.innerText,o.menu.querySelector("li.current").classList.remove("current"),e.classList.add("current"),o.cb())},(s="onItemClick")in(n=this)?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a,this.options=i,this.cb=r,this.yearsStart=1993,this.yearsEnd=2014,this.years=[],this.menu=document.createElement("ul"),this.menu.id="years",e.appendChild(this.menu)}var e,i,r;return e=t,(i=[{key:"bindData",value:function(t){for(var e=this.yearsStart;e<this.yearsEnd+1;e++){var i=t.hasOwnProperty(e)?t[e].length:0;this.years.push({year:e,intensity:i})}}},{key:"buildMenu",value:function(){var t=this;this.years.forEach((function(e){var i=document.createElement("li");i.innerText=e.year,i.style.borderBottom="".concat(e.intensity,"px solid rgba(192,55,23,.2)"),t.options.year==e.year&&(i.className="current"),i.onclick=t.onItemClick,t.menu.appendChild(i)}))}}])&&n(e.prototype,i),r&&n(e,r),t}();var a=i(4);function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.options=i,this.viz=r}var e,i,r;return e=t,(i=[{key:"initSliders",value:function(){this.magnitudeSlider(),this.radiusSlider(),this.opacitySlider(),this.logScaleSlider(),this.dividedBySlider()}},{key:"createWrapper",value:function(t){var e=document.createElement("div"),i=document.createElement("span");return i.className="sliderValues",e.id=t,e.appendChild(i),this.container.appendChild(e),{slider:e,val:i}}},{key:"magnitudeSlider",value:function(){var t=this,e=this.createWrapper("sliderMagnitude");Object(a.create)(e.slider,{step:.1,start:[this.options.rangeStart,this.options.rangeEnd],range:{min:this.options.rangeStart,max:this.options.rangeEnd}}).on("update",(function(i){t.options.rangeStart=i[0],t.options.rangeEnd=i[1],e.val.textContent="".concat(t.options.rangeStart," - ").concat(t.options.rangeEnd," Ml"),t.viz.eqNodeChangeRange()}))}},{key:"radiusSlider",value:function(){var t=this,e=this.createWrapper("sliderRadius");Object(a.create)(e.slider,{step:1,start:this.options.radius,range:{min:0,max:300}}).on("update",(function(i){t.options.radius=+i[0],e.val.textContent="Radius: ".concat(t.options.radius," px"),t.viz.svg.querySelectorAll(".eq").forEach((function(e){return t.viz.eqNodeTransform(e)})),t.viz.svg.querySelectorAll(".ta").forEach((function(e){return t.viz.taNodeTransform(e)}))}))}},{key:"opacitySlider",value:function(){var t=this,e=this.createWrapper("sliderOpacity");Object(a.create)(e.slider,{step:.1,start:this.options.opacity,range:{min:.1,max:1}}).on("update",(function(i){t.options.opacity=+i[0],e.val.textContent="Opacity: ".concat(t.options.opacity),t.viz.svg.querySelectorAll("polygon").forEach((function(e){return t.viz.nodeOpacity(e)}))}))}},{key:"logScaleSlider",value:function(){var t=this,e=this.createWrapper("sliderPowOf");Object(a.create)(e.slider,{orientation:"vertical",direction:"rtl",step:1,start:this.options.powOf,range:{min:1,max:10}}).on("update",(function(i){t.options.powOf=+i[0],e.val.textContent="Pow: ".concat(t.options.powOf),t.viz.svg.querySelectorAll(".eq").forEach((function(e){return t.viz.eqNodeDraw(e)}))}))}},{key:"dividedBySlider",value:function(){var t=this,e=this.createWrapper("sliderDividedBy");Object(a.create)(e.slider,{orientation:"vertical",direction:"rtl",step:1,start:this.options.dividedBy,range:{min:1,max:10}}).on("update",(function(i){t.options.dividedBy=+i[0],e.val.textContent="/ by: ".concat(t.options.dividedBy),t.viz.svg.querySelectorAll(".eq").forEach((function(e){return t.viz.eqNodeDraw(e)}))}))}}])&&o(e.prototype,i),r&&o(e,r),t}();function h(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=i,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.info=document.createElement("div"),this.info.id="info",this.svg.setAttribute("class","eqta"),this.svg.setAttribute("width",i.stageW),this.svg.setAttribute("height",i.stageH),e.appendChild(this.svg),e.appendChild(this.info)}var e,i,r;return e=t,(i=[{key:"render",value:function(){this.eqRender(),this.taRender()}},{key:"eqRender",value:function(){var t=this;this.options.eqData.forEach((function(e){var i=document.createElementNS(t.svg.namespaceURI,"polygon");i.setAttribute("class","eq"),i.dataset.val=e.ml||0,i.dataset.date=e.date.unix,t.eqNodeDraw(i),t.eqNodeColor(i),t.nodeOpacity(i),t.eqNodeTransform(i),t.svg.appendChild(i)}))}},{key:"taRender",value:function(){var t=this,e=this.options;e.taData.forEach((function(i){var r=document.createElementNS(t.svg.namespaceURI,"polygon"),n=e.taSize+Number(5*i.fatal)+Number(i.injured);r.setAttribute("class","ta"),r.dataset.date=i.date.unix;var s="0,0 ".concat(e.nodeWidth,",0 ").concat(e.nodeWidth/2,",").concat(-n);r.setAttribute("points",s),r.setAttribute("fill",e.taColor),r.style.opacity=e.opacity,t.svg.appendChild(r),t.taNodeTransform(r),t.taNodeMouseEvents(r,i)}))}},{key:"taNodeTransform",value:function(t){var e=this.options,i=(+t.dataset.date-.001*Date.parse(e.year))*e.secondsW,r="translate(".concat(e.center.x-e.center.node,",").concat(e.center.y-e.radius,") ");r+="rotate(".concat(i,",").concat(e.center.node,",").concat(e.radius,")"),t.setAttribute("transform",r)}},{key:"eqNodeDraw",value:function(t){var e=t.dataset.val,i=Math.pow(this.options.powOf,e)/this.options.dividedBy,r="0,0 ".concat(this.options.nodeWidth,",0 ").concat(this.options.nodeWidth/2,",").concat(-i);t.setAttribute("points",r)}},{key:"eqNodeChangeRange",value:function(){var t=this;this.svg.querySelectorAll(".eq").forEach((function(e){var i=+e.dataset.val;i>=t.options.rangeStart&&i<=t.options.rangeEnd?e.style.opacity=t.options.opacity:e.style.opacity=0}))}},{key:"eqNodeColor",value:function(t){var e=t.dataset.val<6?this.options.lowMagnitude:this.options.highMagnitude;t.setAttribute("fill",e)}},{key:"nodeOpacity",value:function(t){t.style.opacity=this.options.opacity}},{key:"eqNodeTransform",value:function(t){var e=this.options,i=(+t.dataset.date-.001*Date.parse(e.year))*e.secondsW,r="translate(".concat(e.center.x-e.center.node,",").concat(e.center.y-e.radius,") ");r+="rotate(".concat(i,",").concat(e.center.node,",").concat(e.radius,")"),t.setAttribute("transform",r)}},{key:"taNodeMouseEvents",value:function(t,e){var i=this;t.onmouseenter=function(){t.style.opacity=1,""!==e.date&&i.createInfoElement("Fecha",e.date.human),""!==e.by&&i.createInfoElement("Quien",e.by),""!==e.dep&&i.createInfoElement("Departamento",e.dep),""!==e.mun&&i.createInfoElement("Municipio",e.mun),""!==e.place&&i.createInfoElement("Lugar",e.place),null!==e.fatal&&i.createInfoElement("Victimas Fatales",e.fatal),null!==e.injured&&i.createInfoElement("Heridos",e.injured),""!==e.source&&i.createInfoElement("Fuente",e.source)},t.onmouseleave=function(){t.style.opacity=i.options.opacity,i.info.innerText=""}}},{key:"createInfoElement",value:function(t,e){var i=document.createElement("p");i.innerText="".concat(t,": ").concat(e),this.info.appendChild(i)}}])&&h(e.prototype,i),r&&h(e,r),t}(),l=document.getElementById("ddd-container"),d=new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.year=1993,this.radius=150,this.nodeWidth=15,this.opacity=.5,this.powOf=2,this.dividedBy=1,this.highMagnitude="#1f8846",this.lowMagnitude="#A16E15",this.taColor="#c03717",this.taSize=120,this.rangeStart=0,this.rangeEnd=7,this.stageW=window.innerWidth,this.stageH=window.innerHeight,this.secondsW=0,this.eqData=[],this.taData=[],this.center={x:this.stageW/2,y:this.stageH/2,node:this.nodeWidth/2}},f=new u(l,d),p=new s(l,d,y),m=new c(l,d,f),v=!1;function g(){Object(r.q)("../../data/ingeominas/eq".concat(d.year,".json")).then((function(t){var e=d.year+1,i=.001*(Date.parse(e)-Date.parse(d.year));d.secondsW=360/i,d.eqData=t,Object(r.q)("../../data/cmh/ta.json").then((function(t){t.hasOwnProperty(d.year)&&(d.taData=t[d.year]),v?(f.svg.innerHTML="",f.render()):(p.bindData(t),p.buildMenu(d.year),f.render(),m.initSliders(),v=!0)}))}))}function y(){f.svg.querySelectorAll(".eq").forEach((function(t){return t.setAttribute("fill","#a7977a")})),f.svg.querySelectorAll(".ta").forEach((function(t){return t.setAttribute("fill","#c1978d")})),d.eqData=[],d.taData=[],g()}g(),window.onresize=function(){d.stageW=window.innerWidth,d.stageH=window.innerHeight,d.center.x=d.stageW/2,d.center.y=d.stageH/2,f.svg.setAttribute("width",d.stageW),f.svg.setAttribute("height",d.stageH),y()}},4:function(t,e,i){var r,n,s;/*! nouislider - 14.1.1 - 12/15/2019 */n=[],void 0===(s="function"==typeof(r=function(){"use strict";var t="14.1.1";function e(t){t.parentElement.removeChild(t)}function i(t){return null!=t}function r(t){t.preventDefault()}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function s(t,e,i){i>0&&(h(t,e),setTimeout((function(){u(t,e)}),i))}function a(t){return Math.max(Math.min(t,100),0)}function o(t){return Array.isArray(t)?t:[t]}function c(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function h(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function d(t,e){return 100/(e-t)}function f(t,e){return 100*e/(t[1]-t[0])}function p(t,e){for(var i=1;t>=e[i];)i+=1;return i}function m(t,e,i){if(i>=t.slice(-1)[0])return 100;var r=p(i,t),n=t[r-1],s=t[r],a=e[r-1],o=e[r];return a+function(t,e){return f(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([n,s],i)/d(a,o)}function v(t,e,i,r){if(100===r)return r;var n=p(r,t),s=t[n-1],a=t[n];return i?r-s>(a-s)/2?a:s:e[n-1]?t[n-1]+function(t,e){return Math.round(t/e)*e}(r-t[n-1],e[n-1]):r}function g(t,e,i){var r;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (14.1.1): 'range' contains invalid value.");if(!n(r="min"===t?0:"max"===t?100:parseFloat(t))||!n(e[0]))throw new Error("noUiSlider (14.1.1): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(e[0]),r?i.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(i.xSteps[0]=e[1]),i.xHighestCompleteStep.push(0)}function y(t,e,i){if(e)if(i.xVal[t]!==i.xVal[t+1]){i.xSteps[t]=f([i.xVal[t],i.xVal[t+1]],e)/d(i.xPct[t],i.xPct[t+1]);var r=(i.xVal[t+1]-i.xVal[t])/i.xNumSteps[t],n=Math.ceil(Number(r.toFixed(3))-1),s=i.xVal[t]+i.xNumSteps[t]*n;i.xHighestCompleteStep[t]=s}else i.xSteps[t]=i.xHighestCompleteStep[t]=i.xVal[t]}function x(t,e,i){var r;this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var n=[];for(r in t)t.hasOwnProperty(r)&&n.push([t[r],r]);for(n.length&&"object"==typeof n[0][0]?n.sort((function(t,e){return t[0][0]-e[0][0]})):n.sort((function(t,e){return t[0]-e[0]})),r=0;r<n.length;r++)g(n[r][1],n[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)y(r,this.xNumSteps[r],this)}x.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t/e%1!=0)throw new Error("noUiSlider (14.1.1): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&f(this.xVal,t)},x.prototype.toStepping=function(t){return t=m(this.xVal,this.xPct,t)},x.prototype.fromStepping=function(t){return function(t,e,i){if(i>=100)return t.slice(-1)[0];var r=p(i,e),n=t[r-1],s=t[r],a=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([n,s],(i-a)*d(a,e[r]))}(this.xVal,this.xPct,t)},x.prototype.getStep=function(t){return t=v(this.xPct,this.xSteps,this.snap,t)},x.prototype.getDefaultStep=function(t,e,i){var r=p(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/i},x.prototype.getNearbySteps=function(t){var e=p(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},x.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(c);return Math.max.apply(null,t)},x.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var b={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function w(t){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (14.1.1): 'format' requires 'to' and 'from' methods.")}function E(t,e){if(!n(e))throw new Error("noUiSlider (14.1.1): 'step' is not numeric.");t.singleStep=e}function S(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider (14.1.1): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (14.1.1): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (14.1.1): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new x(e,t.snap,t.singleStep)}function C(t,e){if(e=o(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (14.1.1): 'start' option is incorrect.");t.handles=e.length,t.start=e}function A(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.1.1): 'snap' option must be a boolean.")}function T(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.1.1): 'animate' option must be a boolean.")}function z(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (14.1.1): 'animationDuration' option must be a number.")}function N(t,e){var i,r=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (14.1.1): 'connect' option doesn't match handle count.");r=e}t.connect=r}function P(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (14.1.1): 'orientation' option is invalid.")}}function M(t,e){if(!n(e))throw new Error("noUiSlider (14.1.1): 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider (14.1.1): 'margin' option is only supported on linear sliders.")}function R(t,e){if(!n(e))throw new Error("noUiSlider (14.1.1): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider (14.1.1): 'limit' option is only supported on linear sliders with 2 or more handles.")}function U(t,e){if(!n(e)&&!Array.isArray(e))throw new Error("noUiSlider (14.1.1): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!n(e[0])&&!n(e[1]))throw new Error("noUiSlider (14.1.1): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){if(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getMargin(e[0]),t.spectrum.getMargin(e[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider (14.1.1): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider (14.1.1): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>100)throw new Error("noUiSlider (14.1.1): 'padding' option must not exceed 100% of the range.")}}function D(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (14.1.1): 'direction' option was not recognized.")}}function O(t,e){if("string"!=typeof e)throw new Error("noUiSlider (14.1.1): 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,s=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0,o=e.indexOf("unconstrained")>=0;if(n){if(2!==t.handles)throw new Error("noUiSlider (14.1.1): 'fixed' behaviour must be used with 2 handles");M(t,t.start[1]-t.start[0])}if(o&&(t.margin||t.limit))throw new Error("noUiSlider (14.1.1): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||s,drag:r,fixed:n,snap:s,hover:a,unconstrained:o}}function k(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=o(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (14.1.1): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider (14.1.1): 'tooltips' must be passed a formatter or 'false'.")}))}}function L(t,e){t.ariaFormat=e,w(e)}function _(t,e){t.format=e,w(e)}function q(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.1.1): 'keyboardSupport' option must be a boolean.")}function j(t,e){t.documentElement=e}function V(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (14.1.1): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function I(t,e){if("object"!=typeof e)throw new Error("noUiSlider (14.1.1): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},e)e.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+e[i]);else t.cssClasses=e}function F(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:b,format:b},r={step:{r:!1,t:E},start:{r:!0,t:C},connect:{r:!0,t:N},direction:{r:!0,t:D},snap:{r:!1,t:A},animate:{r:!1,t:T},animationDuration:{r:!1,t:z},range:{r:!0,t:S},orientation:{r:!1,t:P},margin:{r:!1,t:M},limit:{r:!1,t:R},padding:{r:!1,t:U},behaviour:{r:!0,t:O},ariaFormat:{r:!1,t:L},format:{r:!1,t:_},tooltips:{r:!1,t:k},keyboardSupport:{r:!0,t:q},documentElement:{r:!1,t:j},cssPrefix:{r:!0,t:V},cssClasses:{r:!0,t:I}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(r).forEach((function(s){if(!i(t[s])&&void 0===n[s]){if(r[s].r)throw new Error("noUiSlider (14.1.1): '"+s+"' is required.");return!0}r[s].t(e,i(t[s])?t[s]:n[s])})),e.pips=t.pips;var s=document.createElement("div"),a=void 0!==s.style.msTransform,o=void 0!==s.style.transform;return e.transformRule=o?"transform":a?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function H(t,i,n){var c,d,f,p,m,v,g,y,x=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},b=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),w=t,E=i.spectrum,S=[],C=[],A=[],T=0,z={},N=t.ownerDocument,P=i.documentElement||N.documentElement,M=N.body,R="rtl"===N.dir||1===i.ort?0:100;function U(t,e){var i=N.createElement("div");return e&&h(i,e),t.appendChild(i),i}function D(t,e){var r=U(t,i.cssClasses.origin),n=U(r,i.cssClasses.handle);return U(n,i.cssClasses.touchArea),n.setAttribute("data-handle",e),i.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(t){return function(t,e){if(L()||_(e))return!1;var r=["Left","Right"],n=["Down","Up"],s=["PageDown","PageUp"],a=["Home","End"];i.dir&&!i.ort?r.reverse():i.ort&&!i.dir&&(n.reverse(),s.reverse());var o,c=t.key.replace("Arrow",""),h=c===s[0],u=c===s[1],l=c===n[0]||c===r[0]||h,d=c===n[1]||c===r[1]||u,f=c===a[0],p=c===a[1];if(!(l||d||f||p))return!0;if(t.preventDefault(),d||l){var m=l?0:1,v=dt(e)[m];if(null===v)return!1;!1===v&&(v=E.getDefaultStep(C[e],l,10)),(u||h)&&(v*=5),v=Math.max(v,1e-7),v*=l?-1:1,o=S[e]+v}else o=p?i.spectrum.xVal[i.spectrum.xVal.length-1]:i.spectrum.xVal[0];return ot(e,E.toStepping(o),!0,!0),et("slide",e),et("update",e),et("change",e),et("set",e),!1}(t,e)}))),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===e?h(n,i.cssClasses.handleLower):e===i.handles-1&&h(n,i.cssClasses.handleUpper),r}function O(t,e){return!!e&&U(t,i.cssClasses.connect)}function k(t,e){return!!i.tooltips[e]&&U(t.firstChild,i.cssClasses.tooltip)}function L(){return w.hasAttribute("disabled")}function _(t){return d[t].hasAttribute("disabled")}function q(){m&&(tt("update.tooltips"),m.forEach((function(t){t&&e(t)})),m=null)}function j(){q(),m=d.map(k),Z("update.tooltips",(function(t,e,r){if(m[e]){var n=t[e];!0!==i.tooltips[e]&&(n=i.tooltips[e].to(r[e])),m[e].innerHTML=n}}))}function V(t,e,r){var n=N.createElement("div"),s=[];s[0]=i.cssClasses.valueNormal,s[1]=i.cssClasses.valueLarge,s[2]=i.cssClasses.valueSub;var a=[];a[0]=i.cssClasses.markerNormal,a[1]=i.cssClasses.markerLarge,a[2]=i.cssClasses.markerSub;var o=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],c=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function u(t,e){var r=e===i.cssClasses.value,n=r?s:a;return e+" "+(r?o:c)[i.ort]+" "+n[t]}return h(n,i.cssClasses.pips),h(n,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(t).forEach((function(s){!function(t,s,a){if(-1!==(a=e?e(s,a):a)){var o=U(n,!1);o.className=u(a,i.cssClasses.marker),o.style[i.style]=t+"%",a>0&&((o=U(n,!1)).className=u(a,i.cssClasses.value),o.setAttribute("data-value",s),o.style[i.style]=t+"%",o.innerHTML=r.to(s))}}(s,t[s][0],t[s][1])})),n}function I(){p&&(e(p),p=null)}function H(t){I();var e=t.mode,i=t.density||1,r=t.filter||!1,n=function(t,e,i){if("range"===t||"steps"===t)return E.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (14.1.1): 'values' (>= 2) required for mode 'count'.");var r=e-1,n=100/r;for(e=[];r--;)e[r]=r*n;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return E.fromStepping(i?E.getStep(t):t)})):"values"===t?i?e.map((function(t){return E.fromStepping(E.getStep(E.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),s=function(t,e,i){var r,n={},s=E.xVal[0],a=E.xVal[E.xVal.length-1],o=!1,c=!1,h=0;return r=i.slice().sort((function(t,e){return t-e})),(i=r.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==s&&(i.unshift(s),o=!0),i[i.length-1]!==a&&(i.push(a),c=!0),i.forEach((function(r,s){var a,u,l,d,f,p,m,v,g,y,x=r,b=i[s+1],w="steps"===e;if(w&&(a=E.xNumSteps[s]),a||(a=b-x),!1!==x&&void 0!==b)for(a=Math.max(a,1e-7),u=x;u<=b;u=(u+a).toFixed(7)/1){for(v=(f=(d=E.toStepping(u))-h)/t,y=f/(g=Math.round(v)),l=1;l<=g;l+=1)n[(p=h+l*y).toFixed(5)]=[E.fromStepping(p),0];m=i.indexOf(u)>-1?1:w?2:0,!s&&o&&(m=0),u===b&&c||(n[d.toFixed(5)]=[u,m]),h=d}})),n}(i,e,n),a=t.format||{to:Math.round};return p=w.appendChild(V(s,r,a))}function W(){var t=c.getBoundingClientRect(),e="offset"+["Width","Height"][i.ort];return 0===i.ort?t.width||c[e]:t.height||c[e]}function B(t,e,r,n){var s=function(s){return!!(s=function(t,e,i){var r,n,s=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(o=!0),s){var c=function(t){return t.target===i||i.contains(t.target)};if("touchstart"===t.type){var h=Array.prototype.filter.call(t.touches,c);if(h.length>1)return!1;r=h[0].pageX,n=h[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,c);if(!u)return!1;r=u.pageX,n=u.pageY}}return e=e||l(N),(a||o)&&(r=t.clientX+e.x,n=t.clientY+e.y),t.pageOffset=e,t.points=[r,n],t.cursor=a||o,t}(s,n.pageOffset,n.target||e))&&!(L()&&!n.doNotReject)&&(a=w,o=i.cssClasses.tap,!((a.classList?a.classList.contains(o):new RegExp("\\b"+o+"\\b").test(a.className))&&!n.doNotReject)&&!(t===x.start&&void 0!==s.buttons&&s.buttons>1)&&(!n.hover||!s.buttons)&&(b||s.preventDefault(),s.calcPoint=s.points[i.ort],void r(s,n)));var a,o},a=[];return t.split(" ").forEach((function(t){e.addEventListener(t,s,!!b&&{passive:!0}),a.push([t,s])})),a}function X(t){var e,r,n,s,o,h,u=100*(t-(e=c,r=i.ort,n=e.getBoundingClientRect(),s=e.ownerDocument,o=s.documentElement,h=l(s),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(h.x=0),r?n.top+h.y-o.clientTop:n.left+h.x-o.clientLeft))/W();return u=a(u),i.dir?100-u:u}function Y(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&J(t,e)}function G(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return J(t,e);var r=(i.dir?-1:1)*(t.calcPoint-e.startCalcPoint);nt(r>0,100*r/e.baseSize,e.locations,e.handleNumbers)}function J(t,e){e.handle&&(u(e.handle,i.cssClasses.active),T-=1),e.listeners.forEach((function(t){P.removeEventListener(t[0],t[1])})),0===T&&(u(w,i.cssClasses.drag),at(),t.cursor&&(M.style.cursor="",M.removeEventListener("selectstart",r))),e.handleNumbers.forEach((function(t){et("change",t),et("set",t),et("end",t)}))}function $(t,e){if(e.handleNumbers.some(_))return!1;var n;1===e.handleNumbers.length&&(n=d[e.handleNumbers[0]].children[0],T+=1,h(n,i.cssClasses.active)),t.stopPropagation();var s=[],a=B(x.move,P,G,{target:t.target,handle:n,listeners:s,startCalcPoint:t.calcPoint,baseSize:W(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:C.slice()}),o=B(x.end,P,J,{target:t.target,handle:n,listeners:s,doNotReject:!0,handleNumbers:e.handleNumbers}),c=B("mouseout",P,Y,{target:t.target,handle:n,listeners:s,doNotReject:!0,handleNumbers:e.handleNumbers});s.push.apply(s,a.concat(o,c)),t.cursor&&(M.style.cursor=getComputedStyle(t.target).cursor,d.length>1&&h(w,i.cssClasses.drag),M.addEventListener("selectstart",r,!1)),e.handleNumbers.forEach((function(t){et("start",t)}))}function K(t){t.stopPropagation();var e=X(t.calcPoint),r=function(t){var e=100,i=!1;return d.forEach((function(r,n){if(!_(n)){var s=C[n],a=Math.abs(s-t);(a<e||a<=e&&t>s||100===a&&100===e)&&(i=n,e=a)}})),i}(e);if(!1===r)return!1;i.events.snap||s(w,i.cssClasses.tap,i.animationDuration),ot(r,e,!0,!0),at(),et("slide",r,!0),et("update",r,!0),et("change",r,!0),et("set",r,!0),i.events.snap&&$(t,{handleNumbers:[r]})}function Q(t){var e=X(t.calcPoint),i=E.getStep(e),r=E.fromStepping(i);Object.keys(z).forEach((function(t){"hover"===t.split(".")[0]&&z[t].forEach((function(t){t.call(v,r)}))}))}function Z(t,e){z[t]=z[t]||[],z[t].push(e),"update"===t.split(".")[0]&&d.forEach((function(t,e){et("update",e)}))}function tt(t){var e=t&&t.split(".")[0],i=e&&t.substring(e.length);Object.keys(z).forEach((function(t){var r=t.split(".")[0],n=t.substring(r.length);e&&e!==r||i&&i!==n||delete z[t]}))}function et(t,e,r){Object.keys(z).forEach((function(n){var s=n.split(".")[0];t===s&&z[n].forEach((function(t){t.call(v,S.map(i.format.to),e,S.slice(),r||!1,C.slice())}))}))}function it(t,e,r,n,s,o){return d.length>1&&!i.events.unconstrained&&(n&&e>0&&(r=Math.max(r,t[e-1]+i.margin)),s&&e<d.length-1&&(r=Math.min(r,t[e+1]-i.margin))),d.length>1&&i.limit&&(n&&e>0&&(r=Math.min(r,t[e-1]+i.limit)),s&&e<d.length-1&&(r=Math.max(r,t[e+1]-i.limit))),i.padding&&(0===e&&(r=Math.max(r,i.padding[0])),e===d.length-1&&(r=Math.min(r,100-i.padding[1]))),!((r=a(r=E.getStep(r)))===t[e]&&!o)&&r}function rt(t,e){var r=i.ort;return(r?e:t)+", "+(r?t:e)}function nt(t,e,i,r){var n=i.slice(),s=[!t,t],a=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach((function(t,i){var r=it(n,t,n[t]+e,s[i],a[i],!1);!1===r?e=0:(e=r-n[t],n[t]=r)})):s=a=[!0];var o=!1;r.forEach((function(t,r){o=ot(t,i[t]+e,s[r],a[r])||o})),o&&r.forEach((function(t){et("update",t),et("slide",t)}))}function st(t,e){return i.dir?100-t-e:t}function at(){A.forEach((function(t){var e=C[t]>50?-1:1,i=3+(d.length+e*t);d[t].style.zIndex=i}))}function ot(t,e,r,n){return!1!==(e=it(C,t,e,r,n,!1))&&(function(t,e){C[t]=e,S[t]=E.fromStepping(e);var r="translate("+rt(10*(st(e,0)-R)+"%","0")+")";d[t].style[i.transformRule]=r,ct(t),ct(t+1)}(t,e),!0)}function ct(t){if(f[t]){var e=0,r=100;0!==t&&(e=C[t-1]),t!==f.length-1&&(r=C[t]);var n=r-e,s="translate("+rt(st(e,n)+"%","0")+")",a="scale("+rt(n/100,"1")+")";f[t].style[i.transformRule]=s+" "+a}}function ht(t,e){return null===t||!1===t||void 0===t?C[e]:("number"==typeof t&&(t=String(t)),t=i.format.from(t),!1===(t=E.toStepping(t))||isNaN(t)?C[e]:t)}function ut(t,e){var r=o(t),n=void 0===C[0];e=void 0===e||!!e,i.animate&&!n&&s(w,i.cssClasses.tap,i.animationDuration),A.forEach((function(t){ot(t,ht(r[t],t),!0,!1)}));for(var a=1===A.length?0:1;a<A.length;++a)A.forEach((function(t){ot(t,C[t],!0,!0)}));at(),A.forEach((function(t){et("update",t),null!==r[t]&&e&&et("set",t)}))}function lt(){var t=S.map(i.format.to);return 1===t.length?t[0]:t}function dt(t){var e=C[t],r=E.getNearbySteps(e),n=S[t],s=r.thisStep.step,a=null;if(i.snap)return[n-r.stepBefore.startValue||null,r.stepAfter.startValue-n||null];!1!==s&&n+s>r.stepAfter.startValue&&(s=r.stepAfter.startValue-n),a=n>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&n-r.stepBefore.highestStep,100===e?s=null:0===e&&(a=null);var o=E.countStepDecimals();return null!==s&&!1!==s&&(s=Number(s.toFixed(o))),null!==a&&!1!==a&&(a=Number(a.toFixed(o))),[a,s]}return h(g=w,i.cssClasses.target),0===i.dir?h(g,i.cssClasses.ltr):h(g,i.cssClasses.rtl),0===i.ort?h(g,i.cssClasses.horizontal):h(g,i.cssClasses.vertical),h(g,"rtl"===getComputedStyle(g).direction?i.cssClasses.textDirectionRtl:i.cssClasses.textDirectionLtr),c=U(g,i.cssClasses.base),function(t,e){var r=U(e,i.cssClasses.connects);d=[],(f=[]).push(O(r,t[0]));for(var n=0;n<i.handles;n++)d.push(D(e,n)),A[n]=n,f.push(O(r,t[n+1]))}(i.connect,c),(y=i.events).fixed||d.forEach((function(t,e){B(x.start,t.children[0],$,{handleNumbers:[e]})})),y.tap&&B(x.start,c,K,{}),y.hover&&B(x.move,c,Q,{hover:!0}),y.drag&&f.forEach((function(t,e){if(!1!==t&&0!==e&&e!==f.length-1){var r=d[e-1],n=d[e],s=[t];h(t,i.cssClasses.draggable),y.fixed&&(s.push(r.children[0]),s.push(n.children[0])),s.forEach((function(t){B(x.start,t,$,{handles:[r,n],handleNumbers:[e-1,e]})}))}})),ut(i.start),i.pips&&H(i.pips),i.tooltips&&j(),Z("update",(function(t,e,r,n,s){A.forEach((function(t){var e=d[t],n=it(C,t,0,!0,!0,!0),a=it(C,t,100,!0,!0,!0),o=s[t],c=i.ariaFormat.to(r[t]);n=E.fromStepping(n).toFixed(1),a=E.fromStepping(a).toFixed(1),o=E.fromStepping(o).toFixed(1),e.children[0].setAttribute("aria-valuemin",n),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",o),e.children[0].setAttribute("aria-valuetext",c)}))})),v={destroy:function(){for(var t in i.cssClasses)i.cssClasses.hasOwnProperty(t)&&u(w,i.cssClasses[t]);for(;w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return A.map(dt)},on:Z,off:tt,get:lt,set:ut,setHandle:function(t,e,i){if(!((t=Number(t))>=0&&t<A.length))throw new Error("noUiSlider (14.1.1): invalid handle number, got: "+t);ot(t,ht(e,t),!0,!0),et("update",t),i&&et("set",t)},reset:function(t){ut(i.start,t)},__moveHandles:function(t,e,i){nt(t,e,C,i)},options:n,updateOptions:function(t,e){var r=lt(),s=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];s.forEach((function(e){void 0!==t[e]&&(n[e]=t[e])}));var a=F(n);s.forEach((function(e){void 0!==t[e]&&(i[e]=a[e])})),E=a.spectrum,i.margin=a.margin,i.limit=a.limit,i.padding=a.padding,i.pips?H(i.pips):I(),i.tooltips?j():q(),C=[],ut(t.start||r,e)},target:w,removePips:I,removeTooltips:q,pips:H}}return{__spectrum:x,version:t,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (14.1.1): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (14.1.1): Slider was already initialized.");var i=H(t,F(e),e);return t.noUiSlider=i,i}}})?r.apply(e,n):r)||(t.exports=s)}});