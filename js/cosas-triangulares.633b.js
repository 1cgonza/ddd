!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=46)}({0:function(t,e,i){"use strict";i.d(e,"e",(function(){return h})),i.d(e,"g",(function(){return c})),i.d(e,"c",(function(){return u})),i.d(e,"r",(function(){return f})),i.d(e,"t",(function(){return m})),i.d(e,"n",(function(){return p})),i.d(e,"h",(function(){return a})),i.d(e,"i",(function(){return o})),i.d(e,"l",(function(){return y})),i.d(e,"u",(function(){return g})),i.d(e,"s",(function(){return v})),i.d(e,"k",(function(){return x})),i.d(e,"q",(function(){return w})),i.d(e,"p",(function(){return b})),i.d(e,"b",(function(){return E})),i.d(e,"d",(function(){return T})),i.d(e,"o",(function(){return z})),i.d(e,"m",(function(){return A})),i.d(e,"a",(function(){return _})),i.d(e,"f",(function(){return R})),i.d(e,"j",(function(){return O}));class r{constructor(t,e){this.x=t||0,this.y=e||0}clone(){return new r(this.x,this.y)}copy(t){this.set(t.x,t.y)}equals(t){return t.x===this.x&&t.y===this.y}set(t,e){this.x=t||0,this.y=e||0!==e?this.x:0}}class n{constructor(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0}}class s{constructor(t,e,i,r,n,s){this.a=t||1,this.b=e||0,this.c=i||0,this.d=r||1,this.tx=n||0,this.ty=s||0}toArray(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new r;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e}applyInverse(t,e){e=e||new r;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,s=t.y;return e.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this}append(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this}setTransform(t,e,i,r,n,s,o){var a=Math.sin(o),h=Math.cos(o),c=h*n,u=a*n,d=-a*s,l=h*s;return this.a=c+d,this.b=u+l,this.c=c+d,this.d=u+l,this.tx=t+(i*c+r*d),this.ty=e+(i*u+r*l),this}prepend(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}invert(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(t*this.ty-e*n)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){var t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copy(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}}class o{constructor(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}set(t,e,i){return this.x=t,this.y=e,this.z=i,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}setLength(t){return this.multiplyScalar(t/this.length())}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}normalize(){return this.divideScalar(this.length())}distanceToSquared(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}limit(t){return this.lengthSq()>t*t&&(this.normalize(),this.mult(t)),this}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}}class a{constructor(){this.reset()}reset(){this.m=[1,0,0,1,0,0]}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=s,this.m[5]=o}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,r=-this.m[2]*t,n=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=s,this.m[5]=o}rotate(t){var e=Math.cos(t),i=Math.sin(t),r=this.m[0]*e+this.m[2]*i,n=this.m[1]*e+this.m[3]*i,s=this.m[0]*-i+this.m[2]*e,o=this.m[1]*-i+this.m[3]*e;this.m[0]=r,this.m[1]=n,this.m[2]=s,this.m[3]=o}translate(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e}translateAndRotate(t,e,i){var r=Math.cos(i),n=Math.sin(i),s=this.m[0]*r+this.m[2]*n,o=this.m[1]*r+this.m[3]*n,a=this.m[0]*-n+this.m[2]*r,h=this.m[1]*-n+this.m[3]*r;this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this.m[0]=s,this.m[1]=o,this.m[2]=a,this.m[3]=h}scale(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e}transformPoint(t,e){var i=t,r=e;return[t=i*this.m[0]+r*this.m[2]+this.m[4],e=i*this.m[1]+r*this.m[3]+this.m[5]]}}const h=Math.PI,c=2*h,u=h/2,d=h/4,l=h/180;function f(t,e,i){let r=Math.floor(Math.random()*(e-t))+t;return i&&(r=Math.random()*(e-t)+t),r}function m(t,e){return t/100*e}function p(t,e){return t/e*100}function y(t,e){const i=document.createElement("canvas"),r=i.getContext("2d");if(e=e||{},i.width=e.w||window.innerWidth,i.height=e.h||window.innerHeight,i.style.position=e.position||"absolute",i.style.top=e.top||0,i.style.left=e.left||0,i.style.zIndex=e.zi||9,e.css)for(var n in e.css)i.style[n]=e.css[n];return r.font=e.font||"12px Inconsolata",t&&t.appendChild(i),{container:t,canvas:i,w:i.width,h:i.height,ctx:r,center:{x:i.width/2,y:i.height/2}}}function g(t,e,i,r,n){var s=document.createElement("ul"),o="";s.id="years",s.style.zIndex=99999;for(var a=t;a<=e;a++){var h=document.createElement("li"),c=document.createTextNode(a);a===i&&(h.className="current",o=h),h.appendChild(c),s.appendChild(h),h.addEventListener("click",r,!1)}n(s,o)}function v(t,e,i){i=i||"current",t&&t.classList.remove(i),e.classList.add(i)}function x(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",r=0;r<t.length;){var n,s,o=255&t.charCodeAt(r++),a=255&t.charCodeAt(r++),h=255&t.charCodeAt(r++),c=o>>2,u=(3&o)<<4|a>>4;isNaN(a)?n=s=64:(n=(15&a)<<2|h>>6,s=isNaN(h)?64:63&h),i+=e.charAt(c)+e.charAt(u)+e.charAt(n)+e.charAt(s)}return i}function w(t){return(new E).json(t)}function b(t){var e=new E;return e.req.overrideMimeType("text/plain; charset=x-user-defined"),e.getD(t).then((function(t){return void 0!==t.ret?t:t.data})).catch((function(t){console.error(t)}))}class E{constructor(){this.req=new XMLHttpRequest}abort(){this.req.abort()}json(t){return this.req.overrideMimeType("application/json"),this.getD(t).then((function(t){return void 0!==t.ret?(t.data=JSON.parse(t.data),t):JSON.parse(t.data)})).catch((function(t){console.error("Error in data request, reason:",t)}))}getD(t){if("object"==typeof t){if(!t.url)return void console.error("The request did not receive a url, instead got",t.url)}else"string"==typeof t&&t.length>0&&(t={url:t});var e,i,r=!1,n=this.req,s=t.loadingMsg||"Loading",o=t.container||document.body,a=o.querySelector(".loading");a||((a=document.createElement("div")).className="loading",o.appendChild(a));var h=!!t.loadingEle,c=h?t.loadingEle:null;if(!c){var u=o.querySelector(".loading-ele");(c=document.createElement("div")).className="loadingEle",u?a.insertBefore(u,c):a.appendChild(c)}function d(){c.style.opacity=1,a.style.zIndex=9,(e=c.querySelector(".loading-msg"))||((e=document.createElement("p")).className="loading-msg",e.innerText=s,c.appendChild(e))}function l(t){if(t.lengthComputable){r||(i=c.querySelector(".progress"))||((i=document.createElement("progress")).className="progress",i.style.zIndex=0,i.max=100,i.value=0,c.insertBefore(i,e),r=!0);var o=t.loaded/t.total*100;i.value=o,e.innerText=Math.floor(o)+"%\n"+s}else n.onprogress=null}function f(){h||(c.style.display="none"),a.style.zIndex=0}return new Promise((function(e,i){n.open("GET",t.url,!0),n.onloadstart=d,n.onprogress=l,n.onloadend=f,n.onload=function(){200===n.status?e({data:n.response,ret:t.ret}):i(n.statusText)},n.onerror=function(){i("Network Error")},n.send(null)}))}}class T{constructor(t){var e=t.width||window.innerWidth,i=t.height||window.innerHeight,r=t.zoom||11;t.center?this.center={lon:t.center.lon,lat:t.center.lat}:this.center={},this.hasCenter=null,this.updateSize(e,i,r)}updateSize(t,e,i){this.stageWidth=t,this.stageCenterY=e/2,this.zoom=i||this.zoom,this.zoomX=this.stageWidth*this.zoom,this.zoomY=this.stageCenterY*this.zoom,this.zoomRad=this.zoomX/360,this.newCenter(this.center.lon,this.center.lat)}newCenter(t,e){this.hasCenter=!1,this.convertCoordinates(t,e),this.hasCenter=!0}convertCoordinates(t,e){var i=+e*l,r=Math.log(Math.tan(d+i/2)),n=(+t+180)*this.zoomRad,s=this.zoomY-this.zoomX*r/c;return this.hasCenter?(n-=this.center.x,s-=this.center.y):(this.center.x=n,this.center.y=s),{x:n,y:s}}}function z(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,r){return e+e+i+i+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function A(t){return 1/(255/t)}class _{constructor(t,e){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return console.error("The first parameter needs to be an Object.","Example:","{audio1: 'audio1.mp3', audio2: 'audio2.mp3'}");window.AudioContext=window.AudioContext||window.webkitAudioContext;var i,r,n=Object.keys(t).length,s=0,o={};for(var a in this.ctx=new AudioContext,t)i=t[a],h.bind(this),document.body,r=void 0,(r=new E).req.responseType="arraybuffer",r.getD(i).then((function(t){return t})).catch((function(t){console.error("Error fetching audio file",t)}));function h(t,i){this.ctx.decodeAudioData(t,function(t){if(!t)return void console.error("Error decoding audio file:",i);var r=this.ctx.createBufferSource();r.buffer=t,o[i]=r,++s===n&&e(o)}.bind(this),(function(t){console.error("decodeAudioData error",t)}))}}source(t){return(t=this.ctx.createBufferSource()).buffer=buffer,t.connect(this.gainNode),this.gainNode.connect(this.ctx.destination),t}}class R{constructor(t,e,i){this.children=[],this.texture={},this.data=t,this.renderer=e,this.loadImg(t.url),this.setBatchSize(i)}setBatchSize(t){t>16384&&(t=16384),t>15e3&&(t=15e3),this.batchSize=t}renderWebGL(t){t.currentRenderer.render(this)}bindTexture(){var t=this.renderer.gl,e=this.texture;return e.glTexture||(e.glTexture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e.glTexture),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.img),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),e.mipmap&&e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),!0}loadImg(t){this.img=new Image,this.img.onload=this.imgLoaded.bind(this),this.img.src=t}imgLoaded(){for(var t,e,i=this.img.naturalWidth,r=this.img.naturalHeight,n={loaded:!0,isPowerOfTwo:(t=i,e=r,t>0&&0==(t&t-1)&&e>0&&0==(e&e-1))},s=[],o=0;o<this.data.frames.length;o++){var a=this.data.frames[o];s.push({width:a.w,height:a.h,uvs:[a.x/i,a.y/r,(a.x+a.w)/i,(a.y+a.h)/r]})}this.renderer.frames=s,this.texture=n,this.bindTexture(),this.data.cb&&this.data.cb()}particle(t){return(t=t||{}).scale=t.scale||new r(1,1),t.alpha=t.alpha||1,t.rotation=t.rotation||0,t.x=t.x||0,t.y=t.y||0,t.frame=t.frame||0,this.children.push(t),this.children.length>this.batchSize&&this.setBatchSize(this.children.length),t}}class S{constructor(t,e,i){this.gl=t,this.size=new n(0,0,1,1),this.projectionMatrix=new s,this.resize(e,i)}resize(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e;var i=this.projectionMatrix.identity();i.a=2/this.size.width,i.d=-2/this.size.height,i.tx=-1,i.ty=1}}}var L=i(3),P=i.n(L),C=i(4),M=i.n(C);class j{constructor(t){this.gl=t,this.uniforms={projectionMatrix:{}},this.attributes={};var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,P.a),t.compileShader(e);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,M.a),t.compileShader(i);var r=t.createProgram();t.attachShader(r,e),t.attachShader(r,i),t.linkProgram(r),t.deleteShader(e),t.deleteShader(i),this.program=r,t.useProgram(r),this.cacheUniformLocations(["projectionMatrix"]),this.cacheAttributeLocations(["aVertexPosition","aTextureCoord","aAlpha","aPositionCoord","aRotation"])}cacheUniformLocations(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])}cacheAttributeLocations(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])}}class I{constructor(t,e){this.renderer=e,this.gl=t,this.start()}start(){var t=this.gl,e=new j(t);this.properties=[{attribute:e.attributes.aVertexPosition,size:2},{attribute:e.attributes.aPositionCoord,size:2},{attribute:e.attributes.aRotation,size:1},{attribute:e.attributes.aTextureCoord,size:2},{attribute:e.attributes.aAlpha,size:1}];for(var i=0;i<this.properties.length;i++)t.enableVertexAttribArray(i);var r=this.renderer.renderTarget.projectionMatrix;t.uniformMatrix3fv(e.uniforms.projectionMatrix._location,!1,r.toArray(!0))}render(t){t.texture;var e=t.children,i=e.length,r=t.maxSize;this.size=t.batchSize;var n=this.gl;if(0!==i){if(i>r&&(i=r),!this.data){this.initBuffers();for(var s=0;s<this.properties.length;s++){var o=this.properties[s];n.vertexAttribPointer(o.attribute,o.size,n.FLOAT,!1,4*this.stride,4*o.offset)}}this.updateData(e,i),n.bufferSubData(n.ARRAY_BUFFER,0,this.data),n.drawElements(n.TRIANGLES,6*i,n.UNSIGNED_SHORT,0)}}initBuffers(){var t=this.gl,e=0;this.stride=0;for(var i=0;i<this.properties.length;i++){var r=this.properties[i];r.offset=e,e+=r.size,this.stride+=r.size}this.data=new Float32Array(this.size*this.stride*4),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,this.data,t.DYNAMIC_DRAW);for(var n=6*this.size,s=new Uint16Array(n),o=(i=0,0);i<n;i+=6,o+=4)s[i]=o,s[i+1]=o+1,s[i+2]=o+2,s[i+3]=o,s[i+4]=o+2,s[i+5]=o+3;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ELEMENT_ARRAY_BUFFER,s,t.STATIC_DRAW)}updateData(t,e){this.stride;for(var i=0,r=this.data,n=this.renderer.frames,s=0;s<e;s++){var o=t[s],a=n[o.frame],h=a.width*o.scale,c=a.height*o.scale,u=o.x,d=o.y,l=o.rotation,f=a.uvs,m=o.alpha;r[i]=-h,r[++i]=-c,r[++i]=u,r[++i]=d,r[++i]=l,r[++i]=f[0],r[++i]=f[1],r[++i]=m,r[++i]=h,r[++i]=-c,r[++i]=u,r[++i]=d,r[++i]=l,r[++i]=f[2],r[++i]=f[1],r[++i]=m,r[++i]=h,r[++i]=c,r[++i]=u,r[++i]=d,r[++i]=l,r[++i]=f[2],r[++i]=f[3],r[++i]=m,r[++i]=-h,r[++i]=c,r[++i]=u,r[++i]=d,r[++i]=l,r[++i]=f[0],r[++i]=f[3],r[++i]=m,i++}}}class O{constructor(t,e){this.container=t,e=e||{},this.width=e.width||window.innerWidth,this.height=e.height||window.innerHeight,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",t.appendChild(this.canvas);var i=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl",ctxOptions);this.gl=i,i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.enable(i.BLEND),this.renderTarget=new S(i,this.width,this.height),this.currentRenderer=new I(i,this),this.resize(this.width,this.height)}render(t){t.renderWebGL(this)}resize(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e,this.gl.viewport(0,0,t,e)}}},10:function(t,e,i){t.exports=i(27)},11:function(t,e){function i(t,e,i,r,n,s,o){try{var a=t[s](o),h=a.value}catch(t){return void i(t)}a.done?e(h):Promise.resolve(h).then(r,n)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,s){var o=t.apply(e,r);function a(t){i(o,n,s,a,h,"next",t)}function h(t){i(o,n,s,a,h,"throw",t)}a(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0},27:function(t,e,i){var r=function(t){"use strict";var e=Object.prototype,i=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,i){return t[e]=i}}function h(t,e,i,r){var n=e&&e.prototype instanceof d?e:d,s=Object.create(n.prototype),o=new T(r||[]);return s._invoke=function(t,e,i){var r="suspendedStart";return function(n,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw s;return A()}for(i.method=n,i.arg=s;;){var o=i.delegate;if(o){var a=w(o,i);if(a){if(a===u)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===r)throw r="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r="executing";var h=c(t,e,i);if("normal"===h.type){if(r=i.done?"completed":"suspendedYield",h.arg===u)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r="completed",i.method="throw",i.arg=h.arg)}}}(t,i,o),s}function c(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var u={};function d(){}function l(){}function f(){}var m={};m[n]=function(){return this};var p=Object.getPrototypeOf,y=p&&p(p(z([])));y&&y!==e&&i.call(y,n)&&(m=y);var g=f.prototype=d.prototype=Object.create(m);function v(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var r;this._invoke=function(n,s){function o(){return new e((function(r,o){!function r(n,s,o,a){var h=c(t[n],t,s);if("throw"!==h.type){var u=h.arg,d=u.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,o,a)}),(function(t){r("throw",t,o,a)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,a)}))}a(h.arg)}(n,s,r,o)}))}return r=r?r.then(o,o):o()}}function w(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function z(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:A}}function A(){return{value:void 0,done:!0}}return l.prototype=g.constructor=f,f.constructor=l,l.displayName=a(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(x.prototype),x.prototype[s]=function(){return this},t.AsyncIterator=x,t.async=function(e,i,r,n,s){void 0===s&&(s=Promise);var o=new x(h(e,i,r,n),s);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},v(g),a(g,o,"Generator"),g[n]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=z,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(i,r){return o.type="throw",o.arg=t,e.next=i,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),h=i.call(s,"finallyLoc");if(a&&h){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),E(i),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;E(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:z(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},3:function(t,e){t.exports="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aAlpha;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying float vAlpha;\n\nvoid main(void){\n  float cosine = cos(aRotation);\n  float sine = sin(aRotation);\n\n  vec3 v;\n  v.x = aVertexPosition.x * cosine - aVertexPosition.y * sine;\n  v.y = aVertexPosition.x * sine + aVertexPosition.y * cosine;\n  v.z = 1.0;\n\n  // Move\n  v.xy += aPositionCoord;\n\n  gl_Position = vec4(projectionMatrix * v, 1.0);\n\n  vTextureCoord = aTextureCoord;\n  vAlpha = aAlpha;\n}"},4:function(t,e){t.exports="precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying float vAlpha;\n\nuniform sampler2D uImage;\n\nvoid main(void){\n  vec4 color = texture2D(uImage, vTextureCoord) * vAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}"},46:function(t,e,i){"use strict";i.r(e);var r=i(11),n=i.n(r),s=i(10),o=i.n(s),a=i(0),h={video:document.getElementById("video"),"pequeña":{url:"/img/assets/notations/cosas-triangulares-small.jpg",img:null},grande:{url:"/img/assets/notations/cosas-triangulares.jpg",img:null}};h.length=Object.keys(h).length,h.loaded=0;var c,u=h,d=40,l=15,f=45,m=61,p=42,y={},g=u.video,v=document.getElementById("left-col"),x=document.getElementById("middle-col"),w=document.getElementById("right-col"),b=w.querySelector(".loading"),E=x.querySelector(".loading");v.style.width="".concat(d,"%"),x.style.width="".concat(l,"%"),w.style.width="".concat(f,"%"),x.style.position=w.style.position="relative";var T=document.createElement("canvas"),z=T.getContext("2d");T.style.position="absolute",T.style.opacity="0",T.width=Object(a.t)(l,window.innerWidth),T.height=window.innerHeight,x.appendChild(T);var A=document.createElement("canvas"),_=A.getContext("2d");function R(){return new Promise((function(t){function e(){u.loaded++,u.loaded===u.length&&t()}g.onloadedmetadata=function(){e()};var i=new Image;i.onload=function(){u.pequeña.img=i,u.pequeña.ancho=i.naturalWidth,u.pequeña.alto=i.naturalHeight,e()},i.src=u.pequeña.url;var r=new Image;r.onload=function(){u.grande.img=r,u.grande.ancho=r.naturalWidth,u.grande.alto=r.naturalHeight,e()},r.src=u.grande.url}))}function S(){return(S=n()(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:L(),T.style.opacity=1,E.style.opacity=0,A.style.opacity=1,b.style.opacity=0,P(0),C(0),g.onplay=function(){c=requestAnimationFrame(M)},g.onpause=function(){return window.cancelAnimationFrame(c)},g.onseeking=function(){return j()},g.controls=!0;case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){function t(t,e,i){var r=Object(a.n)(t,e),n=0|Object(a.t)(r,i),s=Object(a.n)(n,u.grande.alto),o=Object(a.t)(s,m),h=Object(a.t)(s,p);return{ancho:t,alto:n,paso:(n-o-h)/g.duration,arriba:o,abajo:h}}T.width=Object(a.t)(l,window.innerWidth),T.height=window.innerHeight,A.width=Object(a.t)(f,window.innerWidth),A.height=window.innerHeight,z.strokeStyle=_.strokeStyle="red",u.grande.img&&(y.grande=t(A.width,u.grande.ancho,u.grande.alto)),u.pequeña.img&&(y.pequeña=t(T.width,u.pequeña.ancho,u.pequeña.alto))}function P(t){var e=A.height/2-y.grande.arriba-t*y.grande.paso;z.drawImage(u.pequeña.img,0,0,y.pequeña.ancho,y.pequeña.alto),_.drawImage(u.grande.img,0,e,y.grande.ancho,y.grande.alto)}function C(t){var e=y.pequeña.arriba+t*y.pequeña.paso,i=A.height/2;z.beginPath(),z.moveTo(0,e),z.lineTo(T.width,e),z.stroke(),_.beginPath(),_.moveTo(0,i),_.lineTo(A.width,i),_.stroke()}function M(){j(),c=requestAnimationFrame(M)}function j(){var t=g.currentTime;z.clearRect(0,0,T.width,T.height),_.clearRect(0,0,A.width,A.height),P(t),C(t)}A.style.position="absolute",A.style.opacity="0",A.width=Object(a.t)(f,window.innerWidth),A.height=window.innerHeight,w.appendChild(A),function(){S.apply(this,arguments)}(),window.onresize=function(){L(),j()}}});