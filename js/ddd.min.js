/*!
 * dddrawings - v1.0.0
 * Data Driven Drawings JS library
 * December 24, 2016
 * https://github.com/1cgonza/dddrawings
 * Juan Camilo Gonzalez <info@juancgonzalez.com> (http://juancgonzalez.com)
 */
!function(t){function i(r){if(e[r])return e[r].exports;var s=e[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){(function(t){"use strict";t.DDD=Object.assign(e(1),e(6),e(8),e(9),e(10),e(11),e(12))}).call(i,function(){return this}())},function(t,i,e){"use strict";var r=function(){this.reset()},s={PI:Math.PI,TWO_PI:2*Math.PI,QUARTER_PI:Math.PI/4,toRad:Math.PI/180,random:function t(i,e,r){var t=Math.floor(Math.random()*(e-i))+i;return r&&(t=Math.random()*(e-i)+i),t},sizeFromPercentage:function(t,i){return t/100*i},getPercent:function(t,i){return t/i*100},isPowerOfTwo:function(t,i){return t>0&&0===(t&t-1)&&i>0&&0===(i&i-1)},Transform:r,Point:e(2),Rectangle:e(3),Matrix:e(4),Vector:e(5)};t.exports=s,r.prototype.reset=function(){this.m=[1,0,0,1,0,0]},r.prototype.multiply=function(t){var i=this.m[0]*t.m[0]+this.m[2]*t.m[1],e=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],s=this.m[1]*t.m[2]+this.m[3]*t.m[3],n=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=i,this.m[1]=e,this.m[2]=r,this.m[3]=s,this.m[4]=n,this.m[5]=o},r.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),i=this.m[3]*t,e=-this.m[1]*t,r=-this.m[2]*t,s=this.m[0]*t,n=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=i,this.m[1]=e,this.m[2]=r,this.m[3]=s,this.m[4]=n,this.m[5]=o},r.prototype.rotate=function(t){var i=Math.cos(t),e=Math.sin(t),r=this.m[0]*i+this.m[2]*e,s=this.m[1]*i+this.m[3]*e,n=this.m[0]*-e+this.m[2]*i,o=this.m[1]*-e+this.m[3]*i;this.m[0]=r,this.m[1]=s,this.m[2]=n,this.m[3]=o},r.prototype.translate=function(t,i){this.m[4]+=this.m[0]*t+this.m[2]*i,this.m[5]+=this.m[1]*t+this.m[3]*i},r.prototype.translateAndRotate=function(t,i,e){var r=Math.cos(e),s=Math.sin(e),n=this.m[0]*r+this.m[2]*s,o=this.m[1]*r+this.m[3]*s,h=this.m[0]*-s+this.m[2]*r,a=this.m[1]*-s+this.m[3]*r;this.m[4]+=this.m[0]*t+this.m[2]*i,this.m[5]+=this.m[1]*t+this.m[3]*i,this.m[0]=n,this.m[1]=o,this.m[2]=h,this.m[3]=a},r.prototype.scale=function(t,i){this.m[0]*=t,this.m[1]*=t,this.m[2]*=i,this.m[3]*=i},r.prototype.transformPoint=function(t,i){var e=t,r=i;return t=e*this.m[0]+r*this.m[2]+this.m[4],i=e*this.m[1]+r*this.m[3]+this.m[5],[t,i]}},function(t,i){"use strict";var e=function(t,i){this.x=t||0,this.y=i||0};t.exports=e,e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(t){this.set(t.x,t.y)},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,i){this.x=t||0,this.y=i||0!==i?this.x:0}},function(t,i){"use strict";var e=function(t,i,e,r){this.x=t||0,this.y=i||0,this.width=e||0,this.height=r||0};t.exports=e},function(t,i,e){"use strict";var r=e(2),s=function(t,i,e,r,s,n){this.a=t||1,this.b=i||0,this.c=e||0,this.d=r||1,this.tx=s||0,this.ty=n||0};t.exports=s,s.prototype.toArray=function(t,i){this.array||(this.array=new Float32Array(9));var e=i||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty,e[8]=1):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0,e[8]=1),e},s.prototype.apply=function(t,i){i=i||new r;var e=t.x,s=t.y;return i.x=this.a*e+this.c*s+this.tx,i.y=this.b*e+this.d*s+this.ty,i},s.prototype.applyInverse=function(t,i){i=i||new r;var e=1/(this.a*this.d+this.c*-this.b),s=t.x,n=t.y;return i.x=this.d*e*s+-this.c*e*n+(this.ty*this.c-this.tx*this.d)*e,i.y=this.a*e*n+-this.b*e*s+(-this.ty*this.a+this.tx*this.b)*e,i},s.prototype.translate=function(t,i){return this.tx+=t,this.ty+=i,this},s.prototype.scale=function(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this},s.prototype.rotate=function(t){var i=Math.cos(t),e=Math.sin(t),r=this.a,s=this.c,n=this.tx;return this.a=r*i-this.b*e,this.b=r*e+this.b*i,this.c=s*i-this.d*e,this.d=s*e+this.d*i,this.tx=n*i-this.ty*e,this.ty=n*e+this.ty*i,this},s.prototype.append=function(t){var i=this.a,e=this.b,r=this.c,s=this.d;return this.a=t.a*i+t.b*r,this.b=t.a*e+t.b*s,this.c=t.c*i+t.d*r,this.d=t.c*e+t.d*s,this.tx=t.tx*i+t.ty*r+this.tx,this.ty=t.tx*e+t.ty*s+this.ty,this},s.prototype.setTransform=function(t,i,e,r,s,n,o){var h=Math.sin(o),a=Math.cos(o),c=a*s,u=h*s,d=-h*n,p=a*n;return this.a=c+d,this.b=u+p,this.c=c+d,this.d=u+p,this.tx=t+(e*c+r*d),this.ty=i+(e*u+r*p),this},s.prototype.prepend=function(t){var i=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var e=this.a,r=this.c;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this},s.prototype.invert=function(){var t=this.a,i=this.b,e=this.c,r=this.d,s=this.tx,n=t*r-i*e;return this.a=r/n,this.b=-i/n,this.c=-e/n,this.d=t/n,this.tx=(e*this.ty-r*s)/n,this.ty=-(t*this.ty-i*s)/n,this},s.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},s.prototype.clone=function(){var t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},s.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}},function(t,i){"use strict";var e=function(t,i,e){this.x=t||0,this.y=i||0,this.z=e||0};t.exports=e,e.prototype.set=function(t,i,e){return this.x=t,this.y=i,this.z=e,this},e.prototype.setX=function(t){return this.x=t,this},e.prototype.setY=function(t){return this.y=t,this},e.prototype.setZ=function(t){return this.z=t,this},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},e.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},e.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},e.prototype.subVectors=function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this},e.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this},e.prototype.multiplyScalar=function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},e.prototype.multiplyVectors=function(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this},e.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},e.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},e.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.prototype.setLength=function(t){return this.multiplyScalar(t/this.length())},e.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},e.prototype.normalize=function(){return this.divideScalar(this.length())},e.prototype.distanceToSquared=function(t){var i=this.x-t.x,e=this.y-t.y,r=this.z-t.z;return i*i+e*e+r*r},e.prototype.limit=function(t){return this.lengthSq()>t*t&&(this.normalize(),this.mult(t)),this},e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},function(t,i,e){"use strict";function r(t,i,e,r,s){var n=document.createElement("ul"),o="";n.id="years",n.style.zIndex=99999;for(var h=t;h<=i;h++){var a=document.createElement("li"),c=document.createTextNode(h);h===e&&(a.className="current",o=a),a.appendChild(c),n.appendChild(a),a.addEventListener("click",r,!1)}s(n,o)}function s(t,i,e){e=e||"current",t&&t.classList.remove(e),i.classList.add(e)}function n(t){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",r=0;r<t.length;){var s,n,o=255&t.charCodeAt(r++),h=255&t.charCodeAt(r++),a=255&t.charCodeAt(r++),c=o>>2,u=(3&o)<<4|h>>4;isNaN(h)?s=n=64:(s=(15&h)<<2|a>>6,n=isNaN(a)?64:63&a),e+=i.charAt(c)+i.charAt(u)+i.charAt(s)+i.charAt(n)}return e}var o={yearsMenu:r,resetCurrent:s,base64:n,canvas:e(7)};t.exports=o},function(t,i){"use strict";function e(t,i){var e=document.createElement("canvas"),r=e.getContext("2d");if(i=i||{},e.width=i.w||window.innerWidth,e.height=i.h||window.innerHeight,e.style.position=i.position||"absolute",e.style.top=i.top||0,e.style.left=i.left||0,e.style.zIndex=i.zi||9,i.css)for(var s in i.css)e.style[s]=i.css[s];return r.font=i.font||"12px Inconsolata",t&&t.appendChild(e),{container:t,canvas:e,w:e.width,h:e.height,ctx:r,center:{x:e.width/2,y:e.height/2}}}t.exports=e},function(t,i,e){"use strict";function r(t){var i=t.width||window.innerWidth,e=t.height||window.innerHeight,r=t.zoom||11;t.center?this.center={lon:t.center.lon,lat:t.center.lat}:this.center={},this.hasCenter=null,this.updateSize(i,e,r)}var s=e(1);r.prototype.updateSize=function(t,i,e){this.stageWidth=t,this.stageCenterY=i/2,this.zoom=e||this.zoom,this.zoomX=this.stageWidth*this.zoom,this.zoomY=this.stageCenterY*this.zoom,this.zoomRad=this.zoomX/360,this.newCenter(this.center.lon,this.center.lat)},r.prototype.newCenter=function(t,i){this.hasCenter=!1,this.convertCoordinates(t,i),this.hasCenter=!0},r.prototype.convertCoordinates=function(t,i){var e=+i*s.toRad,r=Math.log(Math.tan(s.QUARTER_PI+e/2)),n=(+t+180)*this.zoomRad,o=this.zoomY-this.zoomX*r/s.TWO_PI;return this.hasCenter?(n-=this.center.x,o-=this.center.y):(this.center.x=n,this.center.y=o),{x:n,y:o}},t.exports={Map:r}},function(t,i){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){var i=new o;return i.json(t)},s=function(t){var i=new o;return i.req.overrideMimeType("text/plain; charset=x-user-defined"),i.getD(t).then(function(t){return void 0!==t.ret?t:t.data}).catch(function(t){console.error(t)})},n=function(t){var i=new o;return i.req.responseType="arraybuffer",i.getD(t).then(function(t){return t}).catch(function(t){console.error("Error fetching audio file",t)})},o=function(){this.req=new XMLHttpRequest};t.exports={json:r,image:s,audio:n,DataRequest:o},o.prototype.abort=function(){this.req.abort()},o.prototype.json=function(t){return this.req.overrideMimeType("application/json"),this.getD(t).then(function(t){return void 0!==t.ret?(t.data=JSON.parse(t.data),t):JSON.parse(t.data)}).catch(function(t){console.error("Error in data request, reason:",t)})},o.prototype.getD=function(t){function i(){f.style.opacity=1,d.style.zIndex=9,n=f.querySelector(".loading-msg"),n||(n=document.createElement("p"),n.className="loading-msg",n.innerText=c,f.appendChild(n))}function r(t){if(t.lengthComputable){h||(o=f.querySelector(".progress"),o||(o=document.createElement("progress"),o.className="progress",o.style.zIndex=0,o.max=100,o.value=0,f.insertBefore(o,n),h=!0));var i=t.loaded/t.total*100;o.value=i,n.innerText=Math.floor(i)+"%\n"+c}else a.onprogress=null}function s(){p||(f.style.display="none"),d.style.zIndex=0}if("object"===("undefined"==typeof t?"undefined":e(t))){if(!t.url)return void console.error("The request did not receive a url, instead got",t.url)}else"string"==typeof t&&t.length>0&&(t={url:t});var n,o,h=!1,a=this.req,c=t.loadingMsg||"Loading",u=t.container||document.body,d=u.querySelector(".loading");d||(d=document.createElement("div"),d.className="loading",u.appendChild(d));var p=!!t.loadingEle,f=p?t.loadingEle:null;if(!f){var l=u.querySelector(".loading-ele");f=document.createElement("div"),f.className="loadingEle",l?d.insertBefore(l,f):d.appendChild(f)}return new Promise(function(e,n){a.open("GET",t.url,!0),a.onloadstart=i,a.onprogress=r,a.onloadend=s,a.onload=function(){200===a.status?e({data:a.response,ret:t.ret}):n(a.statusText)},a.onerror=function(){n("Network Error")},a.send(null)})}},function(t,i){"use strict";var e={rgbToHex:function(t,i,e){return"0x"+((1<<24)+(t<<16)+(i<<8)+e).toString(16).slice(1)},hexToRgb:function(t){var i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(i,function(t,i,e,r){return i+i+e+e+r+r});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},convertAlpha:function(t){var i=255/t,e=1/i;return e},getRGBA:function(t,i){return"rgba("+t.r+","+t.g+","+t.b+","+i+")"}};t.exports=e},function(t,i,e){"use strict";var r=e(9).audio,s=function(t,i){function e(t,i){function e(t){if(!t)return void console.error("Error decoding audio file:",i);var e=this.ctx.createBufferSource();e.buffer=t,h[i]=e,s()}function r(t){console.error("decodeAudioData error",t)}var n=this;this.ctx.decodeAudioData(t,e.bind(n),r)}function s(){o++,o===n&&i(h)}if(!t||"[object Object]"!==Object.prototype.toString.call(t))return console.error("The first parameter needs to be an Object.","Example:","{audio1: 'audio1.mp3', audio2: 'audio2.mp3'}");window.AudioContext=window.AudioContext||window.webkitAudioContext;var n=Object.keys(t).length,o=0,h={};this.ctx=new AudioContext;for(var a in t)r(t[a],e.bind(this),a,document.body,"Loading Audio")};s.prototype.source=function(t){var t=this.ctx.createBufferSource();return t.buffer=buffer,t.connect(this.gainNode),this.gainNode.connect(this.ctx.destination),t},t.exports={Audio:s}},function(t,i,e){"use strict";var r={Stage:e(13),Webgl:e(14)};t.exports=r},function(t,i,e){"use strict";var r=e(1),s=function(t,i,e){this.children=[],this.texture={},this.data=t,this.renderer=i,this.loadImg(t.url),this.setBatchSize(e)};t.exports=s,s.prototype.setBatchSize=function(t){var i=16384,e=15e3;t>i&&(t=i),t>e&&(t=e),this.batchSize=t},s.prototype.renderWebGL=function(t){t.currentRenderer.render(this)},s.prototype.bindTexture=function(){var t=this.renderer.gl,i=this.texture;return i.glTexture||(i.glTexture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,i.glTexture),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.img),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),i.mipmap&&i.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),i.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),!0},s.prototype.loadImg=function(t){this.img=new Image,this.img.onload=this.imgLoaded.bind(this),this.img.src=t},s.prototype.imgLoaded=function(){for(var t=this.img.naturalWidth,i=this.img.naturalHeight,e={loaded:!0,isPowerOfTwo:(0,r.isPowerOfTwo)(t,i)},s=[],n=0;n<this.data.frames.length;n++){var o=this.data.frames[n];s.push({width:o.w,height:o.h,uvs:[o.x/t,o.y/i,(o.x+o.w)/t,(o.y+o.h)/i]})}this.renderer.frames=s,this.texture=e,this.bindTexture(),this.data.cb&&this.data.cb()},s.prototype.particle=function(t){return t=t||{},t.scale=t.scale||new DDD.Point(1,1),t.alpha=t.alpha||1,t.rotation=t.rotation||0,t.x=t.x||0,t.y=t.y||0,t.frame=t.frame||0,this.children.push(t),this.children.length>this.batchSize&&this.setBatchSize(this.children.length),t}},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var s=e(15),n=r(s),o=e(16),h=r(o),a=function(t,i){this.container=t,i=i||{},this.width=i.width||window.innerWidth,this.height=i.height||window.innerHeight,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",t.appendChild(this.canvas);var e=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl",ctxOptions);this.gl=e,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.renderTarget=new n.default(e,this.width,this.height),this.currentRenderer=new h.default(e,this),this.resize(this.width,this.height)};t.exports=a,a.prototype.render=function(t){t.renderWebGL(this)},a.prototype.resize=function(t,i){this.width=this.canvas.width=t,this.height=this.canvas.height=i,this.gl.viewport(0,0,t,i)}},function(t,i,e){"use strict";var r=e(1),s=function(t,i,e){this.gl=t,this.size=new r.Rectangle(0,0,1,1),this.projectionMatrix=new r.Matrix,this.resize(i,e)};t.exports=s,s.prototype.resize=function(t,i){if(t|=0,i|=0,this.size.width!==t||this.size.height!==i){this.size.width=t,this.size.height=i;var e=this.projectionMatrix.identity();e.a=2/this.size.width,e.d=-2/this.size.height,e.tx=-1,e.ty=1}}},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var s=e(17),n=r(s),o=function(t,i){this.renderer=i,this.gl=t,this.start()};t.exports=o,o.prototype.start=function(){var t=this.gl,i=new n.default(t);this.properties=[{attribute:i.attributes.aVertexPosition,size:2},{attribute:i.attributes.aPositionCoord,size:2},{attribute:i.attributes.aRotation,size:1},{attribute:i.attributes.aTextureCoord,size:2},{attribute:i.attributes.aAlpha,size:1}];for(var e=0;e<this.properties.length;e++)t.enableVertexAttribArray(e);var r=this.renderer.renderTarget.projectionMatrix;t.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,r.toArray(!0))},o.prototype.render=function(t){var i=(t.texture,t.children),e=i.length,r=t.maxSize;this.size=t.batchSize;var s=this.gl;if(0!==e){if(e>r&&(e=r),!this.data){this.initBuffers();for(var n=0;n<this.properties.length;n++){var o=this.properties[n];s.vertexAttribPointer(o.attribute,o.size,s.FLOAT,!1,4*this.stride,4*o.offset)}}this.updateData(i,e),s.bufferSubData(s.ARRAY_BUFFER,0,this.data),s.drawElements(s.TRIANGLES,6*e,s.UNSIGNED_SHORT,0)}},o.prototype.initBuffers=function(){var t=this.gl,i=0;this.stride=0;for(var e=0;e<this.properties.length;e++){var r=this.properties[e];r.offset=i,i+=r.size,this.stride+=r.size}this.data=new Float32Array(this.size*this.stride*4),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,this.data,t.DYNAMIC_DRAW);for(var s=6*this.size,n=new Uint16Array(s),e=0,o=0;e<s;e+=6,o+=4)n[e]=o,n[e+1]=o+1,n[e+2]=o+2,n[e+3]=o,n[e+4]=o+2,n[e+5]=o+3;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)},o.prototype.updateData=function(t,i){for(var e=(this.stride,0),r=this.data,s=this.renderer.frames,n=0;n<i;n++){var o=t[n],h=s[o.frame],a=h.width*o.scale,c=h.height*o.scale,u=o.x,d=o.y,p=o.rotation,f=h.uvs,l=o.alpha;r[e]=-a,r[++e]=-c,r[++e]=u,r[++e]=d,r[++e]=p,r[++e]=f[0],r[++e]=f[1],r[++e]=l,r[++e]=a,r[++e]=-c,r[++e]=u,r[++e]=d,r[++e]=p,r[++e]=f[2],r[++e]=f[1],r[++e]=l,r[++e]=a,r[++e]=c,r[++e]=u,r[++e]=d,r[++e]=p,r[++e]=f[2],r[++e]=f[3],r[++e]=l,r[++e]=-a,r[++e]=c,r[++e]=u,r[++e]=d,r[++e]=p,r[++e]=f[0],r[++e]=f[3],r[++e]=l,e++}}},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var s=e(18),n=r(s),o=e(19),h=r(o),a=function(t){this.gl=t,this.uniforms={projectionMatrix:{}},this.attributes={};var i=t.createShader(t.VERTEX_SHADER);t.shaderSource(i,n.default),t.compileShader(i);var e=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(e,h.default),t.compileShader(e);var r=t.createProgram();t.attachShader(r,i),t.attachShader(r,e),t.linkProgram(r),t.deleteShader(i),t.deleteShader(e),this.program=r,t.useProgram(r),this.cacheUniformLocations(["projectionMatrix"]),this.cacheAttributeLocations(["aVertexPosition","aTextureCoord","aAlpha","aPositionCoord","aRotation"])};t.exports=a,a.prototype.cacheUniformLocations=function(t){for(var i=0;i<t.length;++i)this.uniforms[t[i]]._location=this.gl.getUniformLocation(this.program,t[i])},a.prototype.cacheAttributeLocations=function(t){for(var i=0;i<t.length;++i)this.attributes[t[i]]=this.gl.getAttribLocation(this.program,t[i])}},function(t,i){t.exports="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aAlpha;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying float vAlpha;\n\nvoid main(void){\n  float cosine = cos(aRotation);\n  float sine = sin(aRotation);\n\n  vec3 v;\n  v.x = aVertexPosition.x * cosine - aVertexPosition.y * sine;\n  v.y = aVertexPosition.x * sine + aVertexPosition.y * cosine;\n  v.z = 1.0;\n\n  // Move\n  v.xy += aPositionCoord;\n\n  gl_Position = vec4(projectionMatrix * v, 1.0);\n\n  vTextureCoord = aTextureCoord;\n  vAlpha = aAlpha;\n}"},function(t,i){t.exports="precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying float vAlpha;\n\nuniform sampler2D uImage;\n\nvoid main(void){\n  vec4 color = texture2D(uImage, vTextureCoord) * vAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}"}]);
//# sourceMappingURL=ddd.min.js.map