!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n="/img/assets/vistaMemory/";this.memories=[],this.mnemonics=[n+"golpe1.png",n+"mono.jpg",n+"caida1.jpg",n+"golpe2.jpg"],this.stage=DDD.canvas(e),this.stage.canvas.id="memory",this.stage.canvas.style.zIndex=0,this.loadMemories()}return i(t,[{key:"invokeStatic",value:function(){var t=this,e=this.stage.ctx;setTimeout(function(){var n=DDD.random(0,t.memories.length);e.clearRect(0,0,t.stage.w,t.stage.h),e.drawImage(t.memories[n].img,0,0),t.invokeStatic()},1e4)}},{key:"updateOpacity",value:function(t){this.stage.ctx.globalAlpha=t/2}},{key:"loadMemories",value:function(){var t=this;this.mnemonics.forEach(function(e){var n=new Image;n.onload=function(){t.memories.push({img:n,w:n.naturalWidth,h:n.naturalHeight})},n.src=e})}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){this.container=document.createElement("div"),this.container.id="credits",Object.assign(this.container.style,{position:"absolute",width:"100%",height:"100%",backgroundColor:"white",top:0,left:0,zIndex:999999});var t=document.createElement("h1");t.innerText="Vista al Mar",this.container.appendChild(t),document.body.appendChild(this.container)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.playing=!0,this.a={},this.btn=document.createElement("div"),this.audio=new DDD.Audio({mar:"http://juancgonzalez.com/dddrawings/audio/mar.mp3"},function(t){this.loaded(t)}.bind(this)),Object.assign(this.btn.style,{position:"absolute",zIndex:9999999,bottom:"20px",left:"20px",cursor:"pointer",backgroundImage:"url(/img/assets/icons/audio.png)",display:"block",width:"28px",height:"25px",backgroundRepeat:"no-repeat",backgroundSize:"cover"}),document.body.appendChild(this.btn),this.btn.onclick=this.toggle.bind(this)}return i(t,[{key:"loaded",value:function(t){this.a=t,t.mar.volume=1,t.mar.loop=!0,t.mar.start(0)}},{key:"toggle",value:function(){this.playing?(this.audio.ctx.suspend(),this.btn.style.backgroundPosition="right"):(this.audio.ctx.resume(),this.btn.style.backgroundPosition="left"),this.playing=!this.playing}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.latLng2Point=function(t,e){var n=e.getProjection().fromLatLngToPoint(e.getBounds().getNorthEast()),i=e.getProjection().fromLatLngToPoint(e.getBounds().getSouthWest()),a=Math.pow(2,e.getZoom()),o=e.getProjection().fromLatLngToPoint(t);return new google.maps.Point((o.x-i.x)*a,(o.y-n.y)*a)},e.point2Coords=function(t,e){var n=e.getProjection().fromLatLngToPoint(e.getBounds().getNorthEast()),i=e.getProjection().fromLatLngToPoint(e.getBounds().getSouthWest()),a=Math.pow(2,e.getZoom()),o=new google.maps.Point(t.x/a+i.x,t.y/a+n.y),r=e.getProjection().fromPointToLatLng(o);return{lat:r.lat(),lng:r.lng()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(9);var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.animReq,this.mapLoaded=!1,this.imgLoaded=!1,this.layer=document.createElement("div"),this.layer.id="googleMap",Object.assign(this.layer.style,{position:"absolute",left:0,top:0,width:"100%",height:"100%",transition:"none"}),this.container.appendChild(this.layer)}return i(t,[{key:"init",value:function(){this.map=new google.maps.Map(this.layer,{center:{lat:10.398683,lng:-75.475911},scrollwheel:!1,zoom:17,disableDefaultUI:!0}),this.waitMapToLoad(),this.gallo=new Image,this.gallo.onload=this.onImageLoaded.bind(this),this.gallo.src="/img/assets/backgrounds/elGallo.png"}},{key:"onImageLoaded",value:function(){this.mapOver=DDD.canvas(this.container,{w:this.gallo.naturalWidth,h:this.gallo.naturalHeight,left:window.innerWidth/2-this.gallo.naturalWidth/2-40+"px",top:window.innerHeight/2-this.gallo.naturalHeight/2+24+"px",css:{opacity:0,transition:"5s opacity ease-in-out",zIndex:999}}),this.mapOver.canvas.id="galloMap",this.mapOver.ctx.drawImage(this.gallo,0,0),this.imgLoaded=!0}},{key:"checkAssetsLoaded",value:function(){this.imgLoaded?(this.render(),window.cancelAnimationFrame(this.animReq)):this.animReq=requestAnimationFrame(this.checkAssetsLoaded.bind(this))}},{key:"waitMapToLoad",value:function(t){google.maps.event.addListenerOnce(this.map,"idle",this.checkAssetsLoaded.bind(this))}},{key:"render",value:function(){var t=this;this.mapOver.canvas.style.opacity=1,this.mapOver.canvas.onclick=function(e){var n={x:e.clientX,y:e.clientY},i=(0,a.point2Coords)(n,t.map),o=t.map.getStreetView();return o.setPosition({lat:i.lat,lng:i.lng}),o.setPov(),o.setVisible(!0),t.mapOver.canvas.style.display="none",t.layer.style.zIndex=90,!1}}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=DDD.canvas(e),this.layer.canvas.id="mask",this.layer.canvas.style.pointerEvents="none",this.layer.canvas.style.zIndex=99,this.draw()}return i(t,[{key:"resize",value:function(){this.draw()}},{key:"draw",value:function(){var t=this.layer.ctx,e=this.layer.canvas.width=window.innerWidth,n=this.layer.canvas.height=window.innerHeight;t.fillStyle="white",t.fillRect(0,0,e,n),t.globalCompositeOperation="destination-out",t.filter="blur(70px)",t.beginPath(),t.ellipse(e/2,n/2,e/2.5,n/2.5,0,0,2*Math.PI),t.fill(),t.globalCompositeOperation="source-over"}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.stage=DDD.canvas(t,{h:60}),this.stage.canvas.style.zIndex=9999};e.default=i,i.prototype.bindData=function(t){this.data=t,this.stepX=this.stage.w/t.length},i.prototype.init=function(){var t=this.stage.ctx,e=0,n=3e3,i=this.data.length;t.strokeStyle="rgba(0, 0, 0, 0.01)";var a=this;!function o(){if(e<i){for(var r=e;r<e+n;r++)a.update(r);e+=n,requestAnimationFrame(o)}else t.strokeStyle="rgba(255, 0, 0, 0.01)"}()},i.prototype.update=function(t){var e=this.stage.ctx,n=this.data[t],i=t*this.stepX;e.beginPath(),e.moveTo(i,0),e.lineTo(i,-500+n),e.stroke()},i.prototype.getNewI=function(t){return t/this.stepX|0}},function(t,e,n){"use strict";var i=l(n(12)),a=l(n(11)),o=l(n(10)),r=l(n(8)),s=(l(n(7)),l(n(6)));function l(t){return t&&t.__esModule?t:{default:t}}var c=document.getElementById("ddd-container"),u=new i.default(c),d=new a.default(c),h=new o.default(c),f=(new r.default,new s.default(c));window.init=function(){h.init()};var g=void 0,p=[],m=0,v=0,y=563,b=1/(y-462);DDD.json("/data/pulse/heart.2.json").then(function(t){for(var e=0;e<t.beats.length;e++){var n=t.beats[e];"S"===n.charAt(0)&&p.push(+n.substr(1))}!0,m=p.length,u.bindData(p),u.init(),w(),f.invokeStatic()}).catch(function(t){console.error(t)});function w(){if(v<m){var t=p[v],e=(y-t)*b;h.layer.style.opacity=e,f.updateOpacity(e),u.update(v),v++}else window.cancelAnimationFrame(g);g=requestAnimationFrame(w)}u.stage.canvas.onclick=function(t){return v=u.getNewI(t.clientX),!1},window.onresize=function(t){d.resize()}}]);