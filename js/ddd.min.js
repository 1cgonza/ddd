!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){var e={name:"Data Driven Drawings",math:n(1),Transform:n(1).Transform,random:n(1).random,getPercent:n(1).getPercent,sizeFromPercentage:n(1).sizeFromPercentage,canvas:n(2),html:n(3),yearsMenu:n(3).yearsMenu,resetCurrent:n(3).resetCurrent,base64:n(3).base64,Map:n(4),DataRequest:n(5).DataRequest,json:n(5).json,image:n(5).image,color:n(6),hexToRgb:n(6).hexToRgb,rgbToHex:n(6).rgbToHex,convertAlpha:n(6).convertAlpha};t.DDD=e}).call(e,function(){return this}())},function(t,e){function n(t,e,n){var i=Math.floor(Math.random()*(e-t))+t;return n&&(i=Math.random()*(e-t)+t),i}function i(t,e){return t/100*e}function s(t,e){return t/e*100}function o(){this.reset()}var r={PI:Math.PI,TWO_PI:2*Math.PI,QUARTER_PI:Math.PI/4,toRad:Math.PI/180,random:n,Transform:o,sizeFromPercentage:i,getPercent:s};t.exports=r,o.prototype.reset=function(){this.m=[1,0,0,1,0,0]},o.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],s=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],r=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=r},o.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,i=-this.m[2]*t,s=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),r=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=r},o.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[0]*e+this.m[2]*n,s=this.m[1]*e+this.m[3]*n,o=this.m[0]*-n+this.m[2]*e,r=this.m[1]*-n+this.m[3]*e;this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=r},o.prototype.translate=function(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e},o.prototype.translateAndRotate=function(t,e,n){var i=Math.cos(n),s=Math.sin(n),o=this.m[0]*i+this.m[2]*s,r=this.m[1]*i+this.m[3]*s,h=this.m[0]*-s+this.m[2]*i,a=this.m[1]*-s+this.m[3]*i;this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this.m[0]=o,this.m[1]=r,this.m[2]=h,this.m[3]=a},o.prototype.scale=function(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e},o.prototype.transformPoint=function(t,e){var n=t,i=e;return t=n*this.m[0]+i*this.m[2]+this.m[4],e=n*this.m[1]+i*this.m[3]+this.m[5],[t,e]}},function(t,e){function n(t,e){var n=document.createElement("canvas"),i=n.getContext("2d");if(e=e||{},n.width=e.w||window.innerWidth,n.height=e.h||window.innerHeight,n.style.position=e.position||"absolute",n.style.top=e.top||0,n.style.left=e.left||0,n.style.zIndex=e.zi||9,e.css)for(var s in e.css)n.style[s]=e.css[s];return i.font=e.font||"12px Inconsolata",t&&t.appendChild(n),{container:t,canvas:n,w:n.width,h:n.height,ctx:i,center:{x:n.width/2,y:n.height/2}}}t.exports=n},function(t,e){function n(t,e,n,i,s){var o=document.createElement("ul"),r="";o.id="years",o.style.zIndex=99999;for(var h=t;e>=h;h++){var a=document.createElement("li"),m=document.createTextNode(h);h===n&&(a.className="current",r=a),a.appendChild(m),o.appendChild(a),a.addEventListener("click",i,!1)}s(o,r)}function i(t,e,n){n=n||"current",t.classList.remove(n),e.classList.add(n)}function s(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",i=0;i<t.length;){var s,o,r=255&t.charCodeAt(i++),h=255&t.charCodeAt(i++),a=255&t.charCodeAt(i++),m=r>>2,c=(3&r)<<4|h>>4;isNaN(h)?s=o=64:(s=(15&h)<<2|a>>6,o=isNaN(a)?64:63&a),n+=e.charAt(m)+e.charAt(c)+e.charAt(s)+e.charAt(o)}return n}var o={yearsMenu:n,resetCurrent:i,base64:s};t.exports=o},function(t,e,n){function i(t){var e=t.width||window.innerWidth,n=t.height||window.innerHeight,i=t.zoom||11;t.center?this.center={lon:t.center.lon,lat:t.center.lat}:this.center={},this.hasCenter=null,this.updateSize(e,n,i)}var s=n(1);i.prototype.updateSize=function(t,e,n){this.stageWidth=t,this.stageCenterY=e/2,this.zoom=n||this.zoom,this.zoomX=this.stageWidth*this.zoom,this.zoomY=this.stageCenterY*this.zoom,this.zoomRad=this.zoomX/360,this.newCenter(this.center.lon,this.center.lat)},i.prototype.newCenter=function(t,e){this.hasCenter=!1,this.convertCoordinates(t,e),this.hasCenter=!0},i.prototype.convertCoordinates=function(t,e){var n=+e*s.toRad,i=Math.log(Math.tan(s.QUARTER_PI+n/2)),o=(+t+180)*this.zoomRad,r=this.zoomY-this.zoomX*i/s.TWO_PI;return this.hasCenter?(o-=this.center.x,r-=this.center.y):(this.center.x=o,this.center.y=r),{x:o,y:r}},t.exports=i},function(t,e){function n(){this.oReq=new XMLHttpRequest}function i(t,e,i,s,o,r){var h=new n;h.json(t,e,i,s,o)}function s(t,e,i,s,o,r){(new n).getD(t,e,i,"text/plain; charset=x-user-defined",s,o)}n.prototype.abort=function(){this.oReq.abort()},n.prototype.json=function(t,e,n,i,s,o){this.getD(t,e,n,"application/json",i,s,o)},n.prototype.getD=function(t,e,n,i,s,o,r){function h(t){if(t.lengthComputable){d||(c=document.createElement("progress"),c.className="progress",c.style.zIndex=0,c.value=0,c.max=100,r.insertBefore(c,u),d=!0);var e=t.loaded/t.total*100;c.value=e,u.innerText=Math.floor(e)+"%\n"+o}else c=document.createElement("div"),c.className="no-progress",r.insertBefore(c,u),this.oReq.onprogress=null}function a(){l||(r.style.opacity=0),r.style.zIndex=0}function m(){r.style.zIndex=9,u=document.createElement("p"),u.className="loading-msg",u.innerText=o,r.appendChild(u),s.appendChild(r)}var c,u,l=!1,d=!1;r?(l=!0,r=r):r=document.createElement("div"),r.className="loading",o=o||"",s=s||document.body,this.oReq.onloadstart=m,this.oReq.onprogress=h.bind(this),this.oReq.onloadend=a,this.oReq.onload=function(){var t=this.oReq.responseText;"application/json"===i&&(t=JSON.parse(t)),e(t,n)}.bind(this),this.oReq.onerror=function(t){console.error("Error loading file",t)},this.oReq.onabort=function(){},this.oReq.open("GET",t,!0),i&&this.oReq.overrideMimeType(i),this.oReq.send(null)},t.exports={DataRequest:n,json:i,image:s}},function(t,e){function n(t,e,n){return"0x"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)}function i(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,n,i){return e+e+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function s(t){var e=255/t,n=1/e;return n}function o(t,e){return"rgba("+t.r+","+t.g+","+t.b+","+e+")"}var r={hexToRgb:i,rgbToHex:n,convertAlpha:s,getRGBA:o};t.exports=r}]);